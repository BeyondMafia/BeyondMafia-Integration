{"version":3,"sources":["Constants.jsx","Contexts.jsx","components/Alerts.jsx","components/Emotes.jsx","lib/profanity.js","json/slurs.js","json/swears.js","components/Basic.jsx","components/Dropdown.jsx","utils.jsx","components/Nav.jsx","pages/Loading.jsx","pages/Game/MafiaGame.jsx","pages/Game/SplitDecisionGame.jsx","pages/Game/ResistanceGame.jsx","pages/Game/OneNightGame.jsx","components/Form.jsx","pages/Landing.jsx","pages/Community/Forums/Categories.jsx","components/Modal.jsx","pages/Community/Forums/Board.jsx","pages/Community/Forums/Thread.jsx","pages/Community/Forums/Forums.jsx","pages/Community/Comments.jsx","pages/Play/Join.jsx","pages/Play/Host/Host.jsx","pages/Play/Host/HostMafia.jsx","pages/Play/CreateSetup/CreateSetup.jsx","pages/Play/CreateSetup/CreateMafiaSetup.jsx","pages/Play/Learn/LearnMafia.jsx","pages/Play/Host/HostSplitDecision.jsx","pages/Play/CreateSetup/CreateSplitDecisionSetup.jsx","pages/Play/Learn/LearnSplitDecision.jsx","pages/Play/Host/HostResistance.jsx","pages/Play/CreateSetup/CreateResistanceSetup.jsx","pages/Play/Learn/LearnResistance.jsx","pages/Play/Host/HostOneNight.jsx","pages/Play/CreateSetup/CreateOneNightSetup.jsx","pages/Play/Learn/LearnOneNight.jsx","pages/Play/Host/HostJotto.jsx","pages/Play/CreateSetup/CreateJottoSetup.jsx","pages/Play/Learn/LearnJotto.jsx","pages/Play/Play.jsx","components/Roles.jsx","components/Setup.jsx","pages/User/Profile.jsx","pages/User/Settings.jsx","pages/User/Shop.jsx","pages/User/User.jsx","pages/Game/JottoGame.jsx","Socket.js","pages/Game/Game.jsx","pages/Community/UserSearch.jsx","pages/Community/Moderation.jsx","pages/Community/Community.jsx","pages/Auth/LogIn.jsx","pages/Auth/SignUp.jsx","pages/Auth/Auth.jsx","pages/Legal/PrivacyPolicy.jsx","pages/Legal/TermsOfService.jsx","pages/Legal/Legal.jsx","components/Popover.jsx","pages/Chat/Chat.jsx","pages/Chat/EmoteList.jsx","Main.jsx","index.jsx"],"names":["GameTypes","Lobbies","Alignments","GameStates","RatingThresholds","JottoLegalWords","UserContext","React","createContext","SiteInfoContext","PopoverContext","GameContext","useSiteInfo","initData","_useReducer","useReducer","siteInfo","action","newSiteInfo","type","prop","value","update","_defineProperty","$set","text","alerts","length","$push","alertType","id","$splice","index","i","_useReducer2","_slicedToArray","updateSiteInfo","setSiteInfoProp","_objectSpread","showAlert","noFade","alertId","Math","random","setTimeout","alert","document","getElementById","concat","style","opacity","fadeAlert","hideAlert","hideAllAlerts","clearCache","cacheVal","Date","now","window","localStorage","setItem","AlertList","props","useContext","map","createElement","Alert","onHide","key","className","onClick","useErrorAlert","siteInfoContext","e","message","response","data","Emote","emoteKey","emote","toLowerCase","Emotes","title","name","backgroundImage","emotify","Array","isArray","segment","words","split","j","word","flat","_Emotes","Object","keys","createProfanityRegexps","join","String","raw","_templateObject","_taggedTemplateLiteral","RegExp","_templateObject2","slurRegexps","swearRegexps","leetMappings","filterProfanitySegment","profanityType","char","profanityRegexps","mappedSegment","num","replaceAll","_step2","_iterator2","_createForOfIteratorHelper","s","n","done","profanityRegex","regexRes","exec","indexOf","slice","repeat","err","f","ItemList","itemRows","items","PanelGrid","panels","panel","icon","Time","unit","millisec","suffix","minSec","units","scale","floor","NotificationHolder","notifCount","lOffset","ref","fwdRef","Fragment","children","UserText","_useState","useState","_useState2","content","setContent","useEffect","filterProfanity","settings","profChar","linkify","linkRegex","_segment","lastIndex","push","href","target","iconUsername","players","trim","_loop","replaced","charAt","checkName","substring","matchedPlayer","values","find","curPlayer","avatar","InlineAvatar","url","userId","username","disablePg13Censor","disableAllCensors","useOnOutsideClick","refs","onOutsideClick","_step","_iterator","current","contains","addEventListener","removeEventListener","Dropdown","_useDropdown","useDropdown","_useDropdown2","menuVisible","setMenuVisible","dropdownContainerRef","dropdownMenuRef","selOption","options","filter","option","selLabel","label","menuItems","optionId","onChange","placeholder","caret","useRef","useLayoutEffect","containerRect","getBoundingClientRect","menuRect","menuLeft","left","menuTop","top","height","scrollY","menuHorzShift","innerWidith","width","innerHeight","visibility","_regeneratorRuntime","exports","Op","prototype","hasOwn","hasOwnProperty","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","record","result","__await","then","unwrapped","error","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","undefined","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","val","object","reverse","pop","skipTempReset","prev","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","hyphenDelimit","roleName","replace","adjustColor","hexColor","contrastVal","colorScheme","colorAutoScheme","documentElement","classList","matchMedia","matches","colorContrast","flipTextColor","hslColor","H","r","g","b","cmin","min","cmax","max","delta","h","l","round","abs","toFixed","hexToHSL","hslVals","difference","parseInt","match","c","x","m","toString","HSLToHex","camelCase","string","subStrings","toUpperCase","pad","amt","dateToHTMLString","date","day","toLocaleDateString","time","toTimeString","verifyRecaptcha","_x","_verifyRecaptcha","apply","arguments","_asyncToGenerator","_callee2","_context2","res","rej","grecaptcha","ready","_callee","token","_context","execute","process","axios","post","t0","console","log","setCaptchaVisible","visible","el","getElementsByClassName","Nav","SubNav","links","link","hide","NavLink","exact","to","path","showFilter","filterSel","filterOptions","onFilter","filterIcon","PageNav","page","maxPage","range","onNav","inverted","noRange","sel","list","changed","unshift","pages","updatePages","pageNums","getPageNavFilterArg","newPage","oldPage","pageItems","sortField","filterArg","SearchBar","event","onInput","LoadingPage","ReactLoading","color","MafiaGame","game","history","updateHistory","stateViewing","updatePlayers","updateStateViewing","isSpectator","playBellRef","meetings","states","audioFileNames","stateEvents","audioLoops","audioOverrides","audioVolumes","currentState","loadAudioFiles","review","useSocketListeners","socket","on","playAudio","winners","TopBar","gameType","setup","spectatorCount","setLeave","finished","setShowSettingsModal","setRehostId","noLeaveRef","dev","gameName","timer","Timer","timers","ThreePanelLayout","leftPanelContent","PlayerList","activity","SpeechFilter","filters","speechFilters","setFilters","setSpeechFilters","centerPanelContent","TextMeetingLayout","setTyping","agoraClient","localAudioTrack","setActiveVoiceChannel","muted","setMuted","deafened","setDeafened","rightPanelContent","ActionList","lastWill","LastWillEntry","Notes","SplitDecisionGame","ResistanceGame","ScoreKeeper","numMissions","missionRecord","extraInfo","SideMenu","scrollable","MissionInfo","Score","score","MissionHistory","missionHistory","ScoreBox","team","scoreValue","missionHistoryView","success","numFails","teamMembers","OneNightGame","Form","field","localOnly","Number","onDChange","formFields","fields","showIf","disabled","deps","fieldWrapperClass","fixed","saveBtn","highlight","select","saveBtnDiffer","confirm","saveBtnOnClick","step","Switch","ColorPicker","default","alpha","noReset","selectedValue","user","DatePicker","format","calendarAriaLabel","clearAriaLabel","dayAriaLabel","monthAriaLabel","nativeInputAriaLabel","maxDetail","submitText","onSubmit","picking","setPicking","pickerRef","backgroundColor","ChromePicker","disableAlpha","onChangeComplete","hex","HiddenUpload","inputRef","shouldInput","click","onFileUpload","files","useForm","initialFormFields","_useState3","initFields","actions","newFormFields","_toConsumableArray","_step3","newField","_iterator3","updateFields","_step4","updates","_iterator4","SearchSelect","setValue","_useState5","_useState6","inputValue","setInputValue","_useState7","_useState8","optionsVisible","setOptionsVisible","_useState9","_useState10","hoveringOptions","setHoveringOptions","_useState11","_useState12","matchingOptions","setMatchingOptions","searchSelectRef","optionsRef","searchSelectRect","optionsRect","optionsTop","includes","onOptionClick","tabIndex","onFocus","onBlur","onInputChange","onKeyDown","onMouseEnter","onMouseLeave","UserSearchSelect","_useState13","_useState14","setOptions","_useState15","_useState16","idMap","setIdMap","_useState17","_useState18","query","setQuery","_useState19","_useState20","valueName","setValueName","get","_step5","newIdMap","_iterator5","userData","assign","TextEditor","_useState21","_useState22","tab","setTab","ReactMde","selectedTab","onTabChange","classes","generateMarkdownPreview","markdown","ReactMarkdown","source","LandingPage","Link","Categories","categoryInfo","setCategoryInfo","_useState4","loaded","setLoaded","errorAlert","sortItems","a","position","updateForumNavInfo","categories","sort","category","boards","board","newestThreads","thread","NameWithAvatar","small","author","ViewsAndReplies","viewCount","replyCount","recentReplies","reply","postDate","description","Modal","show","onBgClick","header","footer","Board","boardInfo","setBoardInfo","showCreateModal","setShowCreateModal","newThreadTitle","setNewThreadTitle","newThreadContent","setNewThreadContent","boardPage","setBoardPage","sortType","redirect","setRedirect","boardId","useParams","onBoardPageNav","threads","threadRowsMap","deleted","VoteWidget","item","itemType","itemHolder","setItemHolder","itemKey","locked","pinned","groups","Redirect","pinnedThreads","CreateThreadModal","setShow","threadTitle","setThreadTitle","threadContent","setThreadContent","perms","createThread","onCancel","Thread","threadInfo","setThreadInfo","showReplyForm","setShowReplyForm","replyContent","setReplyContent","setPage","scrolled","setScrolled","replyFormRef","threadId","location","useLocation","params","URLSearchParams","search","onReplyClick","postInLocked","newContent","quotedContent","scrollIntoView","onThreadPageNav","replies","boardName","Post","postInfo","voteItem","voteItemHolder","setVoteItemHolder","permaLink","onDelete","onRestore","onEdit","onNotifyToggled","replyNotify","onPinToggled","onLockToggled","hasTitle","body","scrollTop","scrollHeight","pageCount","editing","setEditing","editContent","setEditContent","lines","line","hideDeleted","pinThreads","lockThreads","deleteAnyPost","deleteOwnPost","editPost","navigator","clipboard","writeText","origin","postReply","restoreDeleted","_axios$post3","Forums","_useForumNavInfo","newInfo","_useForumNavInfo2","forumNavInfo","ForumNav","Route","render","voters","setVoters","hovered","setHovered","onVote","itemId","direction","vote","newItem","newDirection","updateDirection","newItems","reduce","v","VoterList","upvoters","voter","voterName","downvoters","viewsPlural","repliesPlural","Comments","comments","setComments","showInput","setShowInput","postContent","setPostContent","onCommentsPageNav","_page","comment","commentRows","Comment","loggedIn","Join","listType","setListType","games","setGames","useHistory","getItem","lobby","setLobby","getGameList","_listType","lobbyNav","_lobby","pathname","TopBarLink","GameRow","refresh","odd","empty","Announcements","linkPath","buttonText","reserved","setReserved","infoRef","popover","buttonClass","status","scheduled","spectating","canSpectateAny","broken","private","gameId","hostId","PlayerCount","Setup","maxRolesCount","ranked","voiceChat","stateLengths","stateName","guests","readyCheck","JSON","parse","gameTypeOptions","stopPropagation","circles","total","announcements","setAnnouncements","onPageNav","announcementRows","announcement","mod","Host","selSetup","setSelSetup","updateFormFields","onHostGame","setPageCount","searchVal","setSearchVal","setups","setSetups","getSetupList","onFavSetup","favSetup","newSetups","favorite","onEditSetup","onDelSetup","hostButtons","onHostNavClick","SetupRow","onSelect","onFav","onDel","args","selIconFormat","favIconFormat","HostMafia","defaults","dayLength","nightLength","extendLength","_useForm","_useForm2","getFormFieldValue","stringify","CreateSetup","roleSets","closedField","resetFormFields","formFieldValueMods","onCreateSetup","selRoleSet","setSelRoleSet","modifier","setModifier","roleData","newRoleData","roles","closed","roleSet","role","splice","updateRoleData","formFieldChanges","valueMod","alignment","count","RoleCount","RoleSetRow","modifiers","RoleSearch","onAddClick","CreateMafiaSetup","startState","dawn","whispers","leakPercentage","mustAct","noReveal","votesInvisible","unique","LearnMafia","HostSplitDecision","getTime","CreateSplitDecisionSetup","swapAmt","roundAmt","LearnSplitDecision","HostResistance","CreateResistanceSetup","firstTeamSize","lastTeamSize","teamFailLimit","LearnResistance","CreateOneNightSetup","excessRoles","LearnOneNight","HostJotto","CreateJottoSetup","LearnJotto","Play","inLobby","setGameType","HostOneNight","active","roleRef","isRolePrediction","makeRolePrediction","hideCount","roleClass","bg","showPopover","showSecondaryHover","onHover","clientY","roleListType","setRoleListType","roleCellRefs","alignButtons","roleCells","roleCellEl","onRoleCellClick","roleCounts","multi","setupRef","overSize","roleNames","GameIcon","SmallRoleList","GameStateIcon","iconName","Profile","_mafiaStats$wins2","_mafiaStats$wins3","_mafiaStats$wins4","_mafiaStats$abandons2","profileLoaded","setProfileLoaded","setName","setAvatar","banner","setBanner","bio","setBio","oldBio","setOldBio","editingBio","setEditingBio","isFriend","setIsFriend","setSettings","accounts","setAccounts","recentGames","setRecentGames","_useState23","_useState24","createdSetups","setCreatedSetups","_useState25","_useState26","bustCache","setBustCache","_useState27","_useState28","friendsPage","setFriendsPage","_useState29","_useState30","setMaxFriendsPage","_useState31","_useState32","friends","setFriends","_useState33","_useState34","friendRequests","setFriendRequests","_useState35","_useState36","stats","setStats","_useState37","_useState38","setGroups","_useState39","_useState40","showStatsModal","setShowStatsModal","_useState41","_useState42","embedId","setEmbedId","_useState43","_useState44","autoplay","setAutoplay","isSelf","isBlocked","blockedUsers","formData","FormData","append","onFriendsPageNav","youtubeRegex","maxFriendsPage","youtube","_res$data$settings$yo","videoMatches","panelStyle","bannerStyle","bannerFormat","backgroundSize","ratings","totalGames","all","_mafiaStats$wins","_mafiaStats$abandons","mafiaStats","wins","abandons","statName","stat","letter","letters","pieChartData","labels","datasets","hoverOffset","recentGamesRows","createdSetupRows","friendRequestRows","_userId","newFriendRequests","u","friendRows","friend","friendId","lastActive","StatsModal","itemsOwned","customProfile","Avatar","large","hasImage","edit","onUpload","Badges","blockUserToggle","discord","showDiscord","twitch","showTwitch","steam","showSteam","YouTubeEmbed","Doughnut","statsRowNames","_useState45","_useState46","statsFilter","setStatsFilter","_useState47","_useState48","statsFilterQuery","setStatsFilterQuery","statsFilterNames","statsKeyNames","filterDropdownOptions","statsRows","statsObj","_statsObj$wins","_statsObj$abandons","totalGamesUnabandoned","statsList","statKey","statData","ChartJS","register","ArcElement","Tooltip","Legend","Settings","settingsLoaded","setSettingsLoaded","accountsLoaded","setAccountsLoaded","viewDeleted","siteFields","updateSiteFields","_useForm3","code","reservedNames","prompt","set","nameChange","birthday","bdayChanged","_useForm4","profileFields","updateProfileFields","_useForm5","textColors","_useForm6","gameFields","updateGameFields","onSettingChange","updateSetting","siteFormFieldChanges","profileFormFieldChanges","gameFormFieldChanges","clear","Shop","shopItems","balance","shopInfo","setShopInfo","price","limit","onBuyItem","src","allow","allowFullScreen","User","size","imageUrl","dead","colors","rand","charCodeAt","pow","noLink","newTab","userNameClassName","setVisible","preventDefault","StatusIcon","badges","badge","rank","Badge","badgeColor","JottoGame","cheatSheetInit","jottoHistory","newJottoHistory","stateIds","cheatsheet","guesses","chosenWords","opponents","prevState","deepGuesses","pid","playerId","attackerId","targetId","class","cheatSheet","updateJottoHistory","SidePanelLayout","CombinedTextMeetingLayout","mainPanelContent","JottoLayout","playerColumns","selfId","omniscient","tid","playerGuesses","guess","JottoGuess","opponentAnswer","guessesLabel","targetPlayer","nameColor","speaking","JottoAnswer","aIsSelf","bIsSelf","JottoActionList","wordArray","JottoWord","JottoInput","handleOnChange","jottoInput","useCallback","focus","keyCode","onMouseDown","setSelectionRange","level","getScoreLevel","tiles","meeting","voting","inputType","ActionButton","JottoText","JottoCheatSheet","handleChangeColor","getAttribute","letterClass","lettergroup","letterComponents","data-letter","textOptions","minLength","maxLength","textData","setTextData","wordWarning","setWordWarning","handleOnSubmit","votes","send","meetingId","selection","actionName","textInput","alphaOnly","submit","ClientSocket","_Socket","_inherits","_super","_createSuper","persistent","_this3","_classCallCheck","WebSocket","configurePing","configureClose","_createClass","_get","_getPrototypeOf","this","heartbeat","_this4","_this5","clearTimeout","pingTimeout","close","PING_INTERVAL","_this6","reconnect","listeners","sendQueue","Socket","received","setSocket","_this","configureListeners","triggerEvent","terminate","_this2","_parseMessage","eventName","parseMessage","_parseMessage2","bind","stringifyMessage","readyState","newListeners","Game","GameWrapper","leave","setFinished","port","setPort","setToken","connected","setConnected","setSetup","emojis","setEmojis","_useHistoryReducer","newHistory","deaths","members","$unset","selTab","messages","quote","toMeetingId","voterId","noLog","voteRecord","t","playerInfo","timeDead","_useHistoryReducer2","_useStateViewingReduc","newState","useStateViewingReducer","_useStateViewingReduc2","_usePlayersReducer","newPlayers","player","propName","propVal","_usePlayersReducer2","setSpectatorCount","setIsSpectator","setSelf","setLastWill","_useTimersReducer","newTimers","delay","timerName","intTime","_useTimersReducer2","updateTimers","_useSettingsReducer","newSettings","propval","votingLog","timestamps","sounds","fullscreen","volume","_useSettingsReducer2","updateSettings","showSettingsModal","showFirstGameModal","setShowFirstGameModal","from","isolationEnabled","setIsolationEnabled","Set","isolatedPlayers","setIsolatedPlayers","rolePredictions","setRolePredictions","activeVoiceChannel","_useState49","_useState50","rehostId","_useState51","_useState52","setDev","_useState53","_useState54","createTime","setCreateTime","playersRef","selfRef","_useActivity","newActivity","typing","newSpeaking","updateActivity","activityInterval","setInterval","getVolumeLevel","uid","remoteUsers","audioTrack","clearInterval","useActivity","_useActivity2","_useAudio","audioRef","_useReducer3","audioInfo","newAudioInfo","overrides","audioName","pause","currentTime","play","volumes","fileName","Audio","load","loop","loops","_useReducer4","updateAudio","audios","_step9","_iterator9","useAudio","_useAudio2","stopAudio","stopAudios","toggleRolePrediction","prediction","newRolePredictions","createAgoraClient","AgoraRTC","createClient","mode","codec","_ref","mediaType","subscribe","setVolume","_x2","audioContainer","remove","_agoraConnect","agoraDisconnect","createMicrophoneAudioTrack","publish","_agoraDisconnect","_callee3","_context3","socketURL","newSocket","onKeydown","speechInput","activeElName","activeElement","tagName","_requestNotificationAccess","requestNotificationAccess","timerInterval","names","users","textColor","vcToken","_x3","_x4","agoraConnect","guestId","isBot","pings","will","Notification","permission","hasFocus","togglePlayerIsolation","newIsolatedPlayers","has","delete","add","Provider","SettingsModal","showModal","setShowModal","FirstGameModal","open","StateSwitcher","p","rehost","stateInfo","_useState55","_useState56","autoScroll","setAutoScroll","_useState57","_useState58","mouseMoved","setMouseMoved","speechDisplayRef","speechMeetings","speech","doAutoScroll","onMessageQuote","senderId","isQuote","quotable","messageId","fromMeetingId","fromState","onMouseMove","_messages2","_messages","isNotServerMessage","unfocusedMessage","Message","gameCreateTime","canSpeak","amMember","canTalk","onScroll","clientHeight","SpeechInput","_useState59","_useState60","_useState61","_useState62","tabs","tabId","_players$m$senderId","playerName","isUnvote","voteMsg","getMessagesToDisplay","_message$content","quotedMessage","contentClass","isMe","msg","meetingName","senderName","stateMeetings","stateMeetingDefined","playerDead","playerHasTextColor","playerDeath","playerDeathTime","first","second","messageStyle","setYear","getMonth","getDate","startsWith","onDoubleClick","Timestamp","prefix","timestamp","hours","padStart","minutes","seconds","_useState63","_useState64","setSpeechInput","_useState65","_useState66","speechDropdownOptions","setSpeechDropdownOptions","_useState67","_useState68","speechDropdownValue","setSpeechDropdownValue","_useState69","_useState70","lastTyped","setLastTyped","_useState71","_useState72","typingIn","setTypingIn","_useState73","_useState74","clearTyping","setClearTyping","speechAbilities","newDropdownOptions","ability","_step6","_iterator6","targets","targetDisplay","targetType","verb","isTyping","autoComplete","anonymous","enterkeyhint","abilityInfo","abilityName","abilityTarget","test","textIncludesSlurs","seedString","playerNames","playerSeeds","matchedPlayers","every","leftArrowVisible","rigthArrowVisible","collapsible","_useState75","_useState76","activeCollapse","setActiveCollapse","RoleMarkerToggle","roleMarkerRef","PlayerRows","stateViewingInfo","isolationCheckbox","checked","rolePrediction","roleToShow","showBubbles","bubbleColor","alivePlayers","isDead","deadPlayers","ActionSelect","ActionText","_useAction","useAction","_useAction2","notClickable","getTargetDisplay","onSelectVote","member","canVote","_useAction3","_useAction4","buttons","canUnvote","_useState77","_useState78","isCurrentState","instant","mainTimer","mainTime","formatTimerTime","_useState79","_useState80","newWill","modalContent","modalFooter","_step8","_iterator8","cancel","_step7","_iterator7","marginBottom","htmlFor","_useState81","_useState82","notes","setNotes","notesData","removeItem","_notes","_callee4","_context4","requestPermission","UserSearch","userList","setUserList","NewestUsers","viewFlagged","FlaggedUsers","setUsers","userRows","joined","Moderation","groupsPanels","group","viewModActions","ModCommands","ModActions","command","setCommand","argValues","setArgValues","modCommands","useModCommands","commandName","perm","hidden","updateArgValue","optional","maxlength","run","commandRan","ban","modId","expires","toLocaleString","setActions","actionRows","actionArgs","Community","LogIn","email","setEmail","password","setPassword","submitDisabled","setSubmitDisabled","loading","setLoading","showResetPw","setShowResetPw","_onSubmit","auth","userCred","idToken","getAuth","signInWithEmailAndPassword","getIdToken","reload","sendEmailVerification","onResetPw","_onResetPw","sendPasswordResetEmail","SignUp","passwordConf","setPasswordConf","signedUp","setSignedUp","allowedEmailDomans","emailDomain","createUserWithEmailAndPassword","Auth","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","setPersistence","inMemoryPersistence","PrivacyPolicy","Legal","TermsOfService","Popover","popoverRef","triangleRef","sideContentRef","boundingEl","loadingRef","setSideContentVisible","setBoundingEl","boundingRect","popoverRect","popoverLeft","popoverTop","popoverHorzShift","innerWidth","sideContentVisible","sideContentRect","sideContentLeft","sideContentTop","sideContentTitle","sideContentLoading","sideContent","usePopover","setTitle","setSideContent","setSideContentTitle","setSideContentLoading","sideContentMouseY","setSideContentMouseY","sideload","InfoRow","creator","whisperContent","roleset","rolesByAlignment","roleObj","rolesets","sectionName","parseSetupPopover","parseRolePredictionPopover","descLines","parseRolePopover","playerList","totalPlayers","startTime","endTime","parseGamePopover","dataMod","_boundingEl","mouseY","Chat","showWindow","setShowWindow","_useChatInfoReducer","chatInfo","newChatInfo","notifsArray","notifs","notifsTotal","notifsByChannelType","rooms","directs","notifsByChannel","notif","channelId","channelType","byChannelType","byChannel","$unshift","channel","newChannels","newDirects","lastMessageDate","newAll","newByChannelType","newByChannel","_useChatInfoReducer2","updateChatInfo","currentTab","setCurrentTab","currentChannelId","setCurrentChannelId","_useChannelReducer","newChannel","_useChannelReducer2","updateChannel","newDMUsers","setNewDMUsers","setTextInput","userSearchVal","setUserSearchVal","messageListRef","oldScrollHeight","onTabClick","scrollTo","manageScroll","roomId","channels","sortDMs","ChannelName","short","public","messageList","onKeyPress","showContextMenu","setShowContextMenu","clickCoords","setClickCoords","messageRef","contextMenuRef","sender","age","messageRect","y","right","onContextMenu","clientX","deleteChatMessage","memberNames","EmoteList","emotesList","getEmotes","Header","SiteNotifs","showNotifList","setShowNotifList","_useNotifInfoReducer","notifInfo","newNotifInfo","existingNotifIds","newNotifs","unread","_useNotifInfoReducer2","updateNotifInfo","nextRestart","setNextRestart","bellRef","notifListRef","getNotifs","viewedNotifs","notifGetInterval","restartMinutes","ceil","listRect","listRight","go","onNotifClick","Footer","year","getYear","Main","_user$settings","_user$settings2","setUser","userIndex","useUser","onGameLeave","userColourScheme","siteColorScheme","_user$settings3","_getInfo","referrer","headers","common","csrf","nameChanged","inGame","getInfo","onlineInterval","ReactDOM","Router"],"mappings":";k3BAAaA,EAAY,CAAC,QAAS,iBAAkB,aAAc,YAAa,SACnEC,EAAU,CAAC,OAAQ,UAAW,cAAe,SAE7CC,EAAa,CACtB,MAAS,CAAC,UAAW,QAAS,WAAY,eAC1C,iBAAkB,CAAC,OAAQ,MAAO,eAClC,WAAc,CAAC,aAAc,SAC7B,YAAa,CAAC,UAAW,aAAc,eACvC,MAAS,CAAC,WAGDC,EAAa,CACtB,MAAS,CAAC,MAAO,SACjB,iBAAkB,CAAC,gBAAiB,gBACpC,WAAc,CAAC,iBAAkB,gBAAiB,WAClD,YAAa,CAAC,MAAO,SACrB,MAAS,CAAC,cAAe,eAGhBC,EAAmB,CAC5B,MAAS,CACL,EAAK,IACL,EAAK,GACL,EAAK,GACL,EAAK,GACL,EAAK,GACL,EAAK,IAET,SAAY,CACR,EAAK,IACL,EAAK,GACL,EAAK,GACL,EAAK,GACL,EAAK,GACL,EAAK,IAET,KAAQ,IAsBCC,EAAkB,CAC3B,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAEvG,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAErF,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAErF,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,SAEjD,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,SAEJ,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAE5E,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAEvG,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAErF,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAE9F,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,SAEtB,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAE1D,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAEvG,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAE9F,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,SAEtB,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,SAEtB,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAE5E,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,SAE/B,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,SAExC,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAE9F,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAE5E,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAEnE,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAErF,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAE5E,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAEnE,EAAK,CACD,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QACnG,QA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AM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,KAAM,OAEV,SAAU,CACNgE,KAAM,OACNhE,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","file":"static/js/main.f47b1d5d.chunk.js","sourcesContent":["export const GameTypes = [\"Mafia\", \"Split Decision\", \"Resistance\", \"One Night\", \"Jotto\"];\r\nexport const Lobbies = [\"Main\", \"Sandbox\", \"Competitive\", \"Games\"];\r\n\r\nexport const Alignments = {\r\n    \"Mafia\": [\"Village\", \"Mafia\", \"Monsters\", \"Independent\"],\r\n    \"Split Decision\": [\"Blue\", \"Red\", \"Independent\"],\r\n    \"Resistance\": [\"Resistance\", \"Spies\"],\r\n    \"One Night\": [\"Village\", \"Werewolves\", \"Independent\"],\r\n    \"Jotto\": [\"Jotter\"],\r\n};\r\n\r\nexport const GameStates = {\r\n    \"Mafia\": [\"Day\", \"Night\"],\r\n    \"Split Decision\": [\"Initial Round\", \"Hostage Swap\"],\r\n    \"Resistance\": [\"Team Selection\", \"Team Approval\", \"Mission\"],\r\n    \"One Night\": [\"Day\", \"Night\"],\r\n    \"Jotto\": [\"Choose Word\", \"Guess Word\"],\r\n};\r\n\r\nexport const RatingThresholds = {\r\n    \"reads\": {\r\n        \"S\": 0.95,\r\n        \"A\": 0.9,\r\n        \"B\": 0.8,\r\n        \"C\": 0.7,\r\n        \"D\": 0.6,\r\n        \"E\": 0.5,\r\n    },\r\n    \"survival\": {\r\n        \"S\": 0.95,\r\n        \"A\": 0.9,\r\n        \"B\": 0.8,\r\n        \"C\": 0.7,\r\n        \"D\": 0.6,\r\n        \"E\": 0.5,\r\n    },\r\n    \"wins\": {}\r\n};\r\n\r\nexport const RequiredTotalForStats = 1;\r\n\r\nexport const MaxGameMessageLength = 240;\r\nexport const MaxTextInputLength = 100;\r\nexport const MaxWillLength = 100;\r\n\r\nexport const MaxGroupNameLength = 20;\r\nexport const MaxCategoryNameLength = 20;\r\nexport const MaxBoardNameLength = 20;\r\nexport const MaxBoardDescLength = 60;\r\nexport const MaxThreadTitleLength = 50;\r\nexport const MaxThreadContentLength = 5000;\r\nexport const MaxReplyLength = 1000;\r\n\r\nexport const MaxChatMessageLength = 240;\r\n\r\nexport const AlertFadeTimeout = 3000;\r\nexport const AlertFadeDuration = 500;\r\n\r\nexport const JottoLegalWords = {\r\n    \"A\": [\r\n        \"ABETS\", \"ABHOR\", \"ABIDE\", \"ABIES\", \"ABLED\", \"ABLER\", \"ABLES\", \"ABLET\", \"ABLOW\", \"ABMHO\", \"ABODE\", \"ABOHM\", \r\n        \"ABOIL\", \"ABORD\", \"ABORE\", \"ABORT\", \"ABOUT\", \"ABOVE\", \"ABRIM\", \"ABRIN\", \"ABRIS\", \"ABSEY\", \"ABSIT\", \"ABUNE\", \r\n        \"ABUSE\", \"ABUTS\", \"ABYES\", \"ABYSM\", \"ACERB\", \"ACERS\", \"ACHED\", \"ACHES\", \"ACIDS\", \"ACIDY\", \"ACING\", \"ACKER\", \r\n        \"ACMES\", \"ACNED\", \"ACNES\", \"ACOLD\", \"ACORN\", \"ACRED\", \"ACRES\", \"ACRID\", \"ACTED\", \"ACTIN\", \"ACTON\", \"ACTOR\", \r\n        \"ACUTE\", \"ACYLS\", \"ADEPT\", \"ADIEU\", \"ADIOS\", \"ADITS\", \"ADMEN\", \"ADMIN\", \"ADMIT\", \"ADMIX\", \"ADOBE\", \"ADOPT\", \r\n        \"ADORE\", \"ADORN\", \"ADOWN\", \"ADOZE\", \"ADSUM\", \"ADUKI\", \"ADULT\", \"ADUNC\", \"ADUST\", \"ADVEW\", \"ADZES\", \"AEGIS\", \r\n        \"AEONS\", \"AEROS\", \"AESIR\", \"AFIRE\", \"AFORE\", \"AFOUL\", \"AFRIT\", \"AFROS\", \"AFTER\", \"AGENT\", \"AGERS\", \"AGILE\", \r\n        \"AGIOS\", \"AGISM\", \"AGIST\", \"AGLET\", \"AGLEY\", \"AGLOW\", \"AGLUS\", \"AGONE\", \"AGONS\", \"AGONY\", \"AGRIN\", \"AGUED\", \r\n        \"AGUES\", \"AGUTI\", \"AHENT\", \"AHIND\", \"AHING\", \"AHINT\", \"AHOLD\", \"AIDER\", \"AIDES\", \"AIDOS\", \"AIERY\", \"AILED\", \r\n        \"AIMED\", \"AIMER\", \"AIRED\", \"AIRNS\", \"AIRTH\", \"AIRTS\", \"AISLE\", \"AITCH\", \"AITUS\", \"AIVER\", \"AIZLE\", \"AKING\", \r\n        \"ALBUM\", \"ALCID\", \"ALCOS\", \"ALDER\", \"ALECK\", \"ALECS\", \"ALEFS\", \"ALEFT\", \"ALEPH\", \"ALERT\", \"ALEWS\", \"ALGID\", \r\n        \"ALGIN\", \"ALGOR\", \"ALGUM\", \"ALIEN\", \"ALIFS\", \"ALIGN\", \"ALIKE\", \"ALINE\", \"ALIST\", \"ALIVE\", \"ALKIE\", \"ALKOS\", \r\n        \"ALKYD\", \"ALMEH\", \"ALMES\", \"ALMUD\", \"ALMUG\", \"ALODS\", \"ALOED\", \"ALOES\", \"ALOFT\", \"ALOIN\", \"ALONE\", \"ALONG\", \r\n        \"ALOUD\", \"ALOWE\", \"ALTER\", \"ALTHO\", \"ALTOS\", \"ALUMS\", \"ALURE\", \"AMBER\", \"AMBIT\", \"AMBLE\", \"AMBOS\", \"AMBRY\", \r\n        \"AMEND\", \"AMENS\", \"AMENT\", \"AMICE\", \"AMIDE\", \"AMIDO\", \"AMIDS\", \"AMIES\", \"AMIGO\", \"AMINE\", \"AMINO\", \"AMINS\", \r\n        \"AMIRS\", \"AMITY\", \"AMNIC\", \"AMNIO\", \"AMOKS\", \"AMOLE\", \"AMONG\", \"AMORT\", \"AMOUR\", \"AMOVE\", \"AMOWT\", \"AMPED\", \r\n        \"AMPLE\", \"AMPLY\", \"AMPUL\", \"AMRIT\", \"AMUCK\", \"AMUSE\", \"AMYLS\", \"ANCHO\", \"ANCLE\", \"ANDRO\", \"ANGEL\", \"ANGER\", \r\n        \"ANGLE\", \"ANGLO\", \"ANGRY\", \"ANGST\", \"ANIGH\", \"ANILE\", \"ANILS\", \"ANIME\", \"ANISE\", \"ANKER\", \"ANKHS\", \"ANKLE\", \r\n        \"ANKUS\", \"ANODE\", \"ANOLE\", \"ANOMY\", \"ANTED\", \"ANTES\", \"ANTIC\", \"ANTIS\", \"ANTRE\", \"ANTSY\", \"ANVIL\", \"APERS\", \r\n        \"APERT\", \"APERY\", \"APHID\", \"APHIS\", \"APING\", \"APIOL\", \"APISH\", \"APISM\", \"APODE\", \"APODS\", \"APORT\", \"APRES\", \r\n        \"APRON\", \"APTED\", \"APTER\", \"APTLY\", \"ARCED\", \"ARCUS\", \"ARDEB\", \"AREFY\", \"AREIC\", \"ARETS\", \"ARGIL\", \"ARGLE\", \r\n        \"ARGOL\", \"ARGON\", \"ARGOT\", \"ARGUE\", \"ARGUS\", \"ARIEL\", \"ARILS\", \"ARIOT\", \"ARISE\", \"ARISH\", \"ARKED\", \"ARLED\", \r\n        \"ARLES\", \"ARMED\", \"ARMET\", \"ARMIL\", \"ARNUT\", \"AROID\", \"AROSE\", \"ARPEN\", \"ARSED\", \"ARSEY\", \"ARSON\", \"ARTEL\", \r\n        \"ARTIC\", \"ARTIS\", \"ARTSY\", \"ARUHE\", \"ARUMS\", \"ARVOS\", \"ARYLS\", \"ASCOT\", \"ASDIC\", \"ASHED\", \"ASHEN\", \"ASHET\", \r\n        \"ASIDE\", \"ASKED\", \"ASKER\", \"ASKEW\", \"ASKOI\", \"ASPEN\", \"ASPER\", \"ASPIC\", \"ASPRO\", \"ASTER\", \"ASTIR\", \"ASTUN\", \r\n        \"ASWIM\", \"ATIMY\", \"ATOCS\", \"ATOKE\", \"ATOKS\", \"ATOMS\", \"ATOMY\", \"ATONE\", \"ATONY\", \"ATOPY\", \"ATRIP\", \"AUDIO\", \r\n        \"AUDIT\", \"AUGER\", \"AUGHT\", \"AULIC\", \"AULOI\", \"AULOS\", \"AUMIL\", \"AUNES\", \"AUNTS\", \"AUNTY\", \"AUREI\", \"AURES\", \r\n        \"AURIC\", \"AURIS\", \"AUTOS\", \"AUXIN\", \"AVELS\", \"AVENS\", \"AVERS\", \"AVERT\", \"AVINE\", \"AVION\", \"AVISE\", \"AVISO\", \r\n        \"AVIZE\", \"AVOID\", \"AVOWS\", \"AVYZE\", \"AWDLS\", \"AWETO\", \"AWFUL\", \"AWING\", \"AWMRY\", \"AWNED\", \"AWNER\", \"AWOKE\", \r\n        \"AWOLS\", \"AWORK\", \"AXELS\", \"AXILE\", \"AXILS\", \"AXING\", \"AXIOM\", \"AXION\", \"AXITE\", \"AXLED\", \"AXLES\", \"AXMEN\", \r\n        \"AXOID\", \"AXONE\", \"AXONS\", \"AYELP\", \"AYGRE\", \"AYINS\", \"AYONT\", \"AYRES\", \"AYRIE\", \"AZIDE\", \"AZIDO\", \"AZINE\", \r\n        \"AZLON\", \"AZOIC\", \"AZOLE\", \"AZONS\", \"AZOTE\", \"AZOTH\", \"AZUKI\", \"AZURE\", \"AZURN\", \"AZURY\", \"AZYME\", \"AZYMS\"\r\n    ],\r\n    \"B\": [\r\n        \"BACHS\", \"BACKS\", \"BACON\", \"BADGE\", \"BADLY\", \"BAELS\", \"BAFTS\", \"BAGEL\", \"BAGHS\", \"BAGIE\", \"BAHTS\", \"BAHUT\", \r\n        \"BAILS\", \"BAIRN\", \"BAITH\", \"BAITS\", \"BAIZE\", \"BAJRI\", \"BAJUS\", \"BAKED\", \"BAKEN\", \"BAKER\", \"BAKES\", \"BALDS\", \r\n        \"BALDY\", \"BALED\", \"BALER\", \"BALES\", \"BALKS\", \"BALKY\", \"BALMS\", \"BALMY\", \"BALTI\", \"BALUN\", \"BALUS\", \"BANCO\", \r\n        \"BANCS\", \"BANDH\", \"BANDS\", \"BANDY\", \"BANED\", \"BANES\", \"BANGS\", \"BANJO\", \"BANKS\", \"BANTS\", \"BANTU\", \"BANTY\", \r\n        \"BAPUS\", \"BARDE\", \"BARDO\", \"BARDS\", \"BARDY\", \"BARED\", \"BARES\", \"BARFS\", \"BARGE\", \"BARIC\", \"BARKS\", \"BARKY\", \r\n        \"BARMS\", \"BARMY\", \"BARNS\", \"BARNY\", \"BARON\", \"BARPS\", \"BARYE\", \"BASED\", \"BASER\", \"BASHO\", \"BASIC\", \"BASIL\", \r\n        \"BASIN\", \"BASON\", \"BASTE\", \"BASTI\", \"BASTO\", \"BATCH\", \"BATED\", \"BATES\", \"BATHE\", \"BATHS\", \"BATIK\", \"BATON\", \r\n        \"BAUDS\", \"BAUKS\", \"BAULK\", \"BAURS\", \"BAVIN\", \"BAWDS\", \"BAWDY\", \"BAWLS\", \"BAWNS\", \"BAWRS\", \"BAWTY\", \"BAYED\", \r\n        \"BAYES\", \"BAYLE\", \"BAYOU\", \"BAYTS\", \"BEACH\", \"BEADS\", \"BEADY\", \"BEAKS\", \"BEAKY\", \"BEAMS\", \"BEAMY\", \"BEANO\", \r\n        \"BEANS\", \"BEANY\", \"BEARD\", \"BEARS\", \"BEAST\", \"BEATH\", \"BEATS\", \"BEATY\", \"BEAUS\", \"BEAUT\", \"BEAUX\", \"BECAP\", \r\n        \"BECKS\", \"BEDIM\", \"BEFIT\", \"BEFOG\", \"BEGAD\", \"BEGAN\", \"BEGAR\", \"BEGAT\", \"BEGIN\", \"BEGOT\", \"BEGUM\", \"BEGUN\", \r\n        \"BEIGY\", \"BEING\", \"BEKAH\", \"BELAH\", \"BELAR\", \"BELAY\", \"BELCH\", \"BELGA\", \"BELON\", \"BELOW\", \"BELTS\", \"BEMAD\", \r\n        \"BEMAS\", \"BEMIX\", \"BEMUD\", \"BENCH\", \"BENDS\", \"BENDY\", \"BENIS\", \"BENTO\", \"BENTS\", \"BENTY\", \"BEPAT\", \"BERAY\", \r\n        \"BERGS\", \"BERKO\", \"BERKS\", \"BERMS\", \"BERTH\", \"BERYL\", \"BESAT\", \"BESAW\", \"BESIT\", \"BESOM\", \"BESOT\", \"BESTI\", \r\n        \"BETAS\", \"BETHS\", \"BETID\", \"BETON\", \"BEVOR\", \"BEWIG\", \"BEZIL\", \"BHAJI\", \"BHANG\", \"BHELS\", \"BHUNA\", \"BHUTS\", \r\n        \"BIALY\", \"BICEP\", \"BICES\", \"BIDER\", \"BIDES\", \"BIDET\", \"BIDON\", \"BIELD\", \"BIERS\", \"BIGAE\", \"BIGHA\", \"BIGHT\", \r\n        \"BIGLY\", \"BIGOS\", \"BIGOT\", \"BIJOU\", \"BIKED\", \"BIKER\", \"BIKES\", \"BILED\", \"BILES\", \"BILGE\", \"BILGY\", \"BILKS\", \r\n        \"BIMAH\", \"BIMAS\", \"BINAL\", \"BINDS\", \"BINER\", \"BINES\", \"BINGE\", \"BINGO\", \"BINGS\", \"BINGY\", \"BINKS\", \"BINTS\", \r\n        \"BIOGS\", \"BIOME\", \"BIONT\", \"BIOTA\", \"BIPED\", \"BIPOD\", \"BIRCH\", \"BIRDS\", \"BIRKS\", \"BIRLE\", \"BIRLS\", \"BIROS\", \r\n        \"BIRSE\", \"BIRSY\", \"BIRTH\", \"BISON\", \"BITCH\", \"BITER\", \"BITES\", \"BITOS\", \"BITOU\", \"BITSY\", \"BIZES\", \"BLACK\", \r\n        \"BLADE\", \"BLADS\", \"BLADY\", \"BLAER\", \"BLAES\", \"BLAGS\", \"BLAHS\", \"BLAIN\", \"BLAME\", \"BLAMS\", \"BLAND\", \"BLANK\", \r\n        \"BLARE\", \"BLART\", \"BLASE\", \"BLASH\", \"BLAST\", \"BLATE\", \"BLATS\", \"BLAUD\", \"BLAWN\", \"BLAWS\", \"BLAYS\", \"BLAZE\", \r\n        \"BLEAK\", \"BLEAR\", \"BLEAT\", \"BLEND\", \"BLENT\", \"BLERT\", \"BLEST\", \"BLETS\", \"BLEYS\", \"BLIMP\", \"BLIMY\", \"BLIND\", \r\n        \"BLING\", \"BLINK\", \"BLINS\", \"BLINY\", \"BLIPS\", \"BLIST\", \"BLITE\", \"BLITZ\", \"BLIVE\", \"BLOAT\", \"BLOCK\", \"BLOCS\", \r\n        \"BLOGS\", \"BLOKE\", \"BLOND\", \"BLORE\", \"BLOTS\", \"BLOWN\", \"BLOWS\", \"BLOWY\", \"BLUDE\", \"BLUDY\", \"BLUED\", \"BLUER\", \r\n        \"BLUES\", \"BLUET\", \"BLUEY\", \"BLUID\", \"BLUME\", \"BLUNK\", \"BLUNT\", \"BLURS\", \"BLURT\", \"BLUSH\", \"BLYPE\", \"BOAKS\", \r\n        \"BOARD\", \"BOARS\", \"BOART\", \"BOAST\", \"BOATS\", \"BOCHE\", \"BOCKS\", \"BODES\", \"BODGE\", \"BODLE\", \"BOEPS\", \"BOETS\", \r\n        \"BOEUF\", \"BOGAN\", \"BOGEY\", \"BOGIE\", \"BOGLE\", \"BOGUS\", \"BOHEA\", \"BOILS\", \"BOING\", \"BOINK\", \"BOITE\", \"BOKED\", \r\n        \"BOKES\", \"BOLAR\", \"BOLAS\", \"BOLDS\", \"BOLES\", \"BOLIX\", \"BOLTS\", \"BOLUS\", \"BOMAS\", \"BONCE\", \"BONDS\", \"BONED\", \r\n        \"BONER\", \"BONES\", \"BONEY\", \"BONGS\", \"BONIE\", \"BONKS\", \"BONUS\", \"BONZA\", \"BONZE\", \"BORAK\", \"BORAL\", \"BORAS\", \r\n        \"BORAX\", \"BORDE\", \"BORDS\", \"BORED\", \"BOREL\", \"BORES\", \"BORIC\", \"BORKS\", \"BORMS\", \"BORNA\", \"BORNE\", \"BORTS\", \r\n        \"BORTY\", \"BORTZ\", \"BOSKY\", \"BOSUN\", \"BOTAS\", \"BOTCH\", \"BOTEL\", \"BOTHY\", \"BOUGE\", \"BOUGH\", \"BOUKS\", \"BOULE\", \r\n        \"BOULT\", \"BOUND\", \"BOUNS\", \"BOURD\", \"BOURG\", \"BOURN\", \"BOUSE\", \"BOUSY\", \"BOUTS\", \"BOVID\", \"BOWAT\", \"BOWED\", \r\n        \"BOWEL\", \"BOWER\", \"BOWES\", \"BOWET\", \"BOWIE\", \"BOWLS\", \"BOWNE\", \"BOWRS\", \"BOWSE\", \"BOXED\", \"BOXEN\", \"BOXER\", \r\n        \"BOXES\", \"BOYAR\", \"BOYAU\", \"BOYED\", \"BOYFS\", \"BOYGS\", \"BOYLA\", \"BRACE\", \"BRACH\", \"BRACK\", \"BRACT\", \"BRADS\", \r\n        \"BRAES\", \"BRAGS\", \"BRAID\", \"BRAIL\", \"BRAIN\", \"BRAKE\", \"BRAKS\", \"BRAKY\", \"BRAME\", \"BRAND\", \"BRANK\", \"BRANS\", \r\n        \"BRANT\", \"BRASH\", \"BRAST\", \"BRATS\", \"BRAVE\", \"BRAVI\", \"BRAVO\", \"BRAWL\", \"BRAWN\", \"BRAWS\", \"BRAXY\", \"BRAYS\", \r\n        \"BRAZE\", \"BREAD\", \"BREAK\", \"BREAM\", \"BREDS\", \"BREID\", \"BREIS\", \"BRENS\", \"BRENT\", \"BREWS\", \"BREYS\", \"BRICK\", \r\n        \"BRIDE\", \"BRIEF\", \"BRIES\", \"BRIGS\", \"BRIKS\", \"BRIMS\", \"BRINE\", \"BRING\", \"BRINK\", \"BRINS\", \"BRINY\", \"BRIOS\", \r\n        \"BRISE\", \"BRISK\", \"BRITH\", \"BRITS\", \"BRIZE\", \"BROAD\", \"BROCH\", \"BROCK\", \"BRODS\", \"BROGH\", \"BROGS\", \"BROIL\", \r\n        \"BROKE\", \"BROME\", \"BRONC\", \"BROND\", \"BROSE\", \"BROSY\", \"BROTH\", \"BROWN\", \"BROWS\", \"BRUGH\", \"BRUIN\", \"BRUIT\", \r\n        \"BRULE\", \"BRUME\", \"BRUNG\", \"BRUNT\", \"BRUSH\", \"BRUSK\", \"BRUST\", \"BRUTE\", \"BRUTS\", \"BUATS\", \"BUAZE\", \"BUCKO\", \r\n        \"BUCKS\", \"BUDAS\", \"BUDGE\", \"BUDIS\", \"BUDOS\", \"BUFOS\", \"BUGLE\", \"BUHLS\", \"BUHRS\", \"BUIKS\", \"BUILD\", \"BUILT\", \r\n        \"BUIST\", \"BUKES\", \"BULGE\", \"BULGY\", \"BULKS\", \"BULKY\", \"BULSE\", \"BUMFS\", \"BUMPH\", \"BUMPS\", \"BUMPY\", \"BUNAS\", \r\n        \"BUNCE\", \"BUNCH\", \"BUNCO\", \"BUNDE\", \"BUNDH\", \"BUNDS\", \"BUNDT\", \"BUNDY\", \"BUNGS\", \"BUNGY\", \"BUNIA\", \"BUNJE\", \r\n        \"BUNJY\", \"BUNKO\", \"BUNKS\", \"BUNTS\", \"BUNTY\", \"BUNYA\", \"BUOYS\", \"BURAN\", \"BURAS\", \"BURDS\", \"BURET\", \"BURGH\", \r\n        \"BURGS\", \"BURIN\", \"BURKA\", \"BURKE\", \"BURKS\", \"BURLS\", \"BURLY\", \"BURNS\", \"BURNT\", \"BURPS\", \"BURQA\", \"BURSA\", \r\n        \"BURSE\", \"BURST\", \"BUSED\", \"BUSHY\", \"BUSKY\", \"BUSTI\", \"BUSTY\", \"BUTCH\", \"BUTEO\", \"BUTES\", \"BUTLE\", \"BUTYL\", \r\n        \"BUXOM\", \"BUYER\", \"BWAZI\", \"BYDES\", \"BYKED\", \"BYKES\", \"BYLAW\", \"BYRES\", \"BYRLS\", \"BYTES\"\r\n    ],\r\n    \"C\": [\r\n        \"CABER\", \"CABIN\", \"CABLE\", \"CABRE\", \"CADES\", \"CADET\", \"CADGE\", \"CADGY\", \"CADIE\", \"CADIS\", \"CADRE\", \"CAFES\", \r\n        \"CAGED\", \"CAGER\", \"CAGES\", \"CAGEY\", \"CAGOT\", \"CAHOW\", \"CAIDS\", \"CAINS\", \"CAIRD\", \"CAIRN\", \"CAJON\", \"CAJUN\", \r\n        \"CAKED\", \"CAKES\", \"CAKEY\", \"CALFS\", \"CALID\", \"CALIF\", \"CALIX\", \"CALKS\", \"CALMS\", \"CALMY\", \"CALOS\", \"CALPS\", \r\n        \"CALVE\", \"CALYX\", \"CAMEL\", \"CAMEO\", \"CAMES\", \"CAMIS\", \"CAMOS\", \"CAMPI\", \"CAMPO\", \"CAMPS\", \"CAMPY\", \"CAMUS\", \r\n        \"CANDY\", \"CANED\", \"CANEH\", \"CANER\", \"CANES\", \"CANGS\", \"CANID\", \"CANOE\", \"CANSO\", \"CANST\", \"CANTO\", \"CANTS\", \r\n        \"CANTY\", \"CAPED\", \"CAPER\", \"CAPES\", \"CAPHS\", \"CAPIZ\", \"CAPLE\", \"CAPON\", \"CAPOS\", \"CAPOT\", \"CAPUL\", \"CAPUT\", \r\n        \"CARBO\", \"CARBS\", \"CARBY\", \"CARDI\", \"CARDS\", \"CARDY\", \"CARED\", \"CARES\", \"CARET\", \"CAREX\", \"CARGO\", \"CARKS\", \r\n        \"CARLE\", \"CARLS\", \"CARNS\", \"CARNY\", \"CAROB\", \"CAROL\", \"CAROM\", \"CARPI\", \"CARPS\", \"CARSE\", \"CARTE\", \"CARTS\", \r\n        \"CARVE\", \"CARVY\", \"CASED\", \"CASKY\", \"CASTE\", \"CATER\", \"CATES\", \"CAUKS\", \"CAULD\", \"CAULK\", \"CAULS\", \"CAUMS\", \r\n        \"CAUPS\", \"CAUSE\", \"CAVED\", \"CAVEL\", \"CAVER\", \"CAVES\", \"CAVIE\", \"CAVIL\", \"CAWED\", \"CAWKS\", \"CAXON\", \"CEBID\", \r\n        \"CEDAR\", \"CEDIS\", \"CEIBA\", \"CEILS\", \"CELOM\", \"CELTS\", \"CENTO\", \"CENTS\", \"CENTU\", \"CEORL\", \"CERIA\", \"CEROS\", \r\n        \"CERTS\", \"CESTA\", \"CESTI\", \"CETYL\", \"CHADO\", \"CHADS\", \"CHAFE\", \"CHAFT\", \"CHAIN\", \"CHAIR\", \"CHAIS\", \"CHALK\", \r\n        \"CHALS\", \"CHAMP\", \"CHAMS\", \"CHANG\", \"CHANK\", \"CHANT\", \"CHAOS\", \"CHAPE\", \"CHAPS\", \"CHAPT\", \"CHARD\", \"CHARE\", \r\n        \"CHARK\", \"CHARM\", \"CHARS\", \"CHART\", \"CHARY\", \"CHASE\", \"CHASM\", \"CHATS\", \"CHAVE\", \"CHAVS\", \"CHAWK\", \"CHAWS\", \r\n        \"CHAYS\", \"CHEAP\", \"CHEAT\", \"CHEFS\", \"CHEKA\", \"CHELA\", \"CHELP\", \"CHEMO\", \"CHERT\", \"CHEST\", \"CHEVY\", \"CHEWS\", \r\n        \"CHEWY\", \"CHIAO\", \"CHIAS\", \"CHIBS\", \"CHIDE\", \"CHIEF\", \"CHIEL\", \"CHIKS\", \"CHILD\", \"CHILE\", \"CHIMB\", \"CHIME\", \r\n        \"CHIMO\", \"CHIMP\", \"CHINA\", \"CHINE\", \"CHINK\", \"CHINO\", \"CHINS\", \"CHIPS\", \"CHIRK\", \"CHIRL\", \"CHIRM\", \"CHIRO\", \r\n        \"CHIRP\", \"CHIRT\", \"CHIRU\", \"CHITS\", \"CHIVE\", \"CHIVS\", \"CHIVY\", \"CHODE\", \"CHOGS\", \"CHOIR\", \"CHOKE\", \"CHOKY\", \r\n        \"CHOLA\", \"CHOLI\", \"CHOMP\", \"CHONS\", \"CHOPS\", \"CHORD\", \"CHORE\", \"CHOSE\", \"CHOTA\", \"CHOUT\", \"CHOUX\", \"CHOWK\", \r\n        \"CHOWS\", \"CHUBS\", \"CHUFA\", \"CHUGS\", \"CHUMP\", \"CHUMS\", \"CHUNK\", \"CHURL\", \"CHURN\", \"CHUSE\", \"CHUTE\", \"CHYLE\", \r\n        \"CHYME\", \"CHYND\", \"CIAOS\", \"CIBOL\", \"CIDER\", \"CIDES\", \"CIELS\", \"CIGAR\", \"CIMAR\", \"CIMEX\", \"CINES\", \"CIONS\", \r\n        \"CIRES\", \"CIRLS\", \"CITAL\", \"CITED\", \"CITER\", \"CITES\", \"CIVES\", \"CIVET\", \"CLADE\", \"CLADS\", \"CLAES\", \"CLAGS\", \r\n        \"CLAIM\", \"CLAME\", \"CLAMP\", \"CLAMS\", \"CLANG\", \"CLANK\", \"CLANS\", \"CLAPS\", \"CLAPT\", \"CLARO\", \"CLART\", \"CLARY\", \r\n        \"CLASH\", \"CLASP\", \"CLAST\", \"CLATS\", \"CLAUT\", \"CLAVE\", \"CLAVI\", \"CLAWS\", \"CLAYS\", \"CLEAN\", \"CLEAR\", \"CLEAT\", \r\n        \"CLEFS\", \"CLEFT\", \"CLEGS\", \"CLEIK\", \"CLEMS\", \"CLEPT\", \"CLERK\", \"CLEWS\", \"CLIED\", \"CLIES\", \"CLIFT\", \"CLIMB\", \r\n        \"CLIME\", \"CLINE\", \"CLING\", \"CLINK\", \"CLINT\", \"CLIPE\", \"CLIPS\", \"CLIPT\", \"CLOAK\", \"CLOAM\", \"CLODS\", \"CLOGS\", \r\n        \"CLOKE\", \"CLOMB\", \"CLOMP\", \"CLONE\", \"CLONK\", \"CLONS\", \"CLOPS\", \"CLOSE\", \"CLOTE\", \"CLOTH\", \"CLOTS\", \"CLOUD\", \r\n        \"CLOUR\", \"CLOUS\", \"CLOUT\", \"CLOVE\", \"CLOWN\", \"CLOWS\", \"CLOYE\", \"CLOYS\", \"CLOZE\", \"CLUBS\", \"CLUED\", \"CLUES\", \r\n        \"CLUMP\", \"CLUNG\", \"CLUNK\", \"CLYPE\", \"CNIDA\", \"COALS\", \"COALY\", \"COAPT\", \"COARB\", \"COAST\", \"COATE\", \"COATI\", \r\n        \"COATS\", \"COBIA\", \"COBLE\", \"COBRA\", \"COBZA\", \"CODAS\", \"CODEN\", \"CODER\", \"CODES\", \"CODEX\", \"COEDS\", \"COGIE\", \r\n        \"COGUE\", \"COHAB\", \"COIFS\", \"COIGN\", \"COILS\", \"COINS\", \"COIRS\", \"COITS\", \"COKED\", \"COKES\", \"COLAS\", \"COLBY\", \r\n        \"COLDS\", \"COLED\", \"COLES\", \"COLEY\", \"COLIN\", \"COLTS\", \"COLZA\", \"COMAE\", \"COMAL\", \"COMAS\", \"COMBE\", \"COMBI\", \r\n        \"COMBS\", \"COMBY\", \"COMER\", \"COMES\", \"COMET\", \"COMFY\", \"COMIX\", \"COMPS\", \"COMPT\", \"COMTE\", \"COMUS\", \"CONED\", \r\n        \"CONES\", \"CONEY\", \"CONFS\", \"CONGA\", \"CONGE\", \"CONIA\", \"CONKS\", \"CONKY\", \"CONTE\", \"CONUS\", \"COPAL\", \"COPAY\", \r\n        \"COPED\", \"COPEN\", \"COPER\", \"COPES\", \"COPRA\", \"COPSE\", \"COPSY\", \"CORAL\", \"CORAM\", \"CORBE\", \"CORBY\", \"CORDS\", \r\n        \"CORED\", \"CORES\", \"COREY\", \"CORGI\", \"CORIA\", \"CORKS\", \"CORKY\", \"CORMS\", \"CORNI\", \"CORNS\", \"CORNU\", \"CORNY\", \r\n        \"CORPS\", \"CORSE\", \"COSED\", \"COSET\", \"COSEY\", \"COSIE\", \"COSTA\", \"COSTE\", \"COTAN\", \"COTED\", \"COTES\", \"COTHS\", \r\n        \"COUDE\", \"COUGH\", \"COULD\", \"COUNT\", \"COUPE\", \"COUPS\", \"COURB\", \"COURD\", \"COURE\", \"COURS\", \"COURT\", \"COUTH\", \r\n        \"COVED\", \"COVEN\", \"COVER\", \"COVES\", \"COVET\", \"COVEY\", \"COVIN\", \"COWAL\", \"COWAN\", \"COWED\", \"COWER\", \"COWKS\", \r\n        \"COWLS\", \"COWPS\", \"COWRY\", \"COXAE\", \"COXAL\", \"COXED\", \"COXES\", \"COYED\", \"COYER\", \"COYPU\", \"COZED\", \"COZEN\", \r\n        \"COZES\", \"COZEY\", \"COZIE\", \"CRABS\", \"CRAFT\", \"CRAGS\", \"CRAIG\", \"CRAKE\", \"CRAME\", \"CRAMP\", \"CRAMS\", \"CRANE\", \r\n        \"CRANK\", \"CRANS\", \"CRAPE\", \"CRAPS\", \"CRAPY\", \"CRASH\", \"CRATE\", \"CRAVE\", \"CRAWL\", \"CRAWS\", \"CRAYS\", \"CRAZE\", \r\n        \"CRAZY\", \"CREAK\", \"CREAM\", \"CREDO\", \"CREDS\", \"CREMS\", \"CRENA\", \"CREPT\", \"CREPY\", \"CREST\", \"CREWS\", \"CRIBS\", \r\n        \"CRIED\", \"CRIES\", \"CRIME\", \"CRIMP\", \"CRIMS\", \"CRINE\", \"CRIOS\", \"CRIPE\", \"CRISE\", \"CRISP\", \"CRITH\", \"CRITS\", \r\n        \"CROAK\", \"CROFT\", \"CROGS\", \"CROMB\", \"CROME\", \"CRONE\", \"CRONK\", \"CRONY\", \"CROPS\", \"CROST\", \"CROUP\", \"CROUT\", \r\n        \"CROWD\", \"CROWN\", \"CROWS\", \"CROZE\", \"CRUDE\", \"CRUDS\", \"CRUDY\", \"CRUEL\", \"CRUES\", \"CRUET\", \"CRUMB\", \"CRUMP\", \r\n        \"CRUSE\", \"CRUSH\", \"CRUST\", \"CRUSY\", \"CRUVE\", \"CRWTH\", \"CRYPT\", \"CUBED\", \"CUBER\", \"CUBES\", \"CUBIT\", \"CUIFS\", \r\n        \"CUING\", \"CUISH\", \"CUITS\", \"CUKES\", \"CULET\", \"CULEX\", \"CULMS\", \"CULPA\", \"CULTI\", \"CULTS\", \"CULTY\", \"CUMIN\", \r\n        \"CUNDY\", \"CUNEI\", \"CUNTS\", \"CUPEL\", \"CUPID\", \"CURAT\", \"CURBS\", \"CURDS\", \"CURDY\", \"CURED\", \"CURES\", \"CURET\", \r\n        \"CURFS\", \"CURIA\", \"CURIE\", \"CURIO\", \"CURLI\", \"CURLS\", \"CURLY\", \"CURNS\", \"CURNY\", \"CURSE\", \"CURSI\", \"CURST\", \r\n        \"CURVE\", \"CURVY\", \"CUSHY\", \"CUTER\", \"CUTES\", \"CUTEY\", \"CUTIE\", \"CUTIN\", \"CUTIS\", \"CYANO\", \"CYANS\", \"CYBER\", \r\n        \"CYDER\", \"CYLIX\", \"CYMAE\", \"CYMAR\", \"CYMAS\", \"CYMES\", \"CYMOL\", \"CYTES\", \"CYTON\", \"CZARS\"\r\n    ],\r\n    \"D\": [\r\n        \"DACES\", \"DACKS\", \"DAGOS\", \"DAHLS\", \"DAILY\", \"DAINE\", \"DAINT\", \"DAIRY\", \"DAISY\", \"DAKER\", \"DALES\", \"DALIS\", \r\n        \"DALTS\", \"DAMES\", \"DAMNS\", \"DAMPS\", \"DAMPY\", \"DANCE\", \"DANGS\", \"DANIO\", \"DANKS\", \"DANTS\", \"DARBS\", \"DARCY\", \r\n        \"DARES\", \"DARGS\", \"DARIC\", \"DARIS\", \"DARKS\", \"DARKY\", \"DARNS\", \"DARTS\", \"DARZI\", \"DASHI\", \"DASHY\", \"DATER\", \r\n        \"DATES\", \"DATOS\", \"DATUM\", \"DAUBE\", \"DAUBS\", \"DAUBY\", \"DAULT\", \"DAUNT\", \"DAURS\", \"DAUTS\", \"DAVEN\", \"DAVIT\", \r\n        \"DAWEN\", \"DAWKS\", \"DAWNS\", \"DAWTS\", \"DAYCH\", \"DAYNT\", \"DAZER\", \"DAZES\", \"DEAIR\", \"DEALS\", \"DEALT\", \"DEANS\", \r\n        \"DEARN\", \"DEARS\", \"DEARY\", \"DEASH\", \"DEATH\", \"DEAWS\", \"DEAWY\", \"DEBAG\", \"DEBAR\", \"DEBIT\", \"DEBTS\", \"DEBUG\", \r\n        \"DEBUS\", \"DEBUT\", \"DECAF\", \"DECAL\", \"DECAY\", \"DECKO\", \"DECKS\", \"DECOR\", \"DECOS\", \"DECOY\", \"DECRY\", \"DEFAT\", \r\n        \"DEFIS\", \"DEFOG\", \"DEGAS\", \"DEGUM\", \"DEIFY\", \"DEIGN\", \"DEILS\", \"DEISM\", \"DEIST\", \"DEITY\", \"DELAY\", \"DELFS\", \r\n        \"DELFT\", \"DELIS\", \"DELOS\", \"DELPH\", \"DELTA\", \"DELTS\", \"DEMAN\", \"DEMIC\", \"DEMIT\", \"DEMOB\", \"DEMON\", \"DEMOS\", \r\n        \"DEMPT\", \"DEMUR\", \"DENAR\", \"DENAY\", \"DENIM\", \"DENIS\", \"DENTS\", \"DEOXY\", \"DEPOT\", \"DEPTH\", \"DERAT\", \"DERAY\", \r\n        \"DERBY\", \"DERIG\", \"DERMA\", \"DERMS\", \"DERNS\", \"DEROS\", \"DERTH\", \"DERVS\", \"DESHI\", \"DETOX\", \"DEVAS\", \"DEVIL\", \r\n        \"DEVON\", \"DEVOT\", \"DEWAN\", \"DEWAR\", \"DEWAX\", \"DHAKS\", \"DHALS\", \"DHOBI\", \"DHOLE\", \"DHOLS\", \"DHOTI\", \"DHOWS\", \r\n        \"DHUTI\", \"DIACT\", \"DIALS\", \"DIARY\", \"DIAZO\", \"DICER\", \"DICES\", \"DICEY\", \"DICHT\", \"DICKS\", \"DICKY\", \"DICOT\", \r\n        \"DICTA\", \"DICTS\", \"DICTY\", \"DIEBS\", \"DIETS\", \"DIGHT\", \"DIKAS\", \"DIKER\", \"DIKES\", \"DIKEY\", \"DIMER\", \"DIMES\", \r\n        \"DIMLY\", \"DIMPS\", \"DINAR\", \"DINER\", \"DINES\", \"DINGE\", \"DINGO\", \"DINGS\", \"DINGY\", \"DINKS\", \"DINKY\", \"DINOS\", \r\n        \"DINTS\", \"DIOLS\", \"DIOTA\", \"DIPSO\", \"DIRAM\", \"DIRGE\", \"DIRKE\", \"DIRKS\", \"DIRLS\", \"DIRTS\", \"DIRTY\", \"DISCO\", \r\n        \"DISHY\", \"DISME\", \"DITAL\", \"DITAS\", \"DITCH\", \"DITES\", \"DITSY\", \"DITZY\", \"DIVAN\", \"DIVAS\", \"DIVER\", \"DIVES\", \r\n        \"DIVOT\", \"DIWAN\", \"DIZEN\", \"DJINS\", \"DOABS\", \"DOATS\", \"DOBIE\", \"DOBLA\", \"DOBRA\", \"DOCHT\", \"DOCKS\", \"DOEKS\", \r\n        \"DOERS\", \"DOEST\", \"DOETH\", \"DOGES\", \"DOGEY\", \"DOGIE\", \"DOGMA\", \"DOILT\", \"DOILY\", \"DOING\", \"DOITS\", \"DOLCE\", \r\n        \"DOLCI\", \"DOLES\", \"DOLIA\", \"DOLMA\", \"DOLTS\", \"DOMAL\", \"DOMES\", \"DOMIC\", \"DONAH\", \"DONAS\", \"DONER\", \"DONGA\", \r\n        \"DONGS\", \"DONSY\", \"DONUT\", \"DOPAS\", \"DOPER\", \"DOPES\", \"DOPEY\", \"DORBA\", \"DORBS\", \"DORIC\", \"DORIS\", \"DORKS\", \r\n        \"DORKY\", \"DORMS\", \"DORMY\", \"DORPS\", \"DORSA\", \"DORSE\", \"DORTS\", \"DORTY\", \"DOSEH\", \"DOSER\", \"DOTAL\", \"DOTER\", \r\n        \"DOTES\", \"DOUAR\", \"DOUBT\", \"DOUCE\", \"DOUCS\", \"DOUGH\", \"DOUKS\", \"DOULA\", \"DOUMA\", \"DOUMS\", \"DOUPS\", \"DOURA\", \r\n        \"DOUSE\", \"DOUTS\", \"DOVEN\", \"DOVER\", \"DOVES\", \"DOVIE\", \"DOWAR\", \"DOWEL\", \"DOWER\", \"DOWIE\", \"DOWLE\", \"DOWLS\", \r\n        \"DOWLY\", \"DOWNA\", \"DOWNS\", \"DOWNY\", \"DOWPS\", \"DOWRY\", \"DOWSE\", \"DOWTS\", \"DOXIE\", \"DOYEN\", \"DOZEN\", \"DOZER\", \r\n        \"DOZES\", \"DRABS\", \"DRACK\", \"DRACO\", \"DRAFT\", \"DRAGS\", \"DRAIL\", \"DRAIN\", \"DRAKE\", \"DRAMS\", \"DRANK\", \"DRANT\", \r\n        \"DRAPE\", \"DRAPS\", \"DRATS\", \"DRAVE\", \"DRAWL\", \"DRAWN\", \"DRAWS\", \"DRAYS\", \"DREAM\", \"DRECK\", \"DREGS\", \"DREKS\", \r\n        \"DRENT\", \"DREST\", \"DREYS\", \"DRIBS\", \"DRICE\", \"DRIES\", \"DRIFT\", \"DRILY\", \"DRINK\", \"DRIPS\", \"DRIPT\", \"DRIVE\", \r\n        \"DROIL\", \"DROIT\", \"DROLE\", \"DROME\", \"DRONE\", \"DRONY\", \"DROPS\", \"DROPT\", \"DROUK\", \"DROVE\", \"DROWN\", \"DROWS\", \r\n        \"DRUBS\", \"DRUGS\", \"DRUMS\", \"DRUNK\", \"DRUPE\", \"DRUSE\", \"DRUSY\", \"DRUXY\", \"DUALS\", \"DUANS\", \"DUARS\", \"DUCAL\", \r\n        \"DUCAT\", \"DUCES\", \"DUCHY\", \"DUCKS\", \"DUCKY\", \"DUCTS\", \"DUELS\", \"DUETS\", \"DUING\", \"DUITS\", \"DUKAS\", \"DUKES\", \r\n        \"DULES\", \"DULIA\", \"DULSE\", \"DUMAS\", \"DUMBO\", \"DUMBS\", \"DUMKA\", \"DUMKY\", \"DUMPS\", \"DUMPY\", \"DUNAM\", \"DUNCE\", \r\n        \"DUNCH\", \"DUNES\", \"DUNGS\", \"DUNGY\", \"DUNKS\", \"DUNSH\", \"DUNTS\", \"DUOMI\", \"DUPER\", \"DUPES\", \"DUPLE\", \"DUPLY\", \r\n        \"DURAL\", \"DURAS\", \"DURES\", \"DURGY\", \"DURNS\", \"DUROC\", \"DUROS\", \"DUROY\", \"DURST\", \"DURZI\", \"DUSKY\", \"DUSTY\", \r\n        \"DUTCH\", \"DUVET\", \"DUXES\", \"DWALE\", \"DWALM\", \"DWAMS\", \"DWANG\", \"DWARF\", \"DWAUM\", \"DWELT\", \"DWILE\", \"DWINE\", \r\n        \"DYERS\", \"DYING\", \"DYKES\", \"DYNEL\", \"DYNES\", \"DZHOS\"\r\n    ],\r\n    \"E\": [\r\n        \"EARDS\", \"EARLS\", \"EARLY\", \"EARNS\", \"EARST\", \"EARTH\", \"EBONS\", \"EBONY\", \"ECADS\", \"ECHOS\", \"ECLAT\", \"ECRUS\", \r\n        \"EDICT\", \"EDIFY\", \"EDITS\", \"EDUCT\", \"EGADS\", \"EGMAS\", \"EHING\", \"EIDOS\", \"EIGHT\", \"EIKON\", \"EILDS\", \"EKING\", \r\n        \"ELAIN\", \"ELAND\", \"ELANS\", \"ELBOW\", \"ELCHI\", \"ELDIN\", \"ELFIN\", \"ELIAD\", \"ELINT\", \"ELOGY\", \"ELOIN\", \"ELOPS\", \r\n        \"ELSIN\", \"ELVAN\", \"EMACS\", \"EMAIL\", \"EMBAR\", \"EMBAY\", \"EMBOG\", \"EMBOW\", \"EMBOX\", \"EMBUS\", \"EMIRS\", \"EMITS\", \r\n        \"EMONG\", \"EMPTS\", \"EMPTY\", \"EMYDS\", \"ENACT\", \"ENARM\", \"ENDOW\", \"ENFIX\", \"ENIAC\", \"ENJOY\", \"ENLIT\", \"ENOKI\", \r\n        \"ENOLS\", \"ENORM\", \"ENOWS\", \"ENROL\", \"ENSKY\", \"ENTIA\", \"ENTRY\", \"ENVOI\", \"ENVOY\", \"ENZYM\", \"EORLS\", \"EOSIN\", \r\n        \"EPACT\", \"EPHAS\", \"EPHOD\", \"EPHOR\", \"EPICS\", \"EPOCH\", \"EPOXY\", \"EPRIS\", \"EPROM\", \"EQUAL\", \"EQUID\", \"EQUIP\", \r\n        \"ERBIA\", \"ERGON\", \"ERGOS\", \"ERGOT\", \"ERICA\", \"ERICK\", \"ERICS\", \"ERING\", \"ERUCT\", \"ERUGO\", \"ERUPT\", \"ERUVS\", \r\n        \"ERVIL\", \"ESCAR\", \"ESCOT\", \"ESKAR\", \"ESTOC\", \"ESTOP\", \"ESTRO\", \"ETHAL\", \"ETHIC\", \"ETHOS\", \"ETHYL\", \"ETNAS\", \r\n        \"ETUIS\", \"ETYMA\", \"EUGHS\", \"EUPAD\", \"EUROS\", \"EUSOL\", \"EVICT\", \"EVILS\", \"EXACT\", \"EXALT\", \"EXAMS\", \"EXING\", \r\n        \"EXIST\", \"EXITS\", \"EXONS\", \"EXPAT\", \"EXPOS\", \"EXTOL\", \"EXTRA\", \"EXULS\", \"EXULT\", \"EXURB\", \"EYING\", \"EYOTS\", \r\n        \"EYRAS\"\r\n    ],\r\n    \"F\": [\r\n        \"FABLE\", \"FACED\", \"FACER\", \"FACES\", \"FACET\", \"FACTS\", \"FADER\", \"FADES\", \"FADGE\", \"FADOS\", \"FAERY\", \"FAGIN\", \r\n        \"FAGOT\", \"FAIKS\", \"FAILS\", \"FAINE\", \"FAINS\", \"FAINT\", \"FAIRS\", \"FAIRY\", \"FAITH\", \"FAKED\", \"FAKER\", \"FAKES\", \r\n        \"FAKEY\", \"FAKIR\", \"FALSE\", \"FAMED\", \"FAMES\", \"FANCY\", \"FANDS\", \"FANES\", \"FANGO\", \"FANGS\", \"FANKS\", \"FANOS\", \r\n        \"FANUM\", \"FAQIR\", \"FARCE\", \"FARCI\", \"FARCY\", \"FARDS\", \"FARED\", \"FARES\", \"FARLE\", \"FARLS\", \"FARMS\", \"FAROS\", \r\n        \"FARSE\", \"FARTS\", \"FASCI\", \"FASTI\", \"FATED\", \"FATES\", \"FATLY\", \"FATSO\", \"FAUGH\", \"FAULD\", \"FAULT\", \"FAUNS\", \r\n        \"FAURD\", \"FAUTS\", \"FAUVE\", \"FAVEL\", \"FAVER\", \"FAVES\", \"FAVOR\", \"FAVUS\", \"FAWNS\", \"FAWNY\", \"FAXED\", \"FAXES\", \r\n        \"FAYED\", \"FAYER\", \"FAYNE\", \"FAYRE\", \"FAZED\", \"FAZES\", \"FEALS\", \"FEARS\", \"FEAST\", \"FEATS\", \"FECAL\", \"FECHT\", \r\n        \"FECIT\", \"FECKS\", \"FEIGN\", \"FEINT\", \"FEIST\", \"FELID\", \"FELON\", \"FELTS\", \"FELTY\", \"FEMAL\", \"FEMUR\", \"FENDS\", \r\n        \"FENDY\", \"FENIS\", \"FENKS\", \"FENTS\", \"FEODS\", \"FERAL\", \"FERIA\", \"FERLY\", \"FERMI\", \"FERMS\", \"FERNS\", \"FERNY\", \r\n        \"FESTA\", \"FESTY\", \"FETAL\", \"FETAS\", \"FETCH\", \"FETID\", \"FETOR\", \"FETUS\", \"FETWA\", \"FEUAR\", \"FEUDS\", \"FIARS\", \r\n        \"FIATS\", \"FIBER\", \"FIBRE\", \"FIBRO\", \"FICES\", \"FICHE\", \"FICHU\", \"FICOS\", \"FICUS\", \"FIDGE\", \"FIDOS\", \"FIELD\", \r\n        \"FIEND\", \"FIENT\", \"FIERS\", \"FIERY\", \"FIEST\", \"FIGHT\", \"FIGOS\", \"FIKED\", \"FIKES\", \"FILAR\", \"FILCH\", \"FILED\", \r\n        \"FILER\", \"FILES\", \"FILET\", \"FILMS\", \"FILMY\", \"FILOS\", \"FILTH\", \"FILUM\", \"FINAL\", \"FINCA\", \"FINCH\", \"FINDS\", \r\n        \"FINED\", \"FINER\", \"FINES\", \"FINKS\", \"FINOS\", \"FIORD\", \"FIQUE\", \"FIRED\", \"FIRES\", \"FIRKS\", \"FIRMS\", \"FIRNS\", \r\n        \"FIRST\", \"FIRTH\", \"FISHY\", \"FISTY\", \"FITCH\", \"FITLY\", \"FITNA\", \"FIVER\", \"FIVES\", \"FIXED\", \"FIXER\", \"FIXES\", \r\n        \"FJELD\", \"FJORD\", \"FLABS\", \"FLACK\", \"FLAGS\", \"FLAIR\", \"FLAKE\", \"FLAKS\", \"FLAKY\", \"FLAME\", \"FLAMS\", \"FLAMY\", \r\n        \"FLANK\", \"FLANS\", \"FLAPS\", \"FLARE\", \"FLARY\", \"FLASH\", \"FLASK\", \"FLATS\", \"FLAWN\", \"FLAWS\", \"FLAWY\", \"FLAXY\", \r\n        \"FLAYS\", \"FLEAM\", \"FLEAS\", \"FLECK\", \"FLEGS\", \"FLESH\", \"FLEWS\", \"FLEXO\", \"FLEYS\", \"FLICK\", \"FLICS\", \"FLIED\", \r\n        \"FLIER\", \"FLIES\", \"FLIMP\", \"FLIMS\", \"FLING\", \"FLINT\", \"FLIPS\", \"FLIRS\", \"FLIRT\", \"FLISK\", \"FLITE\", \"FLITS\", \r\n        \"FLOAT\", \"FLOCK\", \"FLOCS\", \"FLOES\", \"FLOGS\", \"FLONG\", \"FLOPS\", \"FLORA\", \"FLORS\", \"FLORY\", \"FLOSH\", \"FLOTA\", \r\n        \"FLOTE\", \"FLOUR\", \"FLOUT\", \"FLOWN\", \"FLOWS\", \"FLUBS\", \"FLUED\", \"FLUES\", \"FLUEY\", \"FLUID\", \"FLUKE\", \"FLUKY\", \r\n        \"FLUME\", \"FLUMP\", \"FLUNG\", \"FLUNK\", \"FLUOR\", \"FLUSH\", \"FLUTE\", \"FLUTY\", \"FLUYT\", \"FLYER\", \"FLYPE\", \"FLYTE\", \r\n        \"FOALS\", \"FOAMS\", \"FOAMY\", \"FOCAL\", \"FOCUS\", \"FOEHN\", \"FOGEY\", \"FOGIE\", \"FOGLE\", \"FOHNS\", \"FOIDS\", \"FOILS\", \r\n        \"FOINS\", \"FOIST\", \"FOLDS\", \"FOLEY\", \"FOLIA\", \"FOLIC\", \"FOLIE\", \"FOLKS\", \"FOLKY\", \"FOMES\", \"FONDA\", \"FONDS\", \r\n        \"FONDU\", \"FONLY\", \"FONTS\", \"FORAM\", \"FORAY\", \"FORBS\", \"FORBY\", \"FORCE\", \"FORDS\", \"FOREL\", \"FORES\", \"FOREX\", \r\n        \"FORGE\", \"FORKS\", \"FORKY\", \"FORME\", \"FORMS\", \"FORTE\", \"FORTH\", \"FORTS\", \"FORTY\", \"FORUM\", \"FORZA\", \"FORZE\", \r\n        \"FOUAT\", \"FOUDS\", \"FOUER\", \"FOUET\", \"FOULE\", \"FOULS\", \"FOUND\", \"FOUNT\", \"FOURS\", \"FOUTH\", \"FOVEA\", \"FOWLS\", \r\n        \"FOWTH\", \"FOXED\", \"FOXES\", \"FOXIE\", \"FOYER\", \"FOYLE\", \"FOYNE\", \"FRABS\", \"FRACK\", \"FRACT\", \"FRAGS\", \"FRAIL\", \r\n        \"FRAIM\", \"FRAME\", \"FRANC\", \"FRANK\", \"FRAPE\", \"FRAPS\", \"FRATE\", \"FRATI\", \"FRATS\", \"FRAUD\", \"FRAUS\", \"FRAYS\", \r\n        \"FREAK\", \"FREIT\", \"FREMD\", \"FRENA\", \"FREON\", \"FRESH\", \"FRETS\", \"FRIBS\", \"FRIED\", \"FRIES\", \"FRIGS\", \"FRISE\", \r\n        \"FRISK\", \"FRIST\", \"FRITH\", \"FRITS\", \"FRITZ\", \"FRIZE\", \"FROCK\", \"FROES\", \"FROGS\", \"FROND\", \"FRONS\", \"FRONT\", \r\n        \"FROSH\", \"FROST\", \"FROTH\", \"FROWN\", \"FROWS\", \"FROWY\", \"FROZE\", \"FRUGS\", \"FRUIT\", \"FRUMP\", \"FRUSH\", \"FRUST\", \r\n        \"FUBAR\", \"FUBSY\", \"FUCKS\", \"FUDGE\", \"FUELS\", \"FUERO\", \"FUGAL\", \"FUGIE\", \"FUGIO\", \"FUGLE\", \"FUGLY\", \"FUJIS\", \r\n        \"FUMED\", \"FUMER\", \"FUMES\", \"FUMET\", \"FUNDI\", \"FUNDS\", \"FUNDY\", \"FUNGI\", \"FUNGO\", \"FUNGS\", \"FUNKS\", \"FUNKY\", \r\n        \"FURAL\", \"FURAN\", \"FURCA\", \"FURLS\", \"FUROL\", \"FURTH\", \"FURZE\", \"FURZY\", \"FUSED\", \"FUSEL\", \"FUSIL\", \"FUSTY\", \r\n        \"FUTON\", \"FUZED\", \"FUZES\", \"FUZIL\", \"FYCES\", \"FYKED\", \"FYKES\", \"FYLES\", \"FYRDS\"\r\n    ],\r\n    \"G\": [\r\n        \"GABLE\", \"GADES\", \"GADIS\", \"GADJE\", \"GADJO\", \"GADSO\", \"GAIDS\", \"GAILY\", \"GAINS\", \"GAIRS\", \"GAITS\", \"GAJOS\", \r\n        \"GALES\", \"GALOP\", \"GALUT\", \"GALVO\", \"GAMBE\", \"GAMBO\", \"GAMBS\", \"GAMED\", \"GAMER\", \"GAMES\", \"GAMEY\", \"GAMIC\", \r\n        \"GAMIN\", \"GAMPS\", \"GAMUT\", \"GANCH\", \"GANDY\", \"GANEF\", \"GANEV\", \"GANOF\", \"GANTS\", \"GAOLS\", \"GAPED\", \"GAPER\", \r\n        \"GAPES\", \"GAPOS\", \"GARBE\", \"GARBO\", \"GARBS\", \"GARIS\", \"GARNI\", \"GARTH\", \"GARUM\", \"GASPY\", \"GATED\", \"GATER\", \r\n        \"GATES\", \"GATHS\", \"GATOR\", \"GAUCY\", \"GAUDS\", \"GAUDY\", \"GAUJE\", \"GAULT\", \"GAUMS\", \"GAUMY\", \"GAUNT\", \"GAUPS\", \r\n        \"GAURS\", \"GAUZE\", \"GAUZY\", \"GAVEL\", \"GAVOT\", \"GAWCY\", \"GAWDS\", \"GAWKS\", \"GAWKY\", \"GAWPS\", \"GAWSY\", \"GAYER\", \r\n        \"GAZED\", \"GAZER\", \"GAZES\", \"GAZON\", \"GEALS\", \"GEANS\", \"GEARS\", \"GEATS\", \"GEBUR\", \"GECKO\", \"GECKS\", \"GEIST\", \r\n        \"GEITS\", \"GELDS\", \"GELID\", \"GELTS\", \"GEMOT\", \"GENAL\", \"GENAS\", \"GENIC\", \"GENIP\", \"GENOA\", \"GENOM\", \"GENRO\", \r\n        \"GENTS\", \"GENTY\", \"GENUA\", \"GENUS\", \"GEOID\", \"GERAH\", \"GERMS\", \"GERMY\", \"GETAS\", \"GETUP\", \"GEUMS\", \"GEYAN\", \r\n        \"GHAST\", \"GHATS\", \"GHAUT\", \"GHAZI\", \"GHEST\", \"GHOST\", \"GHOUL\", \"GIANT\", \"GIBED\", \"GIBEL\", \"GIBER\", \"GIBES\", \r\n        \"GIBUS\", \"GIFTS\", \"GILAS\", \"GILDS\", \"GILET\", \"GILPY\", \"GILTS\", \"GIMEL\", \"GIMPS\", \"GIMPY\", \"GINKS\", \"GINZO\", \r\n        \"GIPON\", \"GIPSY\", \"GIRDS\", \"GIRLS\", \"GIRLY\", \"GIRNS\", \"GIRON\", \"GIROS\", \"GIRSH\", \"GIRTH\", \"GIRTS\", \"GISMO\", \r\n        \"GITES\", \"GIUST\", \"GIVED\", \"GIVEN\", \"GIVER\", \"GIVES\", \"GIZMO\", \"GLACE\", \"GLADE\", \"GLADS\", \"GLADY\", \"GLAIK\", \r\n        \"GLAIR\", \"GLAMS\", \"GLAND\", \"GLANS\", \"GLARE\", \"GLARY\", \"GLAUM\", \"GLAUR\", \"GLAZE\", \"GLAZY\", \"GLEAM\", \"GLEAN\", \r\n        \"GLEBA\", \"GLEBY\", \"GLEDS\", \"GLEIS\", \"GLENS\", \"GLENT\", \"GLEYS\", \"GLIAS\", \"GLIBS\", \"GLIDE\", \"GLIFT\", \"GLIKE\", \r\n        \"GLIME\", \"GLIMS\", \"GLINT\", \"GLISK\", \"GLITS\", \"GLITZ\", \"GLOAM\", \"GLOAT\", \"GLOBE\", \"GLOBI\", \"GLOBS\", \"GLOBY\", \r\n        \"GLODE\", \"GLOMS\", \"GLOPS\", \"GLORY\", \"GLOST\", \"GLOUT\", \"GLOVE\", \"GLOWS\", \"GLOZE\", \"GLUED\", \"GLUER\", \"GLUES\", \r\n        \"GLUEY\", \"GLUME\", \"GLUMS\", \"GLUON\", \"GLUTE\", \"GLUTS\", \"GLYPH\", \"GNARL\", \"GNARS\", \"GNASH\", \"GNATS\", \"GNAWS\", \r\n        \"GNOME\", \"GNOWS\", \"GOADS\", \"GOAFS\", \"GOALS\", \"GOARY\", \"GOATS\", \"GOATY\", \"GOBAN\", \"GODET\", \"GODLY\", \"GOELS\", \r\n        \"GOERS\", \"GOETY\", \"GOFER\", \"GOIER\", \"GOLDS\", \"GOLDY\", \"GOLEM\", \"GOLES\", \"GOLFS\", \"GOLPE\", \"GOLPS\", \"GOMER\", \r\n        \"GOMPA\", \"GONAD\", \"GONEF\", \"GONER\", \"GONIA\", \"GONIF\", \"GONKS\", \"GONYS\", \"GOPAK\", \"GOPIK\", \"GORAL\", \"GORAS\", \r\n        \"GORED\", \"GORES\", \"GORIS\", \"GORMS\", \"GORMY\", \"GORPS\", \"GORSE\", \"GORSY\", \"GOSHT\", \"GOTHS\", \"GOUKS\", \"GOURA\", \r\n        \"GOURD\", \"GOUTS\", \"GOUTY\", \"GOWAN\", \"GOWDS\", \"GOWFS\", \"GOWKS\", \"GOWLS\", \"GOWNS\", \"GOXES\", \"GOYIM\", \"GRABS\", \r\n        \"GRACE\", \"GRADE\", \"GRADS\", \"GRAFT\", \"GRAIL\", \"GRAIN\", \"GRAIP\", \"GRAME\", \"GRAMP\", \"GRAMS\", \"GRAND\", \"GRANS\", \r\n        \"GRANT\", \"GRAPE\", \"GRAPH\", \"GRAPY\", \"GRASP\", \"GRATE\", \"GRAVE\", \"GRAVS\", \"GRAVY\", \"GRAYS\", \"GRAZE\", \"GREAT\", \r\n        \"GREIN\", \"GRENS\", \"GRENZ\", \"GREWS\", \"GREYS\", \"GRICE\", \"GRIDE\", \"GRIDS\", \"GRIEF\", \"GRIFT\", \"GRIKE\", \"GRIME\", \r\n        \"GRIMY\", \"GRIND\", \"GRINS\", \"GRIOT\", \"GRIPE\", \"GRIPS\", \"GRIPT\", \"GRIPY\", \"GRISE\", \"GRIST\", \"GRISY\", \"GRITH\", \r\n        \"GRITS\", \"GRIZE\", \"GROAN\", \"GROAT\", \"GRODY\", \"GROIN\", \"GROKS\", \"GROMA\", \"GRONE\", \"GROPE\", \"GROSZ\", \"GROTS\", \r\n        \"GROUF\", \"GROUP\", \"GROUT\", \"GROVE\", \"GROWL\", \"GROWN\", \"GROWS\", \"GRUBS\", \"GRUED\", \"GRUEL\", \"GRUES\", \"GRUFE\", \r\n        \"GRUME\", \"GRUMP\", \"GRUNT\", \"GRYCE\", \"GRYDE\", \"GRYKE\", \"GRYPE\", \"GRYPT\", \"GUACO\", \"GUANO\", \"GUANS\", \"GUARD\", \r\n        \"GUARS\", \"GUCKS\", \"GUCKY\", \"GUDES\", \"GUEST\", \"GUIDE\", \"GUIDS\", \"GUILD\", \"GUILE\", \"GUILT\", \"GUIMP\", \"GUIRO\", \r\n        \"GUISE\", \"GULAR\", \"GULAS\", \"GULCH\", \"GULES\", \"GULFS\", \"GULFY\", \"GULPH\", \"GULPS\", \"GULPY\", \"GUMBO\", \"GUMPS\", \r\n        \"GUNDY\", \"GUNKS\", \"GUNKY\", \"GURLS\", \"GURLY\", \"GURNS\", \"GURSH\", \"GUSHY\", \"GUSLA\", \"GUSLE\", \"GUSLI\", \"GUSTO\", \r\n        \"GUSTY\", \"GUTSY\", \"GUYED\", \"GUYLE\", \"GUYOT\", \"GUYSE\", \"GWINE\", \"GYALS\", \"GYBED\", \"GYBES\", \"GYELD\", \"GYMPS\", \r\n        \"GYNAE\", \"GYNIE\", \"GYOZA\", \"GYRAL\", \"GYRED\", \"GYRES\", \"GYRON\", \"GYROS\", \"GYRUS\", \"GYTES\", \"GYVED\", \"GYVES\"\r\n    ],\r\n    \"H\": [\r\n        \"HABIT\", \"HABLE\", \"HABUS\", \"HACEK\", \"HACKS\", \"HADES\", \"HADJI\", \"HADST\", \"HAEMS\", \"HAETS\", \"HAFIZ\", \"HAFTS\", \r\n        \"HAICK\", \"HAIKS\", \"HAIKU\", \"HAILS\", \"HAILY\", \"HAINS\", \"HAINT\", \"HAIRS\", \"HAIRY\", \"HAJES\", \"HAJIS\", \"HAKES\", \r\n        \"HAKIM\", \"HAKUS\", \"HALED\", \"HALER\", \"HALES\", \"HALFS\", \"HALID\", \"HALMS\", \"HALON\", \"HALOS\", \"HALSE\", \"HALTS\", \r\n        \"HALVE\", \"HAMED\", \"HAMES\", \"HANCE\", \"HANDS\", \"HANDY\", \"HANGI\", \"HANGS\", \"HANKS\", \"HANKY\", \"HANSE\", \"HANTS\", \r\n        \"HAOLE\", \"HAPLY\", \"HAPUS\", \"HARDS\", \"HARDY\", \"HARED\", \"HAREM\", \"HARES\", \"HARIM\", \"HARKS\", \"HARLS\", \"HARMS\", \r\n        \"HARNS\", \"HAROS\", \"HARPS\", \"HARPY\", \"HARTS\", \"HASTE\", \"HASTY\", \"HATED\", \"HATER\", \"HATES\", \"HAUDS\", \"HAUFS\", \r\n        \"HAULD\", \"HAULM\", \"HAULS\", \"HAULT\", \"HAUNT\", \"HAUSE\", \"HAUTE\", \"HAVEN\", \"HAVER\", \"HAVES\", \"HAVOC\", \"HAWED\", \r\n        \"HAWKS\", \"HAWMS\", \"HAWSE\", \"HAYED\", \"HAYER\", \"HAYLE\", \"HAZED\", \"HAZEL\", \"HAZER\", \"HAZES\", \"HEADS\", \"HEADY\", \r\n        \"HEALD\", \"HEALS\", \"HEAPS\", \"HEAPY\", \"HEARD\", \"HEARS\", \"HEART\", \"HEAST\", \"HEATS\", \"HEAVY\", \"HECKS\", \"HEDGY\", \r\n        \"HEFTS\", \"HEFTY\", \"HEIDS\", \"HEILS\", \"HEIRS\", \"HEIST\", \"HEJAB\", \"HEJRA\", \"HELIO\", \"HELIX\", \"HELMS\", \"HELOS\", \r\n        \"HELOT\", \"HELPS\", \"HEMAL\", \"HEMIC\", \"HEMIN\", \"HEMPS\", \"HEMPY\", \"HENDS\", \"HENRY\", \"HENTS\", \"HEPAR\", \"HERBS\", \r\n        \"HERBY\", \"HERDS\", \"HERLS\", \"HERMA\", \"HERMS\", \"HERNS\", \"HERON\", \"HEROS\", \"HERTZ\", \"HEXAD\", \"HEXYL\", \"HIANT\", \r\n        \"HICKS\", \"HIDER\", \"HIDES\", \"HIEMS\", \"HIJAB\", \"HIJRA\", \"HIKED\", \"HIKER\", \"HIKES\", \"HILAR\", \"HILTS\", \"HILUM\", \r\n        \"HILUS\", \"HIMBO\", \"HINAU\", \"HINDS\", \"HINGE\", \"HINGS\", \"HINKY\", \"HINTS\", \"HIPLY\", \"HIRED\", \"HIRES\", \"HIVED\", \r\n        \"HIVER\", \"HIVES\", \"HIZEN\", \"HOAED\", \"HOAGY\", \"HOARD\", \"HOARS\", \"HOARY\", \"HOAST\", \"HOCKS\", \"HOCUS\", \"HODJA\", \r\n        \"HOERS\", \"HOGAN\", \"HOGEN\", \"HOICK\", \"HOIKS\", \"HOING\", \"HOISE\", \"HOIST\", \"HOKED\", \"HOKES\", \"HOKEY\", \"HOKIS\", \r\n        \"HOKUM\", \"HOLDS\", \"HOLED\", \"HOLES\", \"HOLEY\", \"HOLKS\", \"HOLMS\", \"HOLTS\", \"HOMAS\", \"HOMED\", \"HOMER\", \"HOMES\", \r\n        \"HOMEY\", \"HOMIE\", \"HONDA\", \"HONDS\", \"HONED\", \"HONER\", \"HONES\", \"HONEY\", \"HONGI\", \"HONGS\", \"HONKS\", \"HONKY\", \r\n        \"HOPED\", \"HOPER\", \"HOPES\", \"HORAL\", \"HORAS\", \"HORDE\", \"HORIS\", \"HORME\", \"HORNS\", \"HORNY\", \"HORSE\", \"HORST\", \r\n        \"HORSY\", \"HOSED\", \"HOSEL\", \"HOSEN\", \"HOSER\", \"HOSEY\", \"HOSTA\", \"HOTEL\", \"HOTEN\", \"HOTLY\", \"HOUFS\", \"HOUND\", \r\n        \"HOURI\", \"HOURS\", \"HOUSE\", \"HOUTS\", \"HOVEA\", \"HOVED\", \"HOVEL\", \"HOVEN\", \"HOVER\", \"HOVES\", \"HOWBE\", \"HOWDY\", \r\n        \"HOWES\", \"HOWFS\", \"HOWKS\", \"HOWLS\", \"HOWRE\", \"HOXED\", \"HOXES\", \"HOYAS\", \"HOYED\", \"HOYLE\", \"HUCKS\", \"HUDNA\", \r\n        \"HUERS\", \"HUGER\", \"HUIAS\", \"HULAS\", \"HULES\", \"HULKS\", \"HULKY\", \"HUMAN\", \"HUMAS\", \"HUMFS\", \"HUMIC\", \"HUMID\", \r\n        \"HUMOR\", \"HUMPS\", \"HUMPY\", \"HUNKS\", \"HUNKY\", \"HUNTS\", \"HURDS\", \"HURLS\", \"HURLY\", \"HURST\", \"HURTS\", \"HUSKY\", \r\n        \"HUTIA\", \"HWYLS\", \"HYDRA\", \"HYDRO\", \"HYENA\", \"HYENS\", \"HYING\", \"HYKES\", \"HYLAS\", \"HYLEG\", \"HYLES\", \"HYLIC\", \r\n        \"HYMEN\", \"HYMNS\", \"HYNDE\", \"HYOID\", \"HYPED\", \"HYPER\", \"HYPES\", \"HYPOS\", \"HYRAX\", \"HYSON\"\r\n    ],\r\n    \"I\": [\r\n        \"IAMBS\", \"ICERS\", \"ICHED\", \"ICHES\", \"ICHOR\", \"ICKER\", \"ICKLE\", \"ICONS\", \"ICTAL\", \"ICTUS\", \"IDANT\", \"IDEAL\", \r\n        \"IDEAS\", \"IDENT\", \"IDLER\", \"IDLES\", \"IDOLA\", \"IDOLS\", \"IDYLS\", \"IFTAR\", \"IGAPO\", \"IGLUS\", \"IHRAM\", \"IKANS\", \r\n        \"IKATS\", \"IKONS\", \"ILEAC\", \"ILEUM\", \"ILEUS\", \"IMAGE\", \"IMAGO\", \"IMBAR\", \"IMBED\", \"IMBUE\", \"IMPED\", \"IMPEL\", \r\n        \"IMPLY\", \"IMPOT\", \"IMSHY\", \"INAPT\", \"INARM\", \"INBYE\", \"INCLE\", \"INCOG\", \"INCUR\", \"INCUS\", \"INCUT\", \"INDEW\", \r\n        \"INDEX\", \"INDOL\", \"INDOW\", \"INDUE\", \"INEPT\", \"INERM\", \"INERT\", \"INFER\", \"INFOS\", \"INFRA\", \"INGLE\", \"INGOT\", \r\n        \"INKED\", \"INKER\", \"INKLE\", \"INLAY\", \"INLET\", \"INORB\", \"INPUT\", \"INSET\", \"INTEL\", \"INTER\", \"INTRA\", \"INTRO\", \r\n        \"INULA\", \"INURE\", \"INUST\", \"INVAR\", \"IOTAS\", \"IRADE\", \"IRATE\", \"IRKED\", \"IRONE\", \"IRONS\", \"IRONY\", \"ISLED\", \r\n        \"ISLET\", \"ISNAE\", \"ISTLE\", \"ITCHY\", \"ITEMS\", \"ITHER\", \"IVORY\", \"IXORA\", \"IXTLE\", \"IZARD\", \"IZARS\"\r\n    ],\r\n    \"J\": [\r\n        \"JABOT\", \"JACKS\", \"JACKY\", \"JADES\", \"JAGER\", \"JAGIR\", \"JAILS\", \"JAKES\", \"JAKEY\", \"JALOP\", \"JAMBE\", \"JAMBO\", \r\n        \"JAMBS\", \"JAMBU\", \"JAMES\", \"JANES\", \"JANTY\", \"JAPED\", \"JAPER\", \"JAPES\", \"JARKS\", \"JARLS\", \"JARPS\", \"JARUL\", \r\n        \"JASEY\", \"JASPE\", \"JATOS\", \"JAUKS\", \"JAUNT\", \"JAUPS\", \"JAVEL\", \"JAWED\", \"JAXIE\", \"JEANS\", \"JEATS\", \"JEDIS\", \r\n        \"JEHAD\", \"JEHUS\", \"JELAB\", \"JERID\", \"JERKS\", \"JERKY\", \"JETON\", \"JIAOS\", \"JIBED\", \"JIBER\", \"JIBES\", \"JIGOT\", \r\n        \"JIHAD\", \"JILTS\", \"JIMPY\", \"JINGO\", \"JINKS\", \"JIRDS\", \"JIRGA\", \"JIVED\", \"JIVER\", \"JIVES\", \"JIVEY\", \"JOBED\", \r\n        \"JOBES\", \"JOCKS\", \"JODEL\", \"JOEYS\", \"JOHNS\", \"JOINS\", \"JOINT\", \"JOIST\", \"JOKED\", \"JOKER\", \"JOKES\", \"JOKEY\", \r\n        \"JOLED\", \"JOLES\", \"JOLTS\", \"JOLTY\", \"JONES\", \"JONGS\", \"JONTY\", \"JORAM\", \"JORUM\", \"JOTAS\", \"JOTUN\", \"JOUAL\", \r\n        \"JOUGS\", \"JOUKS\", \"JOULE\", \"JOURS\", \"JOUST\", \"JOWAR\", \"JOWED\", \"JOWLS\", \"JOWLY\", \"JOYED\", \"JUBAS\", \"JUBES\", \r\n        \"JUCOS\", \"JUDAS\", \"JUDGE\", \"JUDOS\", \"JUGAL\", \"JUICE\", \"JUICY\", \"JUKED\", \"JUKES\", \"JULEP\", \"JUMAR\", \"JUMBO\", \r\n        \"JUMBY\", \"JUMPS\", \"JUMPY\", \"JUNCO\", \"JUNKS\", \"JUNKY\", \"JUNTA\", \"JUNTO\", \"JUPES\", \"JUPON\", \"JURAL\", \"JURAT\", \r\n        \"JUREL\", \"JUTES\", \"JUVES\"\r\n    ],\r\n    \"K\": [\r\n        \"KADES\", \"KADIS\", \"KAFIR\", \"KAGOS\", \"KAGUS\", \"KAIDS\", \"KAIES\", \"KAIFS\", \"KAILS\", \"KAIMS\", \"KAING\", \"KAINS\", \r\n        \"KALES\", \"KALIF\", \"KALIS\", \"KAMES\", \"KAMIS\", \"KANDY\", \"KANEH\", \"KANES\", \"KANGS\", \"KANJI\", \"KANTS\", \"KANZU\", \r\n        \"KAONS\", \"KAPHS\", \"KAPUT\", \"KARNS\", \"KARST\", \"KARSY\", \"KARTS\", \"KARZY\", \"KASME\", \"KATIS\", \"KAUGH\", \"KAURI\", \r\n        \"KAURY\", \"KAWED\", \"KAYLE\", \"KAYOS\", \"KAZIS\", \"KBARS\", \"KEBAR\", \"KEDGY\", \"KEFIR\", \"KEHUA\", \"KEIRS\", \"KELIM\", \r\n        \"KELPS\", \"KELPY\", \"KELTS\", \"KELTY\", \"KEMBO\", \"KEMBS\", \"KEMPS\", \"KEMPT\", \"KEMPY\", \"KENAF\", \"KENCH\", \"KENDO\", \r\n        \"KENOS\", \"KENTS\", \"KEPIS\", \"KERBS\", \"KERFS\", \"KERMA\", \"KERNS\", \"KEROS\", \"KESAR\", \"KETAS\", \"KETCH\", \"KETOL\", \r\n        \"KEVIL\", \"KHADI\", \"KHAFS\", \"KHANS\", \"KHATS\", \"KHAZI\", \"KHEDA\", \"KHETS\", \"KHOJA\", \"KHORS\", \"KHOUM\", \"KHUDS\", \r\n        \"KIANG\", \"KIBES\", \"KIBLA\", \"KIDEL\", \"KIDGE\", \"KIEFS\", \"KIERS\", \"KIGHT\", \"KILEY\", \"KILNS\", \"KILOS\", \"KILPS\", \r\n        \"KILTS\", \"KILTY\", \"KIMBO\", \"KINAS\", \"KINDA\", \"KINDS\", \"KINDY\", \"KINES\", \"KINGS\", \"KINOS\", \"KIORE\", \"KIPES\", \r\n        \"KIRBY\", \"KIRNS\", \"KISAN\", \"KITED\", \"KITER\", \"KITES\", \"KITHE\", \"KITHS\", \"KIVAS\", \"KLANG\", \"KLAPS\", \"KLIEG\", \r\n        \"KLONG\", \"KLUGE\", \"KLUTZ\", \"KNAGS\", \"KNAPS\", \"KNARL\", \"KNARS\", \"KNAUR\", \"KNAVE\", \"KNAWE\", \"KNEAD\", \"KNELT\", \r\n        \"KNIFE\", \"KNISH\", \"KNITS\", \"KNIVE\", \"KNOBS\", \"KNOPS\", \"KNOSP\", \"KNOTS\", \"KNOUT\", \"KNOWE\", \"KNOWS\", \"KNUBS\", \r\n        \"KNURL\", \"KNURS\", \"KNUTS\", \"KOANS\", \"KOAPS\", \"KOBAN\", \"KOELS\", \"KOFTA\", \"KOHAS\", \"KOHLS\", \"KOINE\", \"KOJIS\", \r\n        \"KOLAS\", \"KOMBU\", \"KONBU\", \"KOPHS\", \"KOPJE\", \"KORAI\", \"KORAS\", \"KORAT\", \"KORES\", \"KORMA\", \"KORUN\", \"KORUS\", \r\n        \"KOTCH\", \"KOURA\", \"KRABS\", \"KRAFT\", \"KRAIT\", \"KRANG\", \"KRANS\", \"KRANZ\", \"KRAUT\", \"KRENG\", \"KRONA\", \"KRONE\", \r\n        \"KRUBI\", \"KUDOS\", \"KUFIS\", \"KUGEL\", \"KUIAS\", \"KULAN\", \"KULAS\", \"KULFI\", \"KUMYS\", \"KURIS\", \"KURTA\", \"KUTAS\", \r\n        \"KUTCH\", \"KUTIS\", \"KWELA\", \"KYANG\", \"KYARS\", \"KYATS\", \"KYBOS\", \"KYDST\", \"KYLES\", \"KYLIE\", \"KYLIN\", \"KYLIX\", \r\n        \"KYLOE\", \"KYNDE\", \"KYNDS\", \"KYPES\", \"KYRIE\", \"KYTES\", \"KYTHE\"\r\n    ],\r\n    \"L\": [\r\n        \"LABIS\", \"LABOR\", \"LACED\", \"LACER\", \"LACES\", \"LACET\", \"LACEY\", \"LACKS\", \"LADEN\", \"LADER\", \"LADES\", \"LAERS\", \r\n        \"LAEVO\", \"LAGER\", \"LAICH\", \"LAICS\", \"LAIDS\", \"LAIGH\", \"LAIKS\", \"LAIRD\", \"LAIRS\", \"LAIRY\", \"LAITH\", \"LAITY\", \r\n        \"LAKED\", \"LAKER\", \"LAKES\", \"LAKHS\", \"LAKIN\", \"LAMBS\", \"LAMBY\", \"LAMED\", \"LAMER\", \"LAMES\", \"LAMPS\", \"LANCE\", \r\n        \"LANCH\", \"LANDE\", \"LANDS\", \"LANES\", \"LANKS\", \"LANKY\", \"LANTS\", \"LAPIN\", \"LAPIS\", \"LAPJE\", \"LAPSE\", \"LARCH\", \r\n        \"LARDS\", \"LARDY\", \"LARES\", \"LARGE\", \"LARGO\", \"LARIS\", \"LARKS\", \"LARKY\", \"LARNS\", \"LARUM\", \"LASED\", \"LASER\", \r\n        \"LATCH\", \"LATED\", \"LATEN\", \"LATER\", \"LATEX\", \"LATHE\", \"LATHI\", \"LATHS\", \"LATHY\", \"LATKE\", \"LAUCH\", \"LAUDS\", \r\n        \"LAUFS\", \"LAUGH\", \"LAUND\", \"LAVED\", \"LAVER\", \"LAVES\", \"LAWED\", \"LAWER\", \"LAWIN\", \"LAWKS\", \"LAWNS\", \"LAWNY\", \r\n        \"LAXER\", \"LAXES\", \"LAYED\", \"LAYER\", \"LAYIN\", \"LAYUP\", \"LAZED\", \"LAZES\", \"LAZOS\", \"LEACH\", \"LEADS\", \"LEADY\", \r\n        \"LEAFS\", \"LEAFY\", \"LEAKS\", \"LEAKY\", \"LEAMS\", \"LEANS\", \"LEANT\", \"LEANY\", \"LEAPS\", \"LEAPT\", \"LEARN\", \"LEARS\", \r\n        \"LEARY\", \"LEASH\", \"LEAST\", \"LEATS\", \"LEAVY\", \"LEDGY\", \"LEDUM\", \"LEFTS\", \"LEFTY\", \"LEGIT\", \"LEHRS\", \"LEHUA\", \r\n        \"LEIRS\", \"LEISH\", \"LEMAN\", \"LEMON\", \"LEMUR\", \"LENDS\", \"LENGS\", \"LENIS\", \"LENOS\", \"LENTI\", \"LENTO\", \"LEPID\", \r\n        \"LEPRA\", \"LEPTA\", \"LERPS\", \"LESBO\", \"LETCH\", \"LETUP\", \"LEUCH\", \"LEUCO\", \"LEUDS\", \"LEUGH\", \"LEVIN\", \"LEVIS\", \r\n        \"LEWIS\", \"LEXIS\", \"LIANE\", \"LIANG\", \"LIARD\", \"LIARS\", \"LIART\", \"LIBER\", \"LIBRA\", \"LICHT\", \"LICKS\", \"LIDAR\", \r\n        \"LIDOS\", \"LIEFS\", \"LIENS\", \"LIERS\", \"LIEUS\", \"LIFER\", \"LIFES\", \"LIFTS\", \"LIGAN\", \"LIGER\", \"LIGHT\", \"LIGNE\", \r\n        \"LIKED\", \"LIKEN\", \"LIKER\", \"LIKES\", \"LIMAN\", \"LIMAS\", \"LIMAX\", \"LIMBA\", \"LIMBO\", \"LIMBS\", \"LIMBY\", \"LIMED\", \r\n        \"LIMEN\", \"LIMES\", \"LIMEY\", \"LIMNS\", \"LIMOS\", \"LIMPA\", \"LIMPS\", \"LINAC\", \"LINCH\", \"LINDS\", \"LINDY\", \"LINED\", \r\n        \"LINER\", \"LINES\", \"LINEY\", \"LINGA\", \"LINGO\", \"LINGS\", \"LINGY\", \"LINKS\", \"LINKY\", \"LINOS\", \"LINTS\", \"LINTY\", \r\n        \"LINUM\", \"LINUX\", \"LIONS\", \"LIPOS\", \"LIRAS\", \"LIRKS\", \"LIROT\", \"LITAS\", \"LITED\", \"LITER\", \"LITES\", \"LITHE\", \r\n        \"LITHO\", \"LITHS\", \"LITRE\", \"LIVED\", \"LIVEN\", \"LIVER\", \"LIVES\", \"LIVOR\", \"LIVRE\", \"LOACH\", \"LOADS\", \"LOAFS\", \r\n        \"LOAMS\", \"LOAMY\", \"LOANS\", \"LOAST\", \"LOATH\", \"LOAVE\", \"LOBAR\", \"LOBED\", \"LOBES\", \"LOBUS\", \"LOCHS\", \"LOCKS\", \r\n        \"LOCUM\", \"LOCUS\", \"LODEN\", \"LODES\", \"LODGE\", \"LOFTS\", \"LOFTY\", \"LOGAN\", \"LOGES\", \"LOGIA\", \"LOGIC\", \"LOGIE\", \r\n        \"LOGIN\", \"LOHAN\", \"LOIDS\", \"LOINS\", \"LOIPE\", \"LOIRS\", \"LOKES\", \"LOMAS\", \"LOMED\", \"LOMES\", \"LONER\", \"LONGA\", \r\n        \"LONGE\", \"LONGS\", \"LOPED\", \"LOPER\", \"LOPES\", \"LORAN\", \"LORDS\", \"LORDY\", \"LORES\", \"LORIC\", \"LORIS\", \"LOSED\", \r\n        \"LOSEN\", \"LOSER\", \"LOTAH\", \"LOTAS\", \"LOTES\", \"LOTIC\", \"LOTUS\", \"LOUED\", \"LOUGH\", \"LOUIE\", \"LOUIS\", \"LOUMA\", \r\n        \"LOUND\", \"LOUNS\", \"LOUPE\", \"LOUPS\", \"LOURE\", \"LOURS\", \"LOURY\", \"LOUSE\", \"LOUSY\", \"LOUTS\", \"LOVAT\", \"LOVED\", \r\n        \"LOVER\", \"LOVES\", \"LOVEY\", \"LOWAN\", \"LOWED\", \"LOWER\", \"LOWES\", \"LOWND\", \"LOWNE\", \"LOWNS\", \"LOWPS\", \"LOWRY\", \r\n        \"LOWSE\", \"LOWTS\", \"LOXED\", \"LOXES\", \"LOZEN\", \"LUACH\", \"LUBED\", \"LUBES\", \"LUBRA\", \"LUCES\", \"LUCID\", \"LUCKS\", \r\n        \"LUCKY\", \"LUCRE\", \"LUDES\", \"LUDIC\", \"LUDOS\", \"LUGED\", \"LUGER\", \"LUGES\", \"LUMAS\", \"LUMEN\", \"LUMPS\", \"LUMPY\", \r\n        \"LUNAR\", \"LUNAS\", \"LUNCH\", \"LUNES\", \"LUNET\", \"LUNGE\", \"LUNGI\", \"LUNGS\", \"LUNKS\", \"LUNTS\", \"LUPIN\", \"LURCH\", \r\n        \"LURED\", \"LURES\", \"LUREX\", \"LURGI\", \"LURGY\", \"LURID\", \"LURKS\", \"LURVE\", \"LUSER\", \"LUSHY\", \"LUSTY\", \"LUTEA\", \r\n        \"LUTED\", \"LUTER\", \"LUTES\", \"LUXES\", \"LWEIS\", \"LYAMS\", \"LYARD\", \"LYART\", \"LYASE\", \"LYCEA\", \"LYCRA\", \"LYING\", \r\n        \"LYMES\", \"LYMPH\", \"LYNCH\", \"LYNES\", \"LYRES\", \"LYRIC\", \"LYSED\", \"LYSIN\", \"LYTED\", \"LYTES\", \"LYTHE\", \"LYTIC\" \r\n    ],\r\n    \"M\": [\r\n        \"MABES\", \"MACED\", \"MACER\", \"MACES\", \"MACHE\", \"MACHI\", \"MACHO\", \"MACHS\", \"MACKS\", \"MACLE\", \"MACON\", \"MACRO\", \r\n        \"MADGE\", \"MADLY\", \"MADRE\", \"MAFIC\", \"MAGES\", \"MAGIC\", \"MAGOT\", \"MAGUS\", \"MAHOE\", \"MAIDS\", \"MAIKO\", \"MAIKS\", \r\n        \"MAILE\", \"MAILS\", \"MAINS\", \"MAIRE\", \"MAIRS\", \"MAISE\", \"MAIST\", \"MAIZE\", \"MAJOR\", \"MAKER\", \"MAKES\", \"MAKIS\", \r\n        \"MAKOS\", \"MALES\", \"MALIC\", \"MALIK\", \"MALIS\", \"MALTS\", \"MALTY\", \"MANDI\", \"MANED\", \"MANEH\", \"MANES\", \"MANET\", \r\n        \"MANGE\", \"MANGO\", \"MANGS\", \"MANGY\", \"MANIC\", \"MANIS\", \"MANKY\", \"MANLY\", \"MANOR\", \"MANOS\", \"MANSE\", \"MANTO\", \r\n        \"MANTY\", \"MANUL\", \"MANUS\", \"MAPLE\", \"MAQUI\", \"MARCH\", \"MARCS\", \"MARDY\", \"MARES\", \"MARGE\", \"MARGS\", \"MARID\", \r\n        \"MARKS\", \"MARLE\", \"MARLS\", \"MARLY\", \"MARON\", \"MARSE\", \"MARSH\", \"MARTS\", \"MARVY\", \"MASED\", \"MASER\", \"MASHY\", \r\n        \"MASON\", \"MASTY\", \"MATCH\", \"MATED\", \"MATER\", \"MATES\", \"MATEY\", \"MATHS\", \"MATIN\", \"MATLO\", \"MATZO\", \"MAUBY\", \r\n        \"MAUDS\", \"MAULS\", \"MAUND\", \"MAURI\", \"MAUTS\", \"MAUVE\", \"MAVEN\", \"MAVIE\", \"MAVIN\", \"MAVIS\", \"MAWED\", \"MAWKS\", \r\n        \"MAWKY\", \"MAWRS\", \"MAXED\", \"MAXES\", \"MAXIS\", \"MAYBE\", \"MAYED\", \"MAYOR\", \"MAYOS\", \"MAYST\", \"MAZED\", \"MAZER\", \r\n        \"MAZES\", \"MAZEY\", \"MAZUT\", \"MBIRA\", \"MEADS\", \"MEALS\", \"MEALY\", \"MEANS\", \"MEANT\", \"MEANY\", \"MEATH\", \"MEATS\", \r\n        \"MEATY\", \"MEBOS\", \"MECKS\", \"MEDAL\", \"MEDIA\", \"MEDIC\", \"MEINS\", \"MEINT\", \"MEINY\", \"MEITH\", \"MELAS\", \"MELDS\", \r\n        \"MELIC\", \"MELIK\", \"MELON\", \"MELTS\", \"MELTY\", \"MENAD\", \"MENDS\", \"MENGS\", \"MENSA\", \"MENSH\", \"MENTA\", \"MENTO\", \r\n        \"MENUS\", \"MEOUS\", \"MEOWS\", \"MERCH\", \"MERCS\", \"MERCY\", \"MERIL\", \"MERIS\", \"MERIT\", \"MERKS\", \"MERLS\", \"MESAL\", \r\n        \"MESHY\", \"MESIC\", \"MESON\", \"MESTO\", \"METAL\", \"METHO\", \"METHS\", \"METIC\", \"METIF\", \"METIS\", \"METOL\", \"METRO\", \r\n        \"MEWLS\", \"MEYNT\", \"MIAOU\", \"MIAOW\", \"MIAUL\", \"MICAS\", \"MICHE\", \"MICHT\", \"MICKS\", \"MICKY\", \"MICOS\", \"MICRA\", \r\n        \"MICRO\", \"MIDGE\", \"MIDGY\", \"MIDST\", \"MIENS\", \"MIFTY\", \"MIGHT\", \"MIKED\", \"MIKES\", \"MIKRA\", \"MILCH\", \"MILDS\", \r\n        \"MILER\", \"MILES\", \"MILKO\", \"MILKS\", \"MILKY\", \"MILOR\", \"MILOS\", \"MILPA\", \"MILTS\", \"MILTY\", \"MILTZ\", \"MINAE\", \r\n        \"MINAR\", \"MINAS\", \"MINCE\", \"MINCY\", \"MINDS\", \"MINED\", \"MINER\", \"MINES\", \"MINGE\", \"MINGS\", \"MINGY\", \"MINKE\", \r\n        \"MINKS\", \"MINOR\", \"MINOS\", \"MINTS\", \"MINTY\", \"MINUS\", \"MIRED\", \"MIRES\", \"MIREX\", \"MIRKS\", \"MIRKY\", \"MIRLY\", \r\n        \"MIRTH\", \"MIRVS\", \"MIRZA\", \"MISCH\", \"MISDO\", \"MISER\", \"MISGO\", \"MISTY\", \"MITCH\", \"MITER\", \"MITES\", \"MITRE\", \r\n        \"MIXED\", \"MIXEN\", \"MIXER\", \"MIXES\", \"MIXTE\", \"MIXUP\", \"MIZEN\", \"MOANS\", \"MOATS\", \"MOBES\", \"MOBIE\", \"MOBLE\", \r\n        \"MOCHA\", \"MOCHS\", \"MOCHY\", \"MOCKS\", \"MODAL\", \"MODEL\", \"MODER\", \"MODES\", \"MODGE\", \"MODUS\", \"MOERS\", \"MOGUL\", \r\n        \"MOHEL\", \"MOHRS\", \"MOHUA\", \"MOHUR\", \"MOILS\", \"MOIRA\", \"MOIRE\", \"MOIST\", \"MOITS\", \"MOKES\", \"MOKIS\", \"MOLAR\", \r\n        \"MOLAS\", \"MOLDS\", \"MOLDY\", \"MOLES\", \"MOLTS\", \"MONAD\", \"MONAL\", \"MONAS\", \"MONDE\", \"MONER\", \"MONEY\", \"MONGS\", \r\n        \"MONIE\", \"MONKS\", \"MONTE\", \"MONTH\", \"MONTY\", \"MOPED\", \"MOPER\", \"MOPES\", \"MOPEY\", \"MOPSY\", \"MOPUS\", \"MORAE\", \r\n        \"MORAL\", \"MORAS\", \"MORAT\", \"MORAY\", \"MOREL\", \"MORES\", \"MORIA\", \"MORNE\", \"MORNS\", \"MORPH\", \"MORSE\", \"MORTS\", \r\n        \"MOSED\", \"MOSEY\", \"MOSTE\", \"MOTED\", \"MOTEL\", \"MOTEN\", \"MOTES\", \"MOTEY\", \"MOTHS\", \"MOTHY\", \"MOTIF\", \"MOTIS\", \r\n        \"MOTUS\", \"MOTZA\", \"MOUCH\", \"MOUES\", \"MOULD\", \"MOULS\", \"MOULT\", \"MOUND\", \"MOUNT\", \"MOUPS\", \"MOURN\", \"MOUSE\", \r\n        \"MOUST\", \"MOUSY\", \"MOUTH\", \"MOVED\", \"MOVER\", \"MOVES\", \"MOVIE\", \"MOWAS\", \"MOWED\", \"MOWER\", \"MOWRA\", \"MOXAS\", \r\n        \"MOXIE\", \"MOYAS\", \"MOYLE\", \"MOYLS\", \"MOZED\", \"MOZES\", \"MPRET\", \"MUCHO\", \"MUCID\", \"MUCIN\", \"MUCKS\", \"MUCKY\", \r\n        \"MUCOR\", \"MUCRO\", \"MUDGE\", \"MUDIR\", \"MUDRA\", \"MUFTI\", \"MUHLY\", \"MUIDS\", \"MUILS\", \"MUIRS\", \"MUIST\", \"MUJIK\", \r\n        \"MULCH\", \"MULCT\", \"MULED\", \"MULES\", \"MULEY\", \"MULGA\", \"MULSE\", \"MULSH\", \"MUNCH\", \"MUNGA\", \"MUNGO\", \"MUNGS\", \r\n        \"MUNIS\", \"MUNTS\", \"MUONS\", \"MURAL\", \"MURAS\", \"MURED\", \"MURES\", \"MUREX\", \"MURID\", \"MURKS\", \"MURKY\", \"MURLS\", \r\n        \"MURLY\", \"MURTI\", \"MURVA\", \"MUSAR\", \"MUSCA\", \"MUSED\", \"MUSER\", \"MUSET\", \"MUSHA\", \"MUSHY\", \"MUSIC\", \"MUSIT\", \r\n        \"MUSKY\", \"MUSTH\", \"MUSTY\", \"MUTCH\", \"MUTED\", \"MUTER\", \"MUTES\", \"MUTHA\", \"MUTIS\", \"MUTON\", \"MUXED\", \"MUXES\", \r\n        \"MVULE\", \"MYLAR\", \"MYNAH\", \"MYNAS\", \"MYOID\", \"MYOPE\", \"MYOPS\", \"MYSID\", \"MYTHI\", \"MYTHS\", \"MYXOS\"\r\n    ],\r\n    \"N\": [\r\n        \"NABES\", \"NABIS\", \"NABKS\", \"NACHE\", \"NACHO\", \"NACRE\", \"NADIR\", \"NAEVI\", \"NAGOR\", \"NAIFS\", \"NAIKS\", \"NAILS\", \r\n        \"NAIRU\", \"NAIVE\", \"NAKED\", \"NAKER\", \"NALED\", \"NAMED\", \"NAMER\", \"NAMES\", \"NAPED\", \"NAPES\", \"NARCO\", \"NARCS\", \r\n        \"NARDS\", \"NARES\", \"NARIC\", \"NARIS\", \"NARKS\", \"NARKY\", \"NASHI\", \"NASTY\", \"NATCH\", \"NATES\", \"NATIS\", \"NAUCH\", \r\n        \"NAVEL\", \"NAVES\", \"NAVEW\", \"NAZES\", \"NAZIR\", \"NAZIS\", \"NEALS\", \"NEAPS\", \"NEARS\", \"NEATH\", \"NEATS\", \"NECKS\", \r\n        \"NEGRO\", \"NEGUS\", \"NEIFS\", \"NEIGH\", \"NEIST\", \"NELIS\", \"NEMAS\", \"NEMPT\", \"NEPIT\", \"NERAL\", \"NERDS\", \"NERDY\", \r\n        \"NERKA\", \"NERKS\", \"NEROL\", \"NERTS\", \"NERTZ\", \"NERVY\", \"NETOP\", \"NEUKS\", \"NEUMS\", \"NEVUS\", \"NEWLY\", \"NEWSY\", \r\n        \"NEWTS\", \"NEXTS\", \"NEXUS\", \"NGAIO\", \"NGATI\", \"NGOMA\", \"NICAD\", \"NICER\", \"NICHE\", \"NICHT\", \"NICKS\", \"NICKY\", \r\n        \"NICOL\", \"NIDAL\", \"NIDES\", \"NIDOR\", \"NIDUS\", \"NIEFS\", \"NIFES\", \"NIFTY\", \"NIGER\", \"NIGHS\", \"NIGHT\", \"NIKAU\", \r\n        \"NIMBS\", \"NIMPS\", \"NIPAS\", \"NIQAB\", \"NIRLS\", \"NIRLY\", \"NITER\", \"NITES\", \"NITRE\", \"NITRO\", \"NITRY\", \"NIVAL\", \r\n        \"NIXED\", \"NIXER\", \"NIXES\", \"NIZAM\", \"NKOSI\", \"NOAHS\", \"NOBLE\", \"NOBLY\", \"NOCKS\", \"NODAL\", \"NODES\", \"NODUS\", \r\n        \"NOELS\", \"NOILS\", \"NOILY\", \"NOIRS\", \"NOISE\", \"NOISY\", \"NOLES\", \"NOMAD\", \"NOMAS\", \"NOMES\", \"NOMIC\", \"NOPAL\", \r\n        \"NORIA\", \"NORIS\", \"NORKS\", \"NORMA\", \"NORMS\", \"NORTH\", \"NOSED\", \"NOSER\", \"NOSEY\", \"NOTAL\", \"NOTCH\", \"NOTED\", \r\n        \"NOTER\", \"NOTES\", \"NOTUM\", \"NOULD\", \"NOULE\", \"NOULS\", \"NOUPS\", \"NOVAE\", \"NOVAS\", \"NOVEL\", \"NOVUM\", \"NOWAY\", \r\n        \"NOWED\", \"NOWLS\", \"NOWTS\", \"NOWTY\", \"NOXAL\", \"NOXES\", \"NOYAU\", \"NOYED\", \"NOYES\", \"NUBIA\", \"NUCHA\", \"NUDER\", \r\n        \"NUDES\", \"NUDGE\", \"NUDIE\", \"NUDZH\", \"NUGAE\", \"NUKED\", \"NUKES\", \"NUMBS\", \"NURDS\", \"NURDY\", \"NURLS\", \"NURSE\", \r\n        \"NUTSO\", \"NUTSY\", \"NYMPH\"\r\n    ],\r\n    \"O\": [\r\n        \"OAKED\", \"OAKEN\", \"OAKER\", \"OAKUM\", \"OARED\", \"OATEN\", \"OATER\", \"OATHS\", \"OAVES\", \"OBANG\", \"OBEAH\", \"OBELI\", \r\n        \"OBEYS\", \"OBIAS\", \"OBIED\", \"OBITS\", \"OBJET\", \"OCEAN\", \"OCHER\", \"OCHES\", \"OCHRE\", \"OCHRY\", \"OCKER\", \"OCREA\", \r\n        \"OCTAD\", \"OCTAL\", \"OCTAN\", \"OCTAS\", \"OCTYL\", \"OCULI\", \"ODAHS\", \"ODALS\", \"ODEUM\", \"ODISM\", \"ODIST\", \"ODIUM\", \r\n        \"ODYLE\", \"ODYLS\", \"OFAYS\", \"OFLAG\", \"OFTEN\", \"OFTER\", \"OGAMS\", \"OGHAM\", \"OGIVE\", \"OGLED\", \"OGLER\", \"OGLES\", \r\n        \"OGMIC\", \"OGRES\", \"OHIAS\", \"OHING\", \"OHMIC\", \"OILED\", \"OILER\", \"OINKS\", \"OINTS\", \"OJIME\", \"OKAPI\", \"OKAYS\", \r\n        \"OKEHS\", \"OKRAS\", \"OKTAS\", \"OLDEN\", \"OLDER\", \"OLDIE\", \"OLEIC\", \"OLEIN\", \"OLENT\", \"OLEUM\", \"OLIVE\", \"OLPAE\", \r\n        \"OLPES\", \"OMBER\", \"OMBRE\", \"OMBUS\", \"OMEGA\", \"OMENS\", \"OMERS\", \"OMITS\", \"OMLAH\", \"OMRAH\", \"ONCER\", \"ONCES\", \r\n        \"ONCET\", \"ONCUS\", \"ONELY\", \"ONERS\", \"ONERY\", \"ONIUM\", \"ONKUS\", \"ONLAY\", \"ONSET\", \"ONTIC\", \"OPAHS\", \"OPALS\", \r\n        \"OPENS\", \"OPERA\", \"OPINE\", \"OPING\", \"OPIUM\", \"OPSIN\", \"OPTED\", \"OPTER\", \"OPTIC\", \"ORACH\", \"ORACY\", \"ORALS\", \r\n        \"ORANG\", \"ORANT\", \"ORATE\", \"ORBED\", \"ORBIT\", \"ORCAS\", \"ORCIN\", \"OREAD\", \"ORFES\", \"ORGAN\", \"ORGIA\", \"ORGIC\", \r\n        \"ORGUE\", \"ORIEL\", \"ORIXA\", \"ORLES\", \"ORNIS\", \"ORPIN\", \"ORVAL\", \"OSCAR\", \"OSHAC\", \"OSIER\", \"OSMIC\", \"OSTIA\", \r\n        \"OTAKU\", \"OTARY\", \"OTHER\", \"OUBIT\", \"OUCHT\", \"OUGHT\", \"OUIJA\", \"OULKS\", \"OUMAS\", \"OUNCE\", \"OUNDY\", \"OUPAS\", \r\n        \"OUPED\", \"OUPHE\", \"OUPHS\", \"OURIE\", \"OUSEL\", \"OUTBY\", \"OUTED\", \"OUTER\", \"OUTRE\", \"OUZEL\", \"OVALS\", \"OVARY\", \r\n        \"OVATE\", \"OVELS\", \"OVENS\", \"OVERS\", \"OVERT\", \"OVINE\", \"OVIST\", \"OVULE\", \"OWCHE\", \"OWING\", \"OWLED\", \"OWLER\", \r\n        \"OWLET\", \"OWNED\", \"OWNER\", \"OWRES\", \"OWRIE\", \"OWSEN\", \"OXERS\", \"OXIDE\", \"OXIDS\", \"OXIME\", \"OXIMS\", \"OXLIP\", \r\n        \"OXTER\", \"OYERS\", \"OZEKI\"\r\n    ],\r\n    \"P\": [\r\n        \"PACED\", \"PACER\", \"PACES\", \"PACEY\", \"PACKS\", \"PACOS\", \"PACTS\", \"PADIS\", \"PADLE\", \"PADRE\", \"PADRI\", \"PAEON\", \r\n        \"PAGED\", \"PAGER\", \"PAGES\", \"PAGLE\", \"PAGOD\", \"PAGRI\", \"PAIKS\", \"PAILS\", \"PAINS\", \"PAINT\", \"PAIRE\", \"PAIRS\", \r\n        \"PAISE\", \"PALED\", \"PALER\", \"PALES\", \"PALET\", \"PALKI\", \"PALMS\", \"PALMY\", \"PALSY\", \"PANCE\", \"PANDS\", \"PANDY\", \r\n        \"PANED\", \"PANEL\", \"PANES\", \"PANGS\", \"PANIC\", \"PANIM\", \"PANSY\", \"PANTO\", \"PANTS\", \"PANTY\", \"PAOLI\", \"PARCH\", \r\n        \"PARDI\", \"PARDS\", \"PARDY\", \"PARED\", \"PAREO\", \"PARES\", \"PAREU\", \"PAREV\", \"PARGE\", \"PARGO\", \"PARIS\", \"PARKI\", \r\n        \"PARKS\", \"PARKY\", \"PARLE\", \"PARLY\", \"PAROL\", \"PARSE\", \"PARTI\", \"PARTS\", \"PARTY\", \"PARVE\", \"PARVO\", \"PASEO\", \r\n        \"PASHM\", \"PASTE\", \"PASTY\", \"PATCH\", \"PATED\", \"PATEN\", \"PATER\", \"PATES\", \"PATHS\", \"PATIN\", \"PATIO\", \"PATLY\", \r\n        \"PATSY\", \"PATUS\", \"PAULS\", \"PAUSE\", \"PAVED\", \"PAVEN\", \"PAVER\", \"PAVES\", \"PAVID\", \"PAVIN\", \"PAVIS\", \"PAWED\", \r\n        \"PAWER\", \"PAWKS\", \"PAWKY\", \"PAWLS\", \"PAWNS\", \"PAXES\", \"PAYED\", \"PAYER\", \"PAYOR\", \"PAYSD\", \"PEACH\", \"PEAGS\", \r\n        \"PEAKS\", \"PEAKY\", \"PEALS\", \"PEANS\", \"PEARL\", \"PEARS\", \"PEART\", \"PEATS\", \"PEATY\", \"PEAVY\", \"PEBAS\", \"PECAN\", \r\n        \"PECHS\", \"PECKS\", \"PECKY\", \"PEDAL\", \"PEDRO\", \"PEGHS\", \"PEINS\", \"PEKAN\", \"PEKIN\", \"PELAS\", \"PELFS\", \"PELMA\", \r\n        \"PELON\", \"PELTA\", \"PELTS\", \"PENAL\", \"PENDS\", \"PENDU\", \"PENGO\", \"PENIS\", \"PENKS\", \"PENTS\", \"PEONS\", \"PEONY\", \r\n        \"PERAI\", \"PERCH\", \"PERDU\", \"PERDY\", \"PERIL\", \"PERIS\", \"PERKS\", \"PERKY\", \"PERMS\", \"PERNS\", \"PERST\", \"PERTS\", \r\n        \"PERVS\", \"PESKY\", \"PESTO\", \"PESTY\", \"PETAL\", \"PETAR\", \"PEWIT\", \"PHAGE\", \"PHANG\", \"PHARE\", \"PHASE\", \"PHEON\", \r\n        \"PHIAL\", \"PHLOX\", \"PHOCA\", \"PHONE\", \"PHONS\", \"PHONY\", \"PHOTS\", \"PHUTS\", \"PHYLA\", \"PHYLE\", \"PIANO\", \"PIANS\", \r\n        \"PIBAL\", \"PICAL\", \"PICAS\", \"PICKS\", \"PICKY\", \"PICOT\", \"PICRA\", \"PICUL\", \"PIEND\", \"PIERS\", \"PIERT\", \"PIETA\", \r\n        \"PIETS\", \"PIETY\", \"PIEZO\", \"PIGHT\", \"PIGMY\", \"PIKAS\", \"PIKAU\", \"PIKED\", \"PIKER\", \"PIKES\", \"PIKEY\", \"PIKUL\", \r\n        \"PILAF\", \"PILAO\", \"PILAR\", \"PILAU\", \"PILAW\", \"PILCH\", \"PILEA\", \"PILED\", \"PILER\", \"PILES\", \"PILOT\", \"PILOW\", \r\n        \"PILUM\", \"PILUS\", \"PIMAS\", \"PINAS\", \"PINCH\", \"PINED\", \"PINES\", \"PINEY\", \"PINGO\", \"PINGS\", \"PINKO\", \"PINKS\", \r\n        \"PINKY\", \"PINOT\", \"PINTA\", \"PINTO\", \"PINTS\", \"PIONS\", \"PIONY\", \"PIOUS\", \"PIOYE\", \"PIOYS\", \"PIQUE\", \"PIRLS\", \r\n        \"PIRNS\", \"PIROG\", \"PISCO\", \"PISKY\", \"PISTE\", \"PITAS\", \"PITCH\", \"PITHS\", \"PITHY\", \"PITON\", \"PIUMS\", \"PIVOT\", \r\n        \"PIXEL\", \"PIXES\", \"PIZED\", \"PIZES\", \"PLACE\", \"PLACK\", \"PLAGE\", \"PLAID\", \"PLAIN\", \"PLAIT\", \"PLANE\", \"PLANK\", \r\n        \"PLANS\", \"PLANT\", \"PLASH\", \"PLASM\", \"PLAST\", \"PLATE\", \"PLATS\", \"PLATY\", \"PLAYS\", \"PLEAD\", \"PLEAS\", \"PLEAT\", \r\n        \"PLEBS\", \"PLENA\", \"PLEON\", \"PLESH\", \"PLEWS\", \"PLICA\", \"PLIED\", \"PLIER\", \"PLIES\", \"PLIMS\", \"PLING\", \"PLINK\", \r\n        \"PLOAT\", \"PLODS\", \"PLONG\", \"PLONK\", \"PLOTS\", \"PLOTZ\", \"PLOUK\", \"PLOWS\", \"PLOYS\", \"PLUCK\", \"PLUES\", \"PLUGS\", \r\n        \"PLUMB\", \"PLUME\", \"PLUMS\", \"PLUMY\", \"PLUNK\", \"PLUSH\", \"PLYER\", \"POACH\", \"POAKE\", \"POCKS\", \"POCKY\", \"PODAL\", \r\n        \"PODEX\", \"PODGE\", \"PODGY\", \"PODIA\", \"POEMS\", \"POESY\", \"POETS\", \"POGEY\", \"POILU\", \"POIND\", \"POINT\", \"POISE\", \r\n        \"POKAL\", \"POKED\", \"POKER\", \"POKES\", \"POKEY\", \"POKIE\", \"POLAR\", \"POLED\", \"POLER\", \"POLES\", \"POLEY\", \"POLIS\", \r\n        \"POLJE\", \"POLKA\", \"POLKS\", \"POLTS\", \"POLYS\", \"POMBE\", \"POMES\", \"PONCE\", \"PONCY\", \"PONDS\", \"PONES\", \"PONEY\", \r\n        \"PONGA\", \"PONGS\", \"PONGY\", \"PONKS\", \"PONTS\", \"PONTY\", \"PONZU\", \"PORAE\", \"PORAL\", \"PORCH\", \"PORED\", \"PORES\", \r\n        \"PORGE\", \"PORGY\", \"PORKS\", \"PORKY\", \"PORNS\", \"PORNY\", \"PORTA\", \"PORTS\", \"PORTY\", \"POSED\", \"POSER\", \"POSEY\", \r\n        \"POSIT\", \"POTAE\", \"POTCH\", \"POTED\", \"POTES\", \"POTIN\", \"POTSY\", \"POUCH\", \"POUFS\", \"POUKE\", \"POUKS\", \"POULE\", \r\n        \"POULT\", \"POUND\", \"POURS\", \"POUTS\", \"POUTY\", \"POWAN\", \"POWER\", \"POWIN\", \"POWND\", \"POWNS\", \"POWNY\", \"POWRE\", \r\n        \"POXED\", \"POXES\", \"POYNT\", \"POYSE\", \"PRADS\", \"PRAHU\", \"PRAMS\", \"PRANG\", \"PRANK\", \"PRAOS\", \"PRASE\", \"PRATE\", \r\n        \"PRATS\", \"PRATY\", \"PRAUS\", \"PRAWN\", \"PRAYS\", \"PREDY\", \"PREIF\", \"PREMS\", \"PREMY\", \"PRENT\", \"PRESA\", \"PREST\", \r\n        \"PREXY\", \"PREYS\", \"PRIAL\", \"PRICE\", \"PRICK\", \"PRICY\", \"PRIDE\", \"PRIED\", \"PRIEF\", \"PRIES\", \"PRIGS\", \"PRIMA\", \r\n        \"PRIME\", \"PRIMO\", \"PRIMS\", \"PRIMY\", \"PRINK\", \"PRINT\", \"PRION\", \"PRISE\", \"PRISM\", \"PRIVY\", \"PRIZE\", \"PROAS\", \r\n        \"PROBE\", \"PROBS\", \"PRODS\", \"PROEM\", \"PROFS\", \"PROGS\", \"PROIN\", \"PROKE\", \"PROLE\", \"PROMS\", \"PRONE\", \"PRONG\", \r\n        \"PRONK\", \"PROSE\", \"PROST\", \"PROSY\", \"PROUD\", \"PROUL\", \"PROVE\", \"PROWL\", \"PROWS\", \"PROXY\", \"PROYN\", \"PRUDE\", \r\n        \"PRUNE\", \"PRUNT\", \"PRUTA\", \"PRYSE\", \"PSALM\", \"PSEUD\", \"PSHAW\", \"PSION\", \"PSOAE\", \"PSOAI\", \"PSORA\", \"PSYCH\", \r\n        \"PUBES\", \"PUBIC\", \"PUBIS\", \"PUCAN\", \"PUCER\", \"PUCES\", \"PUCKA\", \"PUCKS\", \"PUDGE\", \"PUDGY\", \"PUDIC\", \"PUDOR\", \r\n        \"PUDSY\", \"PUERS\", \"PUGIL\", \"PUHAS\", \"PUJAH\", \"PUJAS\", \"PUKED\", \"PUKER\", \"PUKES\", \"PULAO\", \"PULAS\", \"PULED\", \r\n        \"PULER\", \"PULES\", \"PULIK\", \"PULIS\", \"PULKA\", \"PULKS\", \"PULMO\", \"PULSE\", \"PUMAS\", \"PUMIE\", \"PUNAS\", \"PUNCE\", \r\n        \"PUNCH\", \"PUNGA\", \"PUNGS\", \"PUNJI\", \"PUNKA\", \"PUNKS\", \"PUNKY\", \"PUNTO\", \"PUNTS\", \"PUNTY\", \"PURDA\", \"PURED\", \r\n        \"PURES\", \"PURGE\", \"PURIM\", \"PURIN\", \"PURIS\", \"PURLS\", \"PURSE\", \"PURSY\", \"PURTY\", \"PUSHY\", \"PUSLE\", \"PUTID\", \r\n        \"PUTON\", \"PUZEL\", \"PYATS\", \"PYETS\", \"PYGAL\", \"PYINS\", \"PYLON\", \"PYNED\", \"PYNES\", \"PYOID\", \"PYOTS\", \"PYRAL\", \r\n        \"PYRAN\", \"PYRES\", \"PYREX\", \"PYRIC\", \"PYROS\", \"PYXED\", \"PYXES\", \"PYXIE\", \"PYXIS\"\r\n    ],\r\n    \"Q\": [\r\n        \"QADIS\", \"QAIDS\", \"QIBLA\", \"QOPHS\", \"QORMA\", \"QUACK\", \"QUADS\", \"QUAGS\", \"QUAIL\", \"QUAIR\", \"QUAIS\", \"QUAKE\", \r\n        \"QUAKY\", \"QUALE\", \"QUALM\", \"QUANT\", \"QUARE\", \"QUARK\", \"QUART\", \"QUASH\", \"QUASI\", \"QUATE\", \"QUATS\", \"QUAYD\", \r\n        \"QUAYS\", \"QUBIT\", \"QUEAN\", \"QUENA\", \"QUERN\", \"QUERY\", \"QUEST\", \"QUEYN\", \"QUEYS\", \"QUICH\", \"QUICK\", \"QUIDS\", \r\n        \"QUIET\", \"QUILT\", \"QUIMS\", \"QUINA\", \"QUINE\", \"QUINO\", \"QUINS\", \"QUINT\", \"QUIPO\", \"QUIPS\", \"QUIRE\", \"QUIRK\", \r\n        \"QUIRT\", \"QUIST\", \"QUITE\", \"QUITS\", \"QUOAD\", \"QUODS\", \"QUOIF\", \"QUOIN\", \"QUOIT\", \"QUONK\", \"QUOPS\", \"QUOTA\", \r\n        \"QUOTE\", \"QUOTH\", \"QURSH\", \"QUYTE\"\r\n    ],\r\n    \"R\": [\r\n        \"RABIC\", \"RABID\", \"RABIS\", \"RACED\", \"RACES\", \"RACHE\", \"RACKS\", \"RACON\", \"RADGE\", \"RADIO\", \"RADIX\", \"RADON\", \r\n        \"RAFTS\", \"RAGDE\", \"RAGED\", \"RAGES\", \"RAGIS\", \"RAHED\", \"RAHUI\", \"RAIDS\", \"RAIKS\", \"RAILE\", \"RAILS\", \"RAINE\", \r\n        \"RAINS\", \"RAINY\", \"RAISE\", \"RAITS\", \"RAJES\", \"RAKED\", \"RAKES\", \"RAKIS\", \"RAKUS\", \"RALES\", \"RALPH\", \"RAMEN\", \r\n        \"RAMET\", \"RAMIE\", \"RAMIN\", \"RAMIS\", \"RAMPS\", \"RAMUS\", \"RANCE\", \"RANCH\", \"RANDS\", \"RANDY\", \"RANGE\", \"RANGI\", \r\n        \"RANGY\", \"RANID\", \"RANIS\", \"RANKE\", \"RANKS\", \"RANTS\", \"RAPED\", \"RAPES\", \"RAPHE\", \"RAPID\", \"RASED\", \"RASPY\", \r\n        \"RATCH\", \"RATED\", \"RATEL\", \"RATES\", \"RATHE\", \"RATHS\", \"RATIO\", \"RATOS\", \"RATUS\", \"RAUNS\", \"RAUPO\", \"RAVED\", \r\n        \"RAVEL\", \"RAVEN\", \"RAVES\", \"RAVIN\", \"RAWIN\", \"RAWLY\", \"RAWNS\", \"RAXED\", \"RAXES\", \"RAYED\", \"RAYLE\", \"RAYNE\", \r\n        \"RAYON\", \"RAZED\", \"RAZES\", \"REACH\", \"REACT\", \"READS\", \"READY\", \"REAKS\", \"REALM\", \"REALO\", \"REALS\", \"REAMS\", \r\n        \"REAMY\", \"REANS\", \"REAPS\", \"REAST\", \"REBID\", \"REBIT\", \"REBOP\", \"REBUS\", \"REBUT\", \"REBUY\", \"RECAL\", \"RECAP\", \r\n        \"RECIT\", \"RECKS\", \"RECON\", \"RECTA\", \"RECTI\", \"RECTO\", \"RECUT\", \"REDAN\", \"REDIA\", \"REDIP\", \"REDLY\", \"REDON\", \r\n        \"REDOS\", \"REDOX\", \"REDUB\", \"REDUX\", \"REFIT\", \"REFIX\", \"REFLY\", \"REGAL\", \"REGMA\", \"REGNA\", \"REGOS\", \"REHAB\", \r\n        \"REIFS\", \"REIFY\", \"REIGN\", \"REIKS\", \"REINK\", \"REINS\", \"REIST\", \"REJIG\", \"REJON\", \"RELAX\", \"RELAY\", \"RELIC\", \r\n        \"RELIT\", \"REMAN\", \"REMAP\", \"REMIT\", \"REMIX\", \"RENAL\", \"RENAY\", \"RENDS\", \"RENGA\", \"RENIG\", \"RENTS\", \"REOIL\", \r\n        \"REPAY\", \"REPIN\", \"REPLA\", \"REPLY\", \"REPOS\", \"REPOT\", \"RESAT\", \"RESAW\", \"RESAY\", \"RESID\", \"RESIN\", \"RESIT\", \r\n        \"RESOD\", \"RESOW\", \"RESTO\", \"RESTY\", \"RETAG\", \"RETAX\", \"RETCH\", \"RETIA\", \"REWAN\", \"REWAX\", \"REWIN\", \"REWON\", \r\n        \"REWTH\", \"RHEAS\", \"RHEUM\", \"RHIES\", \"RHIME\", \"RHINE\", \"RHINO\", \"RHODY\", \"RHOMB\", \"RHONE\", \"RHUMB\", \"RHYME\", \r\n        \"RHYNE\", \"RHYTA\", \"RIALS\", \"RIANT\", \"RIBAS\", \"RIBES\", \"RICED\", \"RICES\", \"RICEY\", \"RICHT\", \"RICKS\", \"RIDES\", \r\n        \"RIDGE\", \"RIDGY\", \"RIELS\", \"RIEMS\", \"RIFLE\", \"RIFTE\", \"RIFTS\", \"RIFTY\", \"RIGHT\", \"RIGOL\", \"RILED\", \"RILES\", \r\n        \"RILEY\", \"RIMAE\", \"RIMED\", \"RIMES\", \"RIMUS\", \"RINDS\", \"RINDY\", \"RINES\", \"RINGS\", \"RINKS\", \"RINSE\", \"RIOJA\", \r\n        \"RIOTS\", \"RIPED\", \"RIPEN\", \"RIPES\", \"RISEN\", \"RISKY\", \"RITES\", \"RITZY\", \"RIVAL\", \"RIVAS\", \"RIVED\", \"RIVEL\", \r\n        \"RIVEN\", \"RIVES\", \"RIVET\", \"RIVOS\", \"RIYAL\", \"RIZAS\", \"ROACH\", \"ROADS\", \"ROAMS\", \"ROANS\", \"ROAST\", \"ROATE\", \r\n        \"ROBED\", \"ROBES\", \"ROBIN\", \"ROBLE\", \"ROCKS\", \"ROCKY\", \"RODES\", \"ROGUE\", \"ROGUY\", \"ROILS\", \"ROILY\", \"ROINS\", \r\n        \"ROIST\", \"ROJAK\", \"ROJIS\", \"ROKED\", \"ROKES\", \"ROLAG\", \"ROLES\", \"ROLFS\", \"ROMAL\", \"ROMAN\", \"ROMAS\", \"ROMPS\", \r\n        \"RONDE\", \"RONES\", \"RONTE\", \"RONTS\", \"ROPED\", \"ROPES\", \"ROPEY\", \"ROQUE\", \"ROSED\", \"ROSET\", \"ROSHI\", \"ROSIN\", \r\n        \"ROSIT\", \"ROSTI\", \"ROTAL\", \"ROTAN\", \"ROTAS\", \"ROTCH\", \"ROTED\", \"ROTES\", \"ROTIS\", \"ROTLS\", \"ROUEN\", \"ROUES\", \r\n        \"ROUGE\", \"ROUGH\", \"ROULE\", \"ROULS\", \"ROUMS\", \"ROUND\", \"ROUPS\", \"ROUPY\", \"ROUSE\", \"ROUST\", \"ROUTE\", \"ROUTH\", \r\n        \"ROUTS\", \"ROVED\", \"ROVEN\", \"ROVES\", \"ROWAN\", \"ROWDY\", \"ROWED\", \"ROWEL\", \"ROWEN\", \"ROWME\", \"ROWND\", \"ROWTH\", \r\n        \"ROWTS\", \"ROYAL\", \"ROYNE\", \"ROYST\", \"ROZET\", \"ROZIT\", \"RUBAI\", \"RUBEL\", \"RUBES\", \"RUBIN\", \"RUBLE\", \"RUCHE\", \r\n        \"RUCKS\", \"RUDAS\", \"RUDES\", \"RUDIE\", \"RUGAE\", \"RUGAL\", \"RUGBY\", \"RUING\", \"RUINS\", \"RUKHS\", \"RULED\", \"RULES\", \r\n        \"RUMAL\", \"RUMBA\", \"RUMBO\", \"RUMEN\", \"RUMES\", \"RUMLY\", \"RUMPO\", \"RUMPS\", \"RUMPY\", \"RUNCH\", \"RUNDS\", \"RUNED\", \r\n        \"RUNES\", \"RUNGS\", \"RUNIC\", \"RUNTS\", \"RUNTY\", \"RUPIA\", \"RUSHY\", \"RUSMA\", \"RUSTY\", \"RUTHS\", \"RUTIN\", \"RYALS\", \r\n        \"RYBAT\", \"RYKED\", \"RYKES\", \"RYNDS\", \"RYOTS\"\r\n    ],\r\n    \"S\": [\r\n        \"SABED\", \"SABER\", \"SABIN\", \"SABIR\", \"SABLE\", \"SABOT\", \"SABRE\", \"SADHE\", \"SADHU\", \"SADLY\", \"SAFED\", \"SAFER\", \r\n        \"SAGER\", \"SAGUM\", \"SAHEB\", \"SAHIB\", \"SAICE\", \"SAICK\", \"SAINE\", \"SAINT\", \"SAITH\", \"SAJOU\", \"SAKER\", \"SALEP\", \r\n        \"SALET\", \"SALIC\", \"SALIX\", \"SALMI\", \"SALON\", \"SALOP\", \"SALTO\", \"SALTY\", \"SALUE\", \"SALVE\", \"SALVO\", \"SAMBO\", \r\n        \"SAMEK\", \"SAMEL\", \"SAMEN\", \"SAMEY\", \"SAMFU\", \"SAMPI\", \"SANDY\", \"SANED\", \"SANER\", \"SANGH\", \"SANGO\", \"SANKO\", \r\n        \"SANTO\", \"SAPID\", \"SAPOR\", \"SARED\", \"SARGE\", \"SARGO\", \"SARIN\", \"SARKY\", \"SAROD\", \"SATED\", \"SATEM\", \"SATIN\", \r\n        \"SATYR\", \"SAUCE\", \"SAUCH\", \"SAUCY\", \"SAUGH\", \"SAULT\", \"SAUNT\", \"SAURY\", \"SAUTE\", \"SAVED\", \"SAVER\", \"SAVEY\", \r\n        \"SAVIN\", \"SAVOR\", \"SAVOY\", \"SAWED\", \"SAWER\", \"SAYED\", \"SAYER\", \"SAYID\", \"SAYNE\", \"SAYON\", \"SCAIL\", \"SCALD\", \r\n        \"SCALE\", \"SCALP\", \"SCALY\", \"SCAMP\", \"SCAND\", \"SCANT\", \"SCAPE\", \"SCAPI\", \"SCARE\", \"SCARF\", \"SCARP\", \"SCART\", \r\n        \"SCARY\", \"SCATH\", \"SCAUD\", \"SCAUP\", \"SCAUR\", \"SCEAT\", \"SCENA\", \"SCEND\", \"SCENT\", \"SCHAV\", \"SCHMO\", \"SCHUL\", \r\n        \"SCHWA\", \"SCION\", \"SCLIM\", \"SCODY\", \"SCOLD\", \"SCONE\", \"SCOPA\", \"SCOPE\", \"SCORE\", \"SCORN\", \"SCOUG\", \"SCOUP\", \r\n        \"SCOUR\", \"SCOUT\", \"SCOWL\", \"SCOWP\", \"SCRAB\", \"SCRAE\", \"SCRAG\", \"SCRAM\", \"SCRAN\", \"SCRAP\", \"SCRAT\", \"SCRAW\", \r\n        \"SCRAY\", \"SCREW\", \"SCRIM\", \"SCRIP\", \"SCROD\", \"SCROG\", \"SCROW\", \"SCRUB\", \"SCRUM\", \"SCUBA\", \"SCUDI\", \"SCUDO\", \r\n        \"SCUFT\", \"SCULK\", \"SCULP\", \"SCURF\", \"SCUTA\", \"SCUTE\", \"SDAYN\", \"SDEIN\", \"SEAMY\", \"SEBUM\", \"SEDAN\", \"SEDGY\", \r\n        \"SEDUM\", \"SEGAR\", \"SEGNI\", \"SEGNO\", \"SEGOL\", \"SEITY\", \"SELAH\", \"SELVA\", \"SENGI\", \"SENOR\", \"SENTI\", \"SENVY\", \r\n        \"SENZA\", \"SEPAD\", \"SEPAL\", \"SEPIA\", \"SEPIC\", \"SEPOY\", \"SEPTA\", \"SERAC\", \"SERAI\", \"SERAL\", \"SERIC\", \"SERIF\", \r\n        \"SERIN\", \"SERON\", \"SEROW\", \"SERUM\", \"SERVO\", \"SETAL\", \"SETON\", \"SETUP\", \"SEWAN\", \"SEWAR\", \"SEWIN\", \"SEXTO\", \r\n        \"SHACK\", \"SHADE\", \"SHADY\", \"SHAFT\", \"SHAKE\", \"SHAKO\", \"SHAKT\", \"SHAKY\", \"SHALE\", \"SHALM\", \"SHALT\", \"SHALY\", \r\n        \"SHAME\", \"SHAND\", \"SHANK\", \"SHAPE\", \"SHARD\", \"SHARE\", \"SHARK\", \"SHARN\", \"SHARP\", \"SHAUL\", \"SHAVE\", \"SHAWL\", \r\n        \"SHAWM\", \"SHAWN\", \"SHEAF\", \"SHEAL\", \"SHEAR\", \"SHEIK\", \"SHELF\", \"SHEND\", \"SHENT\", \"SHEOL\", \"SHERD\", \"SHEVA\", \r\n        \"SHEWN\", \"SHIED\", \"SHIEL\", \"SHIER\", \"SHIFT\", \"SHILY\", \"SHINE\", \"SHINY\", \"SHIRE\", \"SHIRK\", \"SHIRT\", \"SHITE\", \r\n        \"SHIUR\", \"SHIVA\", \"SHIVE\", \"SHLEP\", \"SHLUB\", \"SHMEK\", \"SHOAL\", \"SHOAT\", \"SHOCK\", \"SHOED\", \"SHOER\", \"SHOGI\", \r\n        \"SHOJI\", \"SHOLA\", \"SHONE\", \"SHOPE\", \"SHORE\", \"SHORL\", \"SHORN\", \"SHORT\", \"SHOTE\", \"SHOUT\", \"SHOVE\", \"SHOWD\", \r\n        \"SHOWN\", \"SHOWY\", \"SHOYU\", \"SHRED\", \"SHREW\", \"SHROW\", \"SHRUB\", \"SHRUG\", \"SHTIK\", \"SHTUM\", \"SHTUP\", \"SHUCK\", \r\n        \"SHULE\", \"SHULN\", \"SHUNT\", \"SHURA\", \"SHUTE\", \"SHYER\", \"SIBYL\", \"SICHT\", \"SICKO\", \"SIDER\", \"SIDHA\", \"SIDHE\", \r\n        \"SIDLE\", \"SIELD\", \"SIENT\", \"SIETH\", \"SIEUR\", \"SIGHT\", \"SIGLA\", \"SIGMA\", \"SIGNA\", \"SIKER\", \"SILED\", \"SILEN\", \r\n        \"SILER\", \"SILEX\", \"SILKY\", \"SILTY\", \"SILVA\", \"SIMAR\", \"SIMBA\", \"SIMUL\", \"SINCE\", \"SINED\", \"SINEW\", \"SINGE\", \r\n        \"SINKY\", \"SIPED\", \"SIRED\", \"SIREN\", \"SIROC\", \"SIRUP\", \"SITAR\", \"SITED\", \"SITHE\", \"SITKA\", \"SITUP\", \"SIVER\", \r\n        \"SIXER\", \"SIXMO\", \"SIXTE\", \"SIXTH\", \"SIXTY\", \"SIZAR\", \"SIZED\", \"SIZEL\", \"SIZER\", \"SKAIL\", \"SKALD\", \"SKART\", \r\n        \"SKATE\", \"SKEAN\", \"SKEAR\", \"SKEIN\", \"SKELF\", \"SKELM\", \"SKELP\", \"SKIED\", \"SKIER\", \"SKIEY\", \"SKIMO\", \"SKIMP\", \r\n        \"SKINT\", \"SKIRL\", \"SKIRT\", \"SKITE\", \"SKIVE\", \"SKIVY\", \"SKLIM\", \"SKOAL\", \"SKORT\", \"SKRAN\", \"SKYED\", \"SKYER\", \r\n        \"SKYRE\", \"SKYTE\", \"SLACK\", \"SLADE\", \"SLAID\", \"SLAIN\", \"SLAKE\", \"SLANE\", \"SLANG\", \"SLANK\", \"SLANT\", \"SLART\", \r\n        \"SLATE\", \"SLATY\", \"SLAVE\", \"SLEPT\", \"SLICE\", \"SLICK\", \"SLIDE\", \"SLIER\", \"SLIME\", \"SLIMY\", \"SLING\", \"SLINK\", \r\n        \"SLIPE\", \"SLIPT\", \"SLIVE\", \"SLOAN\", \"SLOID\", \"SLOJD\", \"SLOPE\", \"SLOPY\", \"SLORM\", \"SLOTH\", \"SLOVE\", \"SLOYD\", \r\n        \"SLUED\", \"SLUIT\", \"SLUMP\", \"SLUNG\", \"SLUNK\", \"SLURB\", \"SLURP\", \"SLYER\", \"SLYPE\", \"SMACK\", \"SMAIK\", \"SMALT\", \r\n        \"SMART\", \"SMAZE\", \"SMEAR\", \"SMELT\", \"SMERK\", \"SMILE\", \"SMIRK\", \"SMITE\", \"SMITH\", \"SMOCK\", \"SMOKE\", \"SMOKY\", \r\n        \"SMOLT\", \"SMORE\", \"SMOTE\", \"SMOUT\", \"SMOWT\", \"SNACK\", \"SNAFU\", \"SNAIL\", \"SNAKE\", \"SNAKY\", \"SNARE\", \"SNARF\", \r\n        \"SNARK\", \"SNARL\", \"SNARY\", \"SNATH\", \"SNEAD\", \"SNEAK\", \"SNEAP\", \"SNECK\", \"SNICK\", \"SNIDE\", \"SNIFT\", \"SNIPE\", \r\n        \"SNIPY\", \"SNIRT\", \"SNOEK\", \"SNOEP\", \"SNOKE\", \"SNORE\", \"SNORT\", \"SNOUT\", \"SNOWK\", \"SNOWY\", \"SNUCK\", \"SOAPY\", \r\n        \"SOARE\", \"SOAVE\", \"SOBER\", \"SOCLE\", \"SODIC\", \"SOFAR\", \"SOFTA\", \"SOFTY\", \"SOGER\", \"SOILY\", \"SOKAH\", \"SOKEN\", \r\n        \"SOLAH\", \"SOLAN\", \"SOLAR\", \"SOLDE\", \"SOLDI\", \"SOLED\", \"SOLEI\", \"SOLER\", \"SOLID\", \"SOLUM\", \"SOLVE\", \"SOMAN\", \r\n        \"SONAR\", \"SONCE\", \"SONDE\", \"SONIC\", \"SONLY\", \"SOPHY\", \"SOPRA\", \"SORAL\", \"SORDA\", \"SORED\", \"SOREL\", \"SOREX\", \r\n        \"SORTA\", \"SOUCE\", \"SOUCT\", \"SOUGH\", \"SOUND\", \"SOUPY\", \"SOUTH\", \"SOWAR\", \"SOWCE\", \"SOWED\", \"SOWER\", \"SOWLE\", \r\n        \"SOWND\", \"SOWNE\", \"SOWTH\", \"SOYLE\", \"SOYUZ\", \"SOZIN\", \"SPACE\", \"SPACY\", \"SPADE\", \"SPADO\", \"SPAED\", \"SPAER\", \r\n        \"SPAHI\", \"SPAIL\", \"SPAIN\", \"SPAIT\", \"SPAKE\", \"SPALD\", \"SPALE\", \"SPALT\", \"SPANE\", \"SPANG\", \"SPANK\", \"SPARD\", \r\n        \"SPARE\", \"SPARK\", \"SPART\", \"SPATE\", \"SPAUL\", \"SPAWL\", \"SPAWN\", \"SPAYD\", \"SPEAK\", \"SPEAL\", \"SPEAN\", \"SPEAR\", \r\n        \"SPEAT\", \"SPECK\", \"SPEIL\", \"SPEIR\", \"SPELD\", \"SPELK\", \"SPELT\", \"SPEND\", \"SPENT\", \"SPERM\", \"SPEUG\", \"SPEWY\", \r\n        \"SPIAL\", \"SPICA\", \"SPICE\", \"SPICK\", \"SPICY\", \"SPIDE\", \"SPIED\", \"SPIEL\", \"SPIER\", \"SPIKE\", \"SPIKY\", \"SPILE\", \r\n        \"SPILT\", \"SPINA\", \"SPINE\", \"SPINK\", \"SPINY\", \"SPIRE\", \"SPIRT\", \"SPIRY\", \"SPITE\", \"SPITZ\", \"SPLAT\", \"SPLAY\", \r\n        \"SPLIT\", \"SPODE\", \"SPOIL\", \"SPOKE\", \"SPORE\", \"SPORT\", \"SPOUT\", \"SPRAD\", \"SPRAG\", \"SPRAT\", \"SPRAY\", \"SPRED\", \r\n        \"SPREW\", \"SPRIG\", \"SPRIT\", \"SPROD\", \"SPROG\", \"SPRUE\", \"SPRUG\", \"SPUED\", \"SPUER\", \"SPULE\", \"SPUME\", \"SPUMY\", \r\n        \"SPUNK\", \"SPURN\", \"SPURT\", \"SPUTA\", \"SPYAL\", \"SPYRE\", \"SQUAB\", \"SQUAD\", \"SQUAT\", \"SQUAW\", \"SQUEG\", \"SQUIB\", \r\n        \"SQUID\", \"SQUIT\", \"SQUIZ\", \"STACK\", \"STADE\", \"STAGE\", \"STAGY\", \"STAID\", \"STAIG\", \"STAIN\", \"STAIR\", \"STAKE\", \r\n        \"STALE\", \"STALK\", \"STAMP\", \"STAND\", \"STANE\", \"STANG\", \"STANK\", \"STAPH\", \"STARE\", \"STARK\", \"STARN\", \"STAUN\", \r\n        \"STAVE\", \"STEAD\", \"STEAK\", \"STEAL\", \"STEAM\", \"STEAN\", \"STEAR\", \"STEIL\", \"STEIN\", \"STELA\", \"STEND\", \"STENO\", \r\n        \"STERN\", \"STEWY\", \"STICH\", \"STICK\", \"STIED\", \"STILB\", \"STILE\", \"STIME\", \"STIMY\", \"STING\", \"STINK\", \"STIPA\", \r\n        \"STIPE\", \"STIRE\", \"STIRK\", \"STIRP\", \"STIVE\", \"STIVY\", \"STOAE\", \"STOAI\", \"STOCK\", \"STOEP\", \"STOGY\", \"STOIC\", \r\n        \"STOKE\", \"STOLE\", \"STOLN\", \"STOMA\", \"STOMP\", \"STOND\", \"STONE\", \"STONG\", \"STONK\", \"STONY\", \"STOPE\", \"STORE\", \r\n        \"STORK\", \"STORM\", \"STORY\", \"STOUN\", \"STOUP\", \"STOUR\", \"STOVE\", \"STOWN\", \"STOWP\", \"STRAD\", \"STRAE\", \"STRAG\", \r\n        \"STRAP\", \"STRAW\", \"STRAY\", \"STREP\", \"STREW\", \"STRIA\", \"STRIG\", \"STRIP\", \"STROP\", \"STROW\", \"STROY\", \"STRUM\", \r\n        \"STUCK\", \"STUDY\", \"STULM\", \"STUMP\", \"STUNG\", \"STUNK\", \"STUPA\", \"STUPE\", \"STURE\", \"STYED\", \"STYLE\", \"STYLI\", \r\n        \"STYLO\", \"STYME\", \"STYRE\", \"SUAVE\", \"SUBAH\", \"SUBER\", \"SUBHA\", \"SUCKY\", \"SUCRE\", \"SUDOR\", \"SUENT\", \"SUETY\", \r\n        \"SUGAN\", \"SUGAR\", \"SUING\", \"SUINT\", \"SUITE\", \"SULCI\", \"SULFA\", \"SULFO\", \"SULKY\", \"SUMAC\", \"SUMPH\", \"SUPER\", \r\n        \"SUPRA\", \"SURAH\", \"SURAL\", \"SURAT\", \"SURED\", \"SURFY\", \"SURGE\", \"SURGY\", \"SURLY\", \"SUTOR\", \"SUTRA\", \"SWACK\", \r\n        \"SWAGE\", \"SWAIL\", \"SWAIN\", \"SWALE\", \"SWALY\", \"SWAMI\", \"SWAMP\", \"SWAMY\", \"SWANG\", \"SWANK\", \"SWAPT\", \"SWARD\", \r\n        \"SWARE\", \"SWARF\", \"SWARM\", \"SWART\", \"SWATH\", \"SWAYL\", \"SWEAL\", \"SWEAR\", \"SWEAT\", \"SWEIR\", \"SWELT\", \"SWEPT\", \r\n        \"SWERF\", \"SWIFT\", \"SWINE\", \"SWING\", \"SWINK\", \"SWIPE\", \"SWIRE\", \"SWIRL\", \"SWITH\", \"SWIVE\", \"SWOLN\", \"SWONE\", \r\n        \"SWOPT\", \"SWORD\", \"SWORE\", \"SWORN\", \"SWOUN\", \"SWUNG\", \"SYBIL\", \"SYBOE\", \"SYBOW\", \"SYKER\", \"SYLPH\", \"SYLVA\", \r\n        \"SYMAR\", \"SYNCH\", \"SYNED\", \"SYNOD\", \"SYNTH\", \"SYPED\", \"SYRAH\", \"SYREN\", \"SYRUP\", \"SYTHE\", \"SYVER\"\r\n    ],\r\n    \"T\": [\r\n        \"TABER\", \"TABES\", \"TABID\", \"TABIS\", \"TABLE\", \"TABOR\", \"TABUN\", \"TABUS\", \"TACES\", \"TACHE\", \"TACHO\", \"TACHS\", \r\n        \"TACKS\", \"TACKY\", \"TACOS\", \"TAELS\", \"TAHOU\", \"TAHRS\", \"TAIGS\", \"TAILS\", \"TAINS\", \"TAISH\", \"TAJES\", \"TAKEN\", \r\n        \"TAKER\", \"TAKES\", \"TAKHI\", \"TAKIN\", \"TAKIS\", \"TALCS\", \"TALCY\", \"TALER\", \"TALES\", \"TALKS\", \"TALKY\", \"TALON\", \r\n        \"TALUK\", \"TALUS\", \"TAMED\", \"TAMER\", \"TAMES\", \"TAMIN\", \"TAMIS\", \"TAMPS\", \"TANGI\", \"TANGO\", \"TANGS\", \"TANGY\", \r\n        \"TANHS\", \"TANKS\", \"TANKY\", \"TANSY\", \"TAPED\", \"TAPEN\", \"TAPER\", \"TAPES\", \"TAPIR\", \"TAPIS\", \"TAPUS\", \"TARDO\", \r\n        \"TARDY\", \"TARED\", \"TARES\", \"TARGE\", \"TARNS\", \"TAROC\", \"TAROK\", \"TAROS\", \"TARPS\", \"TARSI\", \"TASER\", \"TAUBE\", \r\n        \"TAULD\", \"TAUON\", \"TAUPE\", \"TAVER\", \"TAWED\", \"TAWER\", \"TAWIE\", \"TAWNY\", \"TAWSE\", \"TAXED\", \"TAXER\", \"TAXES\", \r\n        \"TAXIS\", \"TAXOL\", \"TAXON\", \"TAXOR\", \"TAXUS\", \"TEACH\", \"TEADS\", \"TEAKS\", \"TEALS\", \"TEAMS\", \"TEARS\", \"TEARY\", \r\n        \"TECHS\", \"TECHY\", \"TEGUA\", \"TEGUS\", \"TEHRS\", \"TEILS\", \"TEIND\", \"TELCO\", \"TELIA\", \"TELIC\", \"TELOI\", \"TELOS\", \r\n        \"TEMPI\", \"TEMPO\", \"TEMPS\", \"TENCH\", \"TENDS\", \"TENDU\", \"TENIA\", \"TENOR\", \"TEPAL\", \"TEPAS\", \"TEPID\", \"TEPOY\", \r\n        \"TERAI\", \"TERAS\", \"TERFS\", \"TERGA\", \"TERMS\", \"TERNS\", \"TESLA\", \"TEUCH\", \"TEUGH\", \"TEXAS\", \"THACK\", \"THAGI\", \r\n        \"THAIM\", \"THALI\", \"THANE\", \"THANK\", \"THANS\", \"THARM\", \"THARS\", \"THAWS\", \"THAWY\", \"THECA\", \"THEGN\", \"THEIC\", \r\n        \"THEIN\", \"THEIR\", \"THELF\", \"THEMA\", \"THENS\", \"THEOW\", \"THERM\", \"THESP\", \"THEWS\", \"THEWY\", \"THICK\", \"THIEF\", \r\n        \"THIGS\", \"THILK\", \"THINE\", \"THING\", \"THINK\", \"THINS\", \"THIOL\", \"THIRD\", \"THIRL\", \"THOLE\", \"THOLI\", \"THONG\", \r\n        \"THORN\", \"THORP\", \"THOSE\", \"THOUS\", \"THOWL\", \"THRAE\", \"THRAW\", \"THREW\", \"THRID\", \"THRIP\", \"THROB\", \"THROE\", \r\n        \"THROW\", \"THRUM\", \"THUDS\", \"THUGS\", \"THUJA\", \"THUMB\", \"THUMP\", \"THUNK\", \"THURL\", \"THUYA\", \"THYME\", \"THYMI\", \r\n        \"TIARS\", \"TICAL\", \"TICED\", \"TICES\", \"TICHY\", \"TICKS\", \"TICKY\", \"TIDAL\", \"TIDES\", \"TIERS\", \"TIGER\", \"TIGES\", \r\n        \"TIGON\", \"TIKAS\", \"TIKES\", \"TILAK\", \"TILDE\", \"TILED\", \"TILER\", \"TILES\", \"TIMBO\", \"TIMED\", \"TIMER\", \"TIMES\", \r\n        \"TIMON\", \"TIMPS\", \"TINDS\", \"TINEA\", \"TINED\", \"TINES\", \"TINGE\", \"TINGS\", \"TINKS\", \"TIPSY\", \"TIRED\", \"TIRES\", \r\n        \"TIRLS\", \"TIROS\", \"TOADS\", \"TOADY\", \"TOAZE\", \"TOCKS\", \"TOCKY\", \"TODAY\", \"TOEAS\", \"TOFUS\", \"TOGAE\", \"TOGAS\", \r\n        \"TOGED\", \"TOGES\", \"TOGUE\", \"TOILE\", \"TOILS\", \"TOING\", \"TOISE\", \"TOKAY\", \"TOKED\", \"TOKEN\", \"TOKER\", \"TOKES\", \r\n        \"TOLAN\", \"TOLAR\", \"TOLAS\", \"TOLED\", \"TOLES\", \"TOLUS\", \"TOMAN\", \"TOMBS\", \"TOMES\", \"TOMIA\", \"TONAL\", \"TONDI\", \r\n        \"TONED\", \"TONER\", \"TONES\", \"TONEY\", \"TONGA\", \"TONGS\", \"TONIC\", \"TONKA\", \"TONKS\", \"TONUS\", \"TOPAZ\", \"TOPED\", \r\n        \"TOPEK\", \"TOPER\", \"TOPES\", \"TOPHE\", \"TOPHI\", \"TOPHS\", \"TOPIC\", \"TOPIS\", \"TOQUE\", \"TORAH\", \"TORAN\", \"TORAS\", \r\n        \"TORCH\", \"TORCS\", \"TORES\", \"TORIC\", \"TORSE\", \"TORSI\", \"TORSK\", \"TORUS\", \"TOSED\", \"TOSHY\", \"TOUCH\", \"TOUGH\", \r\n        \"TOUKS\", \"TOUNS\", \"TOURS\", \"TOUSE\", \"TOUSY\", \"TOUZE\", \"TOUZY\", \"TOWED\", \"TOWEL\", \"TOWER\", \"TOWIE\", \"TOWNS\", \r\n        \"TOWNY\", \"TOWSE\", \"TOWSY\", \"TOWZE\", \"TOWZY\", \"TOXIC\", \"TOXIN\", \"TOYED\", \"TOYER\", \"TOZED\", \"TOZES\", \"TOZIE\", \r\n        \"TRABS\", \"TRACE\", \"TRACK\", \"TRADE\", \"TRADS\", \"TRAGI\", \"TRAIK\", \"TRAIL\", \"TRAIN\", \"TRAMP\", \"TRAMS\", \"TRANK\", \r\n        \"TRANQ\", \"TRANS\", \"TRAPE\", \"TRAPS\", \"TRASH\", \"TRAVE\", \"TRAWL\", \"TRAYS\", \"TREAD\", \"TRECK\", \"TREFA\", \"TREIF\", \r\n        \"TREKS\", \"TREMA\", \"TREND\", \"TREWS\", \"TREYS\", \"TRIAC\", \"TRIAD\", \"TRIAL\", \"TRIBE\", \"TRICE\", \"TRICK\", \"TRIDE\", \r\n        \"TRIED\", \"TRIES\", \"TRIGO\", \"TRIGS\", \"TRIKE\", \"TRILD\", \"TRIMS\", \"TRINE\", \"TRINS\", \"TRIOL\", \"TRIOS\", \"TRIPE\", \r\n        \"TRIPS\", \"TRIPY\", \"TROAD\", \"TROAK\", \"TROCK\", \"TRODE\", \"TRODS\", \"TROGS\", \"TROIS\", \"TROKE\", \"TROMP\", \"TRONA\", \r\n        \"TRONC\", \"TRONE\", \"TRONK\", \"TRONS\", \"TROPE\", \"TROVE\", \"TROWS\", \"TROYS\", \"TRUCE\", \"TRUCK\", \"TRUED\", \"TRUES\", \r\n        \"TRUGO\", \"TRUGS\", \"TRULY\", \"TRUMP\", \"TRUNK\", \"TRYKE\", \"TRYMA\", \"TRYPS\", \"TSADE\", \"TSADI\", \"TSKED\", \"TSUBA\", \r\n        \"TUANS\", \"TUBAE\", \"TUBAL\", \"TUBAR\", \"TUBAS\", \"TUBED\", \"TUBER\", \"TUBES\", \"TUCKS\", \"TUFAS\", \"TUGRA\", \"TUINA\", \r\n        \"TUISM\", \"TULES\", \"TULIP\", \"TULPA\", \"TUMID\", \"TUMOR\", \"TUMPS\", \"TUMPY\", \"TUNAS\", \"TUNDS\", \"TUNED\", \"TUNER\", \r\n        \"TUNES\", \"TUNGS\", \"TUNIC\", \"TUPEK\", \"TUPIK\", \"TUPLE\", \"TURBO\", \"TURDS\", \"TURFS\", \"TURFY\", \"TURKS\", \"TURME\", \r\n        \"TURMS\", \"TURNS\", \"TURPS\", \"TUSHY\", \"TUSKY\", \"TUXES\", \"TUYER\", \"TWAES\", \"TWAIN\", \"TWALS\", \"TWANG\", \"TWANK\", \r\n        \"TWAYS\", \"TWEAK\", \"TWERP\", \"TWICE\", \"TWIER\", \"TWIGS\", \"TWINE\", \"TWINK\", \"TWINS\", \"TWINY\", \"TWIRE\", \"TWIRL\", \r\n        \"TWIRP\", \"TWOER\", \"TWYER\", \"TYERS\", \"TYING\", \"TYKES\", \"TYLER\", \"TYMPS\", \"TYNDE\", \"TYNED\", \"TYNES\", \"TYPAL\", \r\n        \"TYPED\", \"TYPES\", \"TYPIC\", \"TYPOS\", \"TYRAN\", \"TYRED\", \"TYRES\", \"TYROS\", \"TZARS\"\r\n    ],\r\n    \"U\": [\r\n        \"UDALS\", \"UDONS\", \"UGALI\", \"UHLAN\", \"UKASE\", \"ULANS\", \"ULCER\", \"ULEMA\", \"ULMIN\", \"ULNAD\", \"ULNAE\", \"ULNAR\", \r\n        \"ULNAS\", \"ULPAN\", \"ULTRA\", \"ULVAS\", \"ULYIE\", \"ULZIE\", \"UMBEL\", \"UMBER\", \"UMBLE\", \"UMBOS\", \"UMBRA\", \"UMBRE\", \r\n        \"UMIAC\", \"UMIAK\", \"UMIAQ\", \"UMPED\", \"UMPIE\", \"UMPTY\", \"UNAIS\", \"UNAPT\", \"UNARM\", \"UNARY\", \"UNBAG\", \"UNBAR\", \r\n        \"UNBED\", \"UNBID\", \"UNBOX\", \"UNCAP\", \"UNCES\", \"UNCIA\", \"UNCLE\", \"UNCOS\", \"UNCOY\", \"UNDAM\", \"UNDER\", \"UNETH\", \r\n        \"UNFED\", \"UNFIT\", \"UNFIX\", \"UNGET\", \"UNGOD\", \"UNGOT\", \"UNHAT\", \"UNHIP\", \"UNIFY\", \"UNITE\", \"UNITS\", \"UNITY\", \r\n        \"UNJAM\", \"UNKED\", \"UNKET\", \"UNKID\", \"UNLAW\", \"UNLAY\", \"UNLED\", \"UNLET\", \"UNLID\", \"UNLIT\", \"UNMET\", \"UNMEW\", \r\n        \"UNMIX\", \"UNPAY\", \"UNPEG\", \"UNRED\", \"UNRID\", \"UNRIG\", \"UNRIP\", \"UNSAY\", \"UNSET\", \"UNSEW\", \"UNSEX\", \"UNSOD\", \r\n        \"UNTAX\", \"UNTIE\", \"UNTIL\", \"UNWED\", \"UNWET\", \"UNWIT\", \"UNZIP\", \"UPBOW\", \"UPBYE\", \"UPDOS\", \"UPDRY\", \"UPEND\", \r\n        \"UPJET\", \"UPLAY\", \"UPLED\", \"UPLIT\", \"UPRAN\", \"UPSET\", \"UPSEY\", \"UPTAK\", \"UPTER\", \"UPTIE\", \"URAEI\", \"URALI\", \r\n        \"URAOS\", \"URASE\", \"URATE\", \"URBAN\", \"URBIA\", \"UREAL\", \"UREAS\", \"UREDO\", \"UREIC\", \"URENA\", \"URENT\", \"URGED\", \r\n        \"URGES\", \"URIAL\", \"URINE\", \"URITE\", \"URMAN\", \"URNAL\", \"URNED\", \"URPED\", \"URSAE\", \"URSID\", \"URSON\", \"URVAS\", \r\n        \"USAGE\", \"USHER\", \"USING\", \"USNEA\", \"UTERI\", \"UTILE\", \"UVEAL\", \"UVEAS\"\r\n    ],\r\n    \"V\": [\r\n        \"VADES\", \"VAGUE\", \"VAGUS\", \"VAILS\", \"VAIRE\", \"VAIRS\", \"VAIRY\", \"VAKIL\", \"VALES\", \"VALET\", \"VALID\", \"VALIS\", \r\n        \"VALOR\", \"VALSE\", \"VALUE\", \"VAMPS\", \"VAMPY\", \"VANED\", \"VANES\", \"VANGS\", \"VANTS\", \"VAPID\", \"VAPOR\", \"VARDY\", \r\n        \"VAREC\", \"VARES\", \"VARIX\", \"VARUS\", \"VASTY\", \"VATIC\", \"VATUS\", \"VAUCH\", \"VAULT\", \"VAUNT\", \"VAUTE\", \"VAUTS\", \r\n        \"VAWTE\", \"VEALS\", \"VEALY\", \"VEGAN\", \"VEGAS\", \"VEGOS\", \"VEILS\", \"VEILY\", \"VEINS\", \"VEINY\", \"VELAR\", \"VELDS\", \r\n        \"VELDT\", \"VELUM\", \"VENAL\", \"VENDS\", \"VENOM\", \"VENTS\", \"VENUS\", \"VERBS\", \"VERSO\", \"VERST\", \"VERTS\", \"VERTU\", \r\n        \"VESPA\", \"VESTA\", \"VETCH\", \"VEXIL\", \"VEZIR\", \"VIALS\", \"VIAND\", \"VIBES\", \"VIBEX\", \"VIBEY\", \"VICAR\", \"VICED\", \r\n        \"VICES\", \"VICHY\", \"VIDEO\", \"VIERS\", \"VIEWS\", \"VIEWY\", \"VIFDA\", \"VIGAS\", \"VIGOR\", \"VILDE\", \"VILER\", \"VIMEN\", \r\n        \"VINAL\", \"VINAS\", \"VINCA\", \"VINED\", \"VINER\", \"VINES\", \"VINEW\", \"VINOS\", \"VINTS\", \"VINYL\", \"VIOLA\", \"VIOLD\", \r\n        \"VIOLS\", \"VIPER\", \"VIRAL\", \"VIRED\", \"VIREO\", \"VIRES\", \"VIRGA\", \"VIRGE\", \"VIRLS\", \"VIRTU\", \"VIRUS\", \"VISED\", \r\n        \"VISNE\", \"VISON\", \"VISOR\", \"VISTA\", \"VISTO\", \"VITAE\", \"VITAL\", \"VITAS\", \"VITEX\", \"VIXEN\", \"VIZOR\", \"VLEIS\", \r\n        \"VLIES\", \"VOARS\", \"VOCAB\", \"VOCAL\", \"VOCES\", \"VODKA\", \"VODUN\", \"VOEMA\", \"VOGIE\", \"VOGUE\", \"VOICE\", \"VOIDS\", \r\n        \"VOILA\", \"VOILE\", \"VOLAE\", \"VOLAR\", \"VOLED\", \"VOLES\", \"VOLET\", \"VOLKS\", \"VOLTA\", \"VOLTE\", \"VOLTI\", \"VOLTS\", \r\n        \"VOMER\", \"VOMIT\", \"VOTED\", \"VOTER\", \"VOTES\", \"VOUCH\", \"VOUGE\", \"VOWED\", \"VOWEL\", \"VOWER\", \"VOXEL\", \"VOZHD\", \r\n        \"VRAIC\", \"VRILS\", \"VROUS\", \"VROUW\", \"VROWS\", \"VUGHS\", \"VUGHY\", \"VULGO\", \"VULNS\", \"VYING\"\r\n    ],\r\n    \"W\": [\r\n        \"WACKE\", \"WACKO\", \"WACKS\", \"WACKY\", \"WADER\", \"WADES\", \"WADIS\", \"WADTS\", \"WAFER\", \"WAFTS\", \"WAGED\", \"WAGER\", \r\n        \"WAGES\", \"WAGON\", \"WAIDE\", \"WAIFS\", \"WAIFT\", \"WAILS\", \"WAINS\", \"WAIRS\", \"WAIST\", \"WAITE\", \"WAITS\", \"WAIVE\", \r\n        \"WAKED\", \"WAKEN\", \"WAKER\", \"WAKES\", \"WAKFS\", \"WALDO\", \"WALDS\", \"WALED\", \"WALER\", \"WALES\", \"WALIS\", \"WALKS\", \r\n        \"WALTY\", \"WALTZ\", \"WAMED\", \"WAMES\", \"WAMUS\", \"WANDS\", \"WANED\", \"WANES\", \"WANEY\", \"WANGS\", \"WANKS\", \"WANKY\", \r\n        \"WANLE\", \"WANLY\", \"WANTS\", \"WANTY\", \"WANZE\", \"WAQFS\", \"WARBS\", \"WARBY\", \"WARDS\", \"WARED\", \"WARES\", \"WAREZ\", \r\n        \"WARKS\", \"WARMS\", \"WARNS\", \"WARPS\", \"WARST\", \"WARTS\", \"WARTY\", \"WASHY\", \"WASPY\", \"WASTE\", \"WATCH\", \"WATER\", \r\n        \"WAUGH\", \"WAUKS\", \"WAULK\", \"WAULS\", \"WAURS\", \"WAVED\", \"WAVER\", \"WAVES\", \"WAVEY\", \"WAXED\", \"WAXEN\", \"WAXER\", \r\n        \"WAXES\", \"WAYED\", \"WAZIR\", \"WEALD\", \"WEALS\", \"WEAMB\", \"WEANS\", \"WEARS\", \"WEARY\", \"WECHT\", \"WEDGY\", \"WEFTS\", \r\n        \"WEIDS\", \"WEIGH\", \"WEILS\", \"WEIRD\", \"WEIRS\", \"WEKAS\", \"WELCH\", \"WELDS\", \"WELKS\", \"WELKT\", \"WELSH\", \"WELTS\", \r\n        \"WEMBS\", \"WENCH\", \"WENDS\", \"WENTS\", \"WEROS\", \"WERSH\", \"WETAS\", \"WETLY\", \"WHACK\", \"WHALE\", \"WHAMO\", \"WHAMS\", \r\n        \"WHANG\", \"WHAPS\", \"WHARE\", \"WHARF\", \"WHATS\", \"WHAUP\", \"WHAUR\", \"WHEAL\", \"WHEAR\", \"WHEAT\", \"WHEFT\", \"WHELK\", \r\n        \"WHELM\", \"WHELP\", \"WHENS\", \"WHETS\", \"WHEYS\", \"WHIDS\", \"WHIFT\", \"WHIGS\", \"WHILE\", \"WHILK\", \"WHIMS\", \"WHINE\", \r\n        \"WHINS\", \"WHINY\", \"WHIPS\", \"WHIPT\", \"WHIRL\", \"WHIRS\", \"WHISK\", \"WHIST\", \"WHITE\", \"WHITS\", \"WHITY\", \"WHOLE\", \r\n        \"WHOMP\", \"WHOPS\", \"WHORE\", \"WHORL\", \"WHORT\", \"WHOSE\", \"WHUMP\", \"WHUPS\", \"WICKS\", \"WICKY\", \"WIDEN\", \"WIDER\", \r\n        \"WIDES\", \"WIDTH\", \"WIELD\", \"WIELS\", \"WIFED\", \"WIFES\", \"WIFEY\", \"WIFTY\", \"WIGAN\", \"WIGHT\", \"WILCO\", \"WILDS\", \r\n        \"WILED\", \"WILES\", \"WILGA\", \"WILJA\", \"WILTS\", \"WIMPS\", \"WIMPY\", \"WINCE\", \"WINCH\", \"WINDS\", \"WINDY\", \"WINED\", \r\n        \"WINES\", \"WINEY\", \"WINGE\", \"WINGS\", \"WINGY\", \"WINKS\", \"WINOS\", \"WINZE\", \"WIPED\", \"WIPER\", \"WIPES\", \"WIRED\", \r\n        \"WIRES\", \"WISED\", \"WISER\", \"WISHA\", \"WISHT\", \"WISPY\", \"WITAN\", \"WITCH\", \"WITED\", \"WITES\", \"WITHE\", \"WITHS\", \r\n        \"WITHY\", \"WIVED\", \"WIVER\", \"WIVES\", \"WIZEN\", \"WIZES\", \"WOADS\", \"WOALD\", \"WOCKS\", \"WODGE\", \"WOFUL\", \"WOKEN\", \r\n        \"WOLDS\", \"WOLFS\", \"WOLVE\", \"WOMAN\", \"WOMBS\", \"WOMBY\", \"WOMEN\", \"WOMYN\", \"WONGA\", \"WONGI\", \"WONKS\", \"WONKY\", \r\n        \"WONTS\", \"WORDS\", \"WORDY\", \"WORKS\", \"WORLD\", \"WORMS\", \"WORMY\", \"WORSE\", \"WORST\", \"WORTH\", \"WORTS\", \"WOULD\", \r\n        \"WOUND\", \"WOVEN\", \"WOXEN\", \"WRACK\", \"WRANG\", \"WRAPS\", \"WRAPT\", \"WRAST\", \"WRATE\", \"WRATH\", \"WREAK\", \"WRECK\", \r\n        \"WRENS\", \"WREST\", \"WRICK\", \"WRIED\", \"WRIES\", \"WRING\", \"WRIST\", \"WRITE\", \"WRITS\", \"WROKE\", \"WRONG\", \"WROTE\", \r\n        \"WROTH\", \"WRUNG\", \"WURST\", \"WUXIA\", \"WYLED\", \"WYLES\", \"WYNDS\", \"WYTED\", \"WYTES\"\r\n    ],\r\n    \"X\": [\r\n        \"XENIA\", \"XENIC\", \"XERIC\", \"XERUS\", \"XYLAN\", \"XYLEM\", \"XYLIC\", \"XYSTI\"\r\n    ],\r\n    \"Y\": [\r\n        \"YACHT\", \"YACKS\", \"YAGER\", \"YAGIS\", \"YAIRD\", \"YAKOW\", \"YALES\", \"YAMEN\", \"YAMUN\", \"YANGS\", \"YANKS\", \"YAPOK\", \r\n        \"YAPON\", \"YARCO\", \"YARDS\", \"YARKS\", \"YARNS\", \"YARTO\", \"YATES\", \"YAUDS\", \"YAULD\", \"YAUPS\", \"YAWED\", \"YAWLS\", \r\n        \"YAWNS\", \"YAWPS\", \"YBORE\", \"YCLAD\", \"YCLED\", \"YCOND\", \"YEADS\", \"YEAHS\", \"YEALM\", \"YEANS\", \"YEARD\", \"YEARN\", \r\n        \"YEARS\", \"YEAST\", \"YECHS\", \"YELKS\", \"YELMS\", \"YELPS\", \"YELTS\", \"YENTA\", \"YERBA\", \"YERDS\", \"YERKS\", \"YETIS\", \r\n        \"YEUKS\", \"YIELD\", \"YIKED\", \"YIKES\", \"YINCE\", \"YIPES\", \"YIRDS\", \"YIRKS\", \"YIRTH\", \"YITES\", \"YLEMS\", \"YLIKE\", \r\n        \"YLKES\", \"YMOLT\", \"YMPES\", \"YOCKS\", \"YODEL\", \"YODHS\", \"YODLE\", \"YOGAS\", \"YOGHS\", \"YOGIC\", \"YOGIN\", \"YOGIS\", \r\n        \"YOICK\", \"YOJAN\", \"YOKED\", \"YOKEL\", \"YOKER\", \"YOKES\", \"YOKUL\", \"YOLKS\", \"YOMPS\", \"YONIC\", \"YONIS\", \"YONKS\", \r\n        \"YORES\", \"YORKS\", \"YORPS\", \"YOUKS\", \"YOUNG\", \"YOURN\", \"YOURS\", \"YOURT\", \"YOUSE\", \"YOUTH\", \"YOWED\", \"YOWES\", \r\n        \"YOWIE\", \"YOWLS\", \"YRAPT\", \"YRENT\", \"YRIVD\", \"YRNEH\", \"YSAME\", \"YUANS\", \"YUCAS\", \"YUCKO\", \"YUCKS\", \"YUFTS\", \r\n        \"YUGAS\", \"YUKED\", \"YUKES\", \"YUKOS\", \"YULAN\", \"YULES\", \"YUMPS\", \"YUPON\", \"YURTA\", \"YURTS\"\r\n    ],\r\n    \"Z\": [\r\n        \"ZACKS\", \"ZAIRE\", \"ZAMBO\", \"ZANTE\", \"ZARFS\", \"ZATIS\", \"ZAXES\", \"ZAYIN\", \"ZEALS\", \"ZEBRA\", \"ZEBUS\", \"ZEINS\", \r\n        \"ZERDA\", \"ZERKS\", \"ZEROS\", \"ZESTY\", \"ZETAS\", \"ZIBET\", \"ZIGAN\", \"ZILAS\", \"ZILCH\", \"ZIMBS\", \"ZINCO\", \"ZINCS\", \r\n        \"ZINCY\", \"ZINEB\", \"ZINES\", \"ZINGS\", \"ZINGY\", \"ZINKE\", \"ZINKY\", \"ZIRAM\", \"ZLOTE\", \"ZLOTY\", \"ZOBUS\", \"ZOEAL\", \r\n        \"ZOEAS\", \"ZOISM\", \"ZOIST\", \"ZOMBI\", \"ZONAE\", \"ZONAL\", \"ZONDA\", \"ZONED\", \"ZONER\", \"ZONES\", \"ZONKS\", \"ZORIL\", \r\n        \"ZORIS\", \"ZOUKS\", \"ZOWIE\", \"ZUPAN\", \"ZUPAS\", \"ZURFS\", \"ZYGAL\", \"ZYGON\", \"ZYMES\", \"ZYMIC\"\r\n    ],\r\n}","import React, { useState, useReducer } from \"react\";\r\nimport update from \"immutability-helper\";\r\n\r\nimport { AlertFadeTimeout, AlertFadeDuration } from \"./Constants\";\r\n\r\nexport const UserContext = React.createContext();\r\nexport const SiteInfoContext = React.createContext();\r\nexport const PopoverContext = React.createContext();\r\nexport const GameContext = React.createContext();\r\n\r\nexport function useSiteInfo(initData) {\r\n\tconst [siteInfo, updateSiteInfo] = useReducer((siteInfo, action) => {\r\n\t\tvar newSiteInfo;\r\n\r\n\t\tswitch (action.type) {\r\n\t\t\tcase \"setProp\":\r\n\t\t\t\tif (siteInfo[action.prop] != action.value) {\r\n\t\t\t\t\tnewSiteInfo = update(siteInfo, {\r\n\t\t\t\t\t\t[action.prop]: {\r\n\t\t\t\t\t\t\t$set: action.value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"showAlert\":\r\n\t\t\t\tif (typeof action.text == \"function\")\r\n\t\t\t\t\taction.text = action.text(siteInfo.alerts.length);\r\n\r\n\t\t\t\tnewSiteInfo = update(siteInfo, {\r\n\t\t\t\t\talerts: {\r\n\t\t\t\t\t\t$push: [{ \r\n\t\t\t\t\t\t\ttext: action.text, \r\n\t\t\t\t\t\t\ttype: action.alertType || \"\" ,\r\n\t\t\t\t\t\t\tid: action.id\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"hideAlert\":\r\n\t\t\t\tnewSiteInfo = update(siteInfo, {\r\n\t\t\t\t\talerts: {\r\n\t\t\t\t\t\t$splice: [[action.index, 1]]\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"hideAlertById\":\r\n\t\t\t\tfor (let i = 0; i < siteInfo.alerts.length; i++) {\r\n\t\t\t\t\tif (siteInfo.alerts[i].id == action.id) {\r\n\t\t\t\t\t\tnewSiteInfo = update(siteInfo, {\r\n\t\t\t\t\t\t\talerts: {\r\n\t\t\t\t\t\t\t\t$splice: [[i, 1]]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"hideAllAlerts\":\r\n\t\t\t\tnewSiteInfo = update(siteInfo, {\r\n\t\t\t\t\talerts: {\r\n\t\t\t\t\t\t$set: []\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn newSiteInfo || siteInfo;\r\n\t}, initData);\r\n\r\n\tfunction setSiteInfoProp(prop, value) {\r\n\t\tupdateSiteInfo({\r\n\t\t\ttype: \"setProp\",\r\n\t\t\tprop,\r\n\t\t\tvalue\r\n\t\t});\r\n\t}\r\n\r\n\tfunction showAlert(text, alertType, noFade) {\r\n\t\tvar alertId = Math.random();\r\n\r\n\t\tupdateSiteInfo({\r\n\t\t\ttype: \"showAlert\",\r\n\t\t\ttext,\r\n\t\t\talertType,\r\n\t\t\tid: alertId\r\n\t\t});\r\n\r\n\t\tif (!noFade)\r\n\t\t\tsetTimeout(() => fadeAlert(alertId), AlertFadeTimeout);\r\n\t}\r\n\r\n\tfunction hideAlert(index) {\r\n\t\tupdateSiteInfo({\r\n\t\t\ttype: \"hideAlert\",\r\n\t\t\tindex\r\n\t\t});\r\n\t}\r\n\r\n\tfunction hideAllAlerts() {\r\n\t\tupdateSiteInfo({\r\n\t\t\ttype: \"hideAllAlerts\"\r\n\t\t});\r\n\t}\r\n\r\n\tfunction clearCache() {\r\n\t\tvar cacheVal = Date.now();\r\n\t\tsetSiteInfoProp(\"cacheVal\", cacheVal);\r\n\t\twindow.localStorage.setItem(\"cacheVal\", cacheVal);\r\n\t}\r\n\r\n\tfunction fadeAlert(id) {\r\n\t\tvar alert = document.getElementById(`alert-id-${id}`);\r\n\r\n\t\tif (!alert)\r\n\t\t\treturn;\r\n\r\n\t\talert.style.opacity = 0;\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tupdateSiteInfo({\r\n\t\t\t\ttype: \"hideAlertById\",\r\n\t\t\t\tid\r\n\t\t\t});\r\n\t\t}, AlertFadeDuration);\r\n\t}\r\n\r\n\treturn {\r\n\t\t...siteInfo,\r\n\t\tupdate: setSiteInfoProp,\r\n\t\tshowAlert,\r\n\t\thideAlert,\r\n\t\thideAllAlerts,\r\n\t\tclearCache\r\n\t};\r\n}","import React, { useContext } from \"react\";\r\nimport { SiteInfoContext } from \"../Contexts\";\r\n\r\nimport \"../css/alerts.css\";\r\n\r\nexport function AlertList(props) {\r\n\tconst siteInfo = useContext(SiteInfoContext);\r\n\r\n\tconst alerts = siteInfo.alerts.map((alert, i) => {\r\n\t\treturn (\r\n\t\t\t<Alert\r\n\t\t\t\tid={alert.id}\r\n\t\t\t\tindex={i}\r\n\t\t\t\ttext={alert.text}\r\n\t\t\t\ttype={alert.type}\r\n\t\t\t\tonHide={siteInfo.hideAlert}\r\n\t\t\t\tkey={alert.id} />\r\n\t\t)\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className=\"alert-list\">\r\n\t\t\t{alerts}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function Alert(props) {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tid={`alert-id-${props.id}`}\r\n\t\t\tclassName={`alert alert-${props.type}`}>\r\n\t\t\t<i\r\n\t\t\t\tclassName={`hide-alert fa-times-circle fas`}\r\n\t\t\t\tonClick={() => props.onHide(props.index)} />\r\n\t\t\t{props.text}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport function useErrorAlert(siteInfo) {\r\n\tconst siteInfoContext = useContext(SiteInfoContext);\r\n\tsiteInfo = siteInfo || siteInfoContext;\r\n\r\n\treturn (e) => {\r\n\t\tvar message;\r\n\r\n\t\tif (e && e.response)\r\n\t\t\tmessage = e.response.data;\r\n\t\telse if (e && e.message)\r\n\t\t\tmessage = e.message;\r\n\t\telse if (typeof e == \"string\")\r\n\t\t\tmessage = e;\r\n\t\telse\r\n\t\t\tmessage = \"Error loading data\";\r\n\r\n\t\tif (message.length > 200)\r\n\t\t\tmessage = \"Connection error\";\r\n\r\n\t\tsiteInfo.showAlert(message, \"error\");\r\n\t};\r\n}","import React, { useEffect } from \"react\";\r\n\r\nimport \"../css/emotes.css\";\r\n\r\nexport function Emote(props) {\r\n\tconst emoteKey = props.emote.toLowerCase();\r\n\tconst emote = Emotes[emoteKey];\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"emote\"\r\n\t\t\ttitle={emote.name}\r\n\t\t\tstyle={{ backgroundImage: `url('/images/emotes/${emote.name.toLowerCase()}.${emote.type}')` }} />\r\n\t);\r\n}\r\n\r\nexport function emotify(text) {\r\n\tif (text == null)\r\n\t\treturn;\r\n\r\n\tif (!Array.isArray(text))\r\n\t\ttext = [text];\r\n\r\n\r\n\tfor (let i in text) {\r\n\t\tlet segment = text[i];\r\n\r\n\t\tif (typeof segment != \"string\")\r\n\t\t\tcontinue;\r\n\r\n\t\tconst words = segment.split(\" \");\r\n\r\n\t\tfor (let j in words) {\r\n\t\t\tlet word = words[j].toLowerCase();\r\n\r\n\t\t\t// Checking if Emote dictionary contains the word.\r\n\t\t\tif (Emotes[word]) {\r\n\t\t\t\twords[j] = <Emote emote={word}/>;\r\n\t\t\t} else {\r\n\t\t\t\twords[j] = words[j] + \" \";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttext[i] = words;\r\n\t}\r\n\t\r\n\ttext = text.flat();\r\n\treturn text.length == 1 ? text[0] : text;\r\n}\r\n\r\nexport const Emotes = {\r\n    \"-_-\": {\r\n        name: \"expressionless\",\r\n        type: \"png\"\r\n    },\r\n    \"-@\": {\r\n        name: \"jack\",\r\n        type: \"png\"\r\n    },\r\n    \";_;\": {\r\n        name: \"cry\",\r\n        type: \"png\"\r\n    },\r\n    \";)\": {\r\n        name: \"wink\",\r\n        type: \"png\"\r\n    },\r\n    \":(\": {\r\n        name: \"sad\",\r\n        type: \"png\"\r\n    },\r\n    \":)\": {\r\n        name: \"happy\",\r\n        type: \"png\"\r\n    },\r\n    \":@\": {\r\n        name: \"cthulhu\",\r\n        type: \"png\"\r\n    },\r\n    \":|\": {\r\n        name: \"neutral\",\r\n        type: \"png\"\r\n    },\r\n    \":3\": {\r\n        name: \"candy\",\r\n        type: \"png\"\r\n    },\r\n    \":awoo:\": {\r\n        name: \"awoo\",\r\n        type: \"png\"\r\n    },\r\n    \":bats:\": {\r\n        name: \"bats\",\r\n        type: \"png\"\r\n    },\r\n    \":birb:\": {\r\n        name: \"birb\",\r\n        type: \"gif\"\r\n    },\r\n    \":boar:\": {\r\n        name: \"boar\",\r\n        type: \"png\"\r\n    },\r\n    \":bob:\": {\r\n        name: \"bob\",\r\n        type: \"gif\"\r\n    },\r\n    \":bub:\": {\r\n        name: \"bub\",\r\n        type: \"gif\"\r\n    },\r\n    \":bum:\": {\r\n        name: \"bum\",\r\n        type: \"gif\"\r\n    },\r\n    \":bump:\": {\r\n        name: \"bump\",\r\n        type: \"png\"\r\n    },\r\n    \":bunny:\": {\r\n        name: \"bunny\",\r\n        type: \"png\"\r\n    },\r\n    \":cake:\": {\r\n        name: \"cake\",\r\n        type: \"png\"\r\n    },\r\n    \":candycane:\": {\r\n        name: \"candycane\",\r\n        type: \"png\"\r\n    },\r\n    \":cat:\": {\r\n        name: \"cat\",\r\n        type: \"png\"\r\n    },\r\n    \":catjam:\": {\r\n        name: \"catjam\",\r\n        type: \"gif\"\r\n    },\r\n    \":cavebob:\": {\r\n        name: \"cavebob\",\r\n        type: \"png\"\r\n    },\r\n    \":chick:\": {\r\n        name: \"chick\",\r\n        type: \"png\"\r\n    },\r\n    \":christmas:\": {\r\n        name: \"christmas\",\r\n        type: \"png\"\r\n    },\r\n    \":clock:\": {\r\n        name: \"clock\",\r\n        type: \"png\"\r\n    },\r\n    \":cookie:\": {\r\n        name: \"cookie\",\r\n        type: \"png\"\r\n    },\r\n    \":couldyounot:\": {\r\n        name: \"couldyounot\",\r\n        type: \"gif\"\r\n    },\r\n    \":cupcake:\": {\r\n        name: \"cupcake\",\r\n        type: \"png\"\r\n    },\r\n    \":ditto:\": {\r\n        name: \"ditto\",\r\n        type: \"gif\"\r\n    },\r\n    \":doge:\": {\r\n        name: \"doge\",\r\n        type: \"png\"\r\n    },\r\n    \":eee:\": {\r\n        name: \"eee\",\r\n        type: \"png\"\r\n    },\r\n    \":ez:\": {\r\n        name: \"EZ\",\r\n        type: \"png\"\r\n    },\r\n    \":feelsdankman:\": {\r\n        name: \"FeelsDankMan\",\r\n        type: \"png\"\r\n    },\r\n    \":feelsokayman:\": {\r\n        name: \"FeelsOkayMan\",\r\n        type: \"png\"\r\n    },\r\n    \":fox:\": {\r\n        name: \"fox\",\r\n        type: \"png\"\r\n    },\r\n    \":fufu:\": {\r\n        name: \"fufu\",\r\n        type: \"png\"\r\n    },\r\n    \":gay:\": {\r\n        name: \"gay\",\r\n        type: \"png\"\r\n    },\r\n    \":ghost:\": {\r\n        name: \"ghost\",\r\n        type: \"png\"\r\n    },\r\n    \":hammer:\": {\r\n        name: \"hammer\",\r\n        type: \"png\"\r\n    },\r\n    \":hamster:\": {\r\n        name: \"hamster\",\r\n        type: \"gif\"\r\n    },\r\n    \":horse:\": {\r\n        name: \"horse\",\r\n        type: \"png\"\r\n    },\r\n    \":kapp:\": {\r\n        name: \"Kapp\",\r\n        type: \"png\"\r\n    },\r\n    \":kekm:\": {\r\n        name: \"kekm\",\r\n        type: \"png\"\r\n    },\r\n    \":knife:\": {\r\n        name: \"knife\",\r\n        type: \"png\"\r\n    },\r\n    \":lion:\": {\r\n        name: \"lion\",\r\n        type: \"png\"\r\n    },\r\n    \":lmao:\": {\r\n        name: \"lmao\",\r\n        type: \"png\"\r\n    },\r\n    \":mermaid:\": {\r\n        name: \"mermaid\",\r\n        type: \"png\"\r\n    },\r\n    \":monkagun:\": {\r\n        name: \"MonkaGun\",\r\n        type: \"png\"\r\n    },\r\n    \":monkahmm:\": {\r\n        name: \"MonkaHmm\",\r\n        type: \"png\"\r\n    },\r\n    \":monkas:\": {\r\n        name: \"MonkaS\",\r\n        type: \"png\"\r\n    },\r\n    \":monkfade:\": {\r\n        name: \"monkfade\",\r\n        type: \"gif\"\r\n    },\r\n    \":monkspin:\": {\r\n        name: \"monkspin\",\r\n        type: \"gif\"\r\n    },\r\n    \":nodders:\": {\r\n        name: \"Nodders\",\r\n        type: \"gif\"\r\n    },\r\n    \":nopers:\": {\r\n        name: \"Nopers\",\r\n        type: \"gif\"\r\n    },\r\n    \":o\": {\r\n        name: \"surprised\",\r\n        type: \"png\"\r\n    },\r\n    \":omegalul:\": {\r\n        name: \"Omegalul\",\r\n        type: \"png\"\r\n    },\r\n    \":omg:\": {\r\n        name: \"omg\",\r\n        type: \"png\"\r\n    },\r\n    \":p\": {\r\n        name: \"tongue\",\r\n        type: \"png\"\r\n    },\r\n    \":panda:\": {\r\n        name: \"panda\",\r\n        type: \"png\"\r\n    },\r\n    \":peepohappy:\": {\r\n        name: \"PeepoHappy\",\r\n        type: \"png\"\r\n    },\r\n    \":peeposad:\": {\r\n        name: \"PeepoSad\",\r\n        type: \"png\"\r\n    },\r\n    \":peepowtf:\": {\r\n        name: \"PeepoWtf\",\r\n        type: \"png\"\r\n    },\r\n    \":penguin:\": {\r\n        name: \"penguin\",\r\n        type: \"png\"\r\n    },\r\n    \":pepeawooga:\": {\r\n        name: \"awooga128\",\r\n        type: \"png\"\r\n    },\r\n    \":pepega:\": {\r\n        name: \"Pepega\",\r\n        type: \"png\"\r\n    },\r\n    \":pepegaaim:\": {\r\n        name: \"PepegaAim\",\r\n        type: \"gif\"\r\n    },\r\n    \":pepehands:\": {\r\n        name: \"PepeHands\",\r\n        type: \"png\"\r\n    },\r\n    \":pepelaugh:\": {\r\n        name: \"PepeLaugh\",\r\n        type: \"png\"\r\n    },\r\n    \":pepemeltdown:\": {\r\n        name: \"PepeMeltdown\",\r\n        type: \"gif\"\r\n    },\r\n    \":pepepains:\": {\r\n        name: \"PepePains\",\r\n        type: \"png\"\r\n    },\r\n    \":pepepls:\": {\r\n        name: \"PepePls\",\r\n        type: \"gif\"\r\n    },\r\n    \":pepereee:\": {\r\n        name: \"reeeee1\",\r\n        type: \"png\"\r\n    },\r\n    \":pepog:\": {\r\n        name: \"PepoG\",\r\n        type: \"png\"\r\n    },\r\n    \":pingu:\": {\r\n        name: \"pingu\",\r\n        type: \"gif\"\r\n    },\r\n    \":pizza:\": {\r\n        name: \"pizza\",\r\n        type: \"png\"\r\n    },\r\n    \":quiggle:\": {\r\n        name: \"quiggle\",\r\n        type: \"png\"\r\n    },\r\n    \":rainbow:\": {\r\n        name: \"rainbow\",\r\n        type: \"png\"\r\n    },\r\n    \":rainbowdoge:\": {\r\n        name: \"rainbowdoge\",\r\n        type: \"png\"\r\n    },\r\n    \":ratjam:\": {\r\n        name: \"ratjam\",\r\n        type: \"gif\"\r\n    },\r\n    \":rip:\": {\r\n        name: \"rip\",\r\n        type: \"png\"\r\n    },\r\n    \":roach:\": {\r\n        name: \"roach\",\r\n        type: \"gif\"\r\n    },\r\n    \":rose:\": {\r\n        name: \"rose\",\r\n        type: \"png\"\r\n    },\r\n    \":sadge:\": {\r\n        name: \"Sadge\",\r\n        type: \"png\"\r\n    },\r\n    \":sandbox:\": {\r\n        name: \"sandbox\",\r\n        type: \"png\"\r\n    },\r\n    \":santa:\": {\r\n        name: \"santa\",\r\n        type: \"png\"\r\n    },\r\n    \":sheep:\": {\r\n        name: \"sheep\",\r\n        type: \"png\"\r\n    },\r\n    \":shotgun:\": {\r\n        name: \"shotgun\",\r\n        type: \"png\"\r\n    },\r\n    \":snake:\": {\r\n        name: \"snake\",\r\n        type: \"png\"\r\n    },\r\n    \":snowman:\": {\r\n        name: \"snowman\",\r\n        type: \"png\"\r\n    },\r\n    \":star:\": {\r\n        name: \"star\",\r\n        type: \"png\"\r\n    },\r\n    \":swag:\": {\r\n        name: \"swag\",\r\n        type: \"gif\"\r\n    },\r\n    \":sy0a:\": {\r\n        name: \"sy0a\",\r\n        type: \"png\"\r\n    },\r\n    \":sy0b:\": {\r\n        name: \"sy0b\",\r\n        type: \"png\"\r\n    },\r\n    \":sy0c:\": {\r\n        name: \"sy0c\",\r\n        type: \"png\"\r\n    },\r\n    \":sy0d:\": {\r\n        name: \"sy0d\",\r\n        type: \"png\"\r\n    },\r\n    \":sy0e:\": {\r\n        name: \"sy0e\",\r\n        type: \"png\"\r\n    },\r\n    \":sy0f:\": {\r\n        name: \"sy0f\",\r\n        type: \"png\"\r\n    },\r\n    \":sy0g:\": {\r\n        name: \"sy0g\",\r\n        type: \"png\"\r\n    },\r\n    \":sy0h:\": {\r\n        name: \"sy0h\",\r\n        type: \"png\"\r\n    },\r\n    \":sy0i:\": {\r\n        name: \"sy0i\",\r\n        type: \"png\"\r\n    },\r\n    \":sy1a:\": {\r\n        name: \"sy1a\",\r\n        type: \"png\"\r\n    },\r\n    \":sy1b:\": {\r\n        name: \"sy1b\",\r\n        type: \"png\"\r\n    },\r\n    \":sy1c:\": {\r\n        name: \"sy1c\",\r\n        type: \"png\"\r\n    },\r\n    \":sy1d:\": {\r\n        name: \"sy1d\",\r\n        type: \"png\"\r\n    },\r\n    \":sy1e:\": {\r\n        name: \"sy1e\",\r\n        type: \"png\"\r\n    },\r\n    \":sy1f:\": {\r\n        name: \"sy1f\",\r\n        type: \"png\"\r\n    },\r\n    \":sy1g:\": {\r\n        name: \"sy1g\",\r\n        type: \"png\"\r\n    },\r\n    \":sy1h:\": {\r\n        name: \"sy1h\",\r\n        type: \"png\"\r\n    },\r\n    \":sy1i:\": {\r\n        name: \"sy1i\",\r\n        type: \"png\"\r\n    },\r\n    \":sy2a:\": {\r\n        name: \"sy2a\",\r\n        type: \"png\"\r\n    },\r\n    \":sy2b:\": {\r\n        name: \"sy2b\",\r\n        type: \"png\"\r\n    },\r\n    \":sy2c:\": {\r\n        name: \"sy2c\",\r\n        type: \"png\"\r\n    },\r\n    \":sy2d:\": {\r\n        name: \"sy2d\",\r\n        type: \"png\"\r\n    },\r\n    \":sy2e:\": {\r\n        name: \"sy2e\",\r\n        type: \"png\"\r\n    },\r\n    \":sy2f:\": {\r\n        name: \"sy2f\",\r\n        type: \"png\"\r\n    },\r\n    \":sy2g:\": {\r\n        name: \"sy2g\",\r\n        type: \"png\"\r\n    },\r\n    \":sy2h:\": {\r\n        name: \"sy2h\",\r\n        type: \"png\"\r\n    },\r\n    \":sy2i:\": {\r\n        name: \"sy2i\",\r\n        type: \"png\"\r\n    },\r\n    \":sy3a:\": {\r\n        name: \"sy3a\",\r\n        type: \"png\"\r\n    },\r\n    \":sy3b:\": {\r\n        name: \"sy3b\",\r\n        type: \"png\"\r\n    },\r\n    \":sy3c:\": {\r\n        name: \"sy3c\",\r\n        type: \"png\"\r\n    },\r\n    \":sy3d:\": {\r\n        name: \"sy3d\",\r\n        type: \"png\"\r\n    },\r\n    \":sy3e:\": {\r\n        name: \"sy3e\",\r\n        type: \"png\"\r\n    },\r\n    \":sy3f:\": {\r\n        name: \"sy3f\",\r\n        type: \"png\"\r\n    },\r\n    \":sy3g:\": {\r\n        name: \"sy3g\",\r\n        type: \"png\"\r\n    },\r\n    \":sy3h:\": {\r\n        name: \"sy3h\",\r\n        type: \"png\"\r\n    },\r\n    \":sy3i:\": {\r\n        name: \"sy3i\",\r\n        type: \"png\"\r\n    },\r\n    \":sy4a:\": {\r\n        name: \"sy4a\",\r\n        type: \"png\"\r\n    },\r\n    \":sy4b:\": {\r\n        name: \"sy4b\",\r\n        type: \"png\"\r\n    },\r\n    \":sy4c:\": {\r\n        name: \"sy4c\",\r\n        type: \"png\"\r\n    },\r\n    \":sy4d:\": {\r\n        name: \"sy4d\",\r\n        type: \"png\"\r\n    },\r\n    \":sy4e:\": {\r\n        name: \"sy4e\",\r\n        type: \"png\"\r\n    },\r\n    \":sy4f:\": {\r\n        name: \"sy4f\",\r\n        type: \"png\"\r\n    },\r\n    \":sy4g:\": {\r\n        name: \"sy4g\",\r\n        type: \"png\"\r\n    },\r\n    \":sy4h:\": {\r\n        name: \"sy4h\",\r\n        type: \"png\"\r\n    },\r\n    \":sy4i:\": {\r\n        name: \"sy4i\",\r\n        type: \"png\"\r\n    },\r\n    \":sy5a:\": {\r\n        name: \"sy5a\",\r\n        type: \"png\"\r\n    },\r\n    \":sy5b:\": {\r\n        name: \"sy5b\",\r\n        type: \"png\"\r\n    },\r\n    \":sy5c:\": {\r\n        name: \"sy5c\",\r\n        type: \"png\"\r\n    },\r\n    \":sy5d:\": {\r\n        name: \"sy5d\",\r\n        type: \"png\"\r\n    },\r\n    \":sy5e:\": {\r\n        name: \"sy5e\",\r\n        type: \"png\"\r\n    },\r\n    \":sy5f:\": {\r\n        name: \"sy5f\",\r\n        type: \"png\"\r\n    },\r\n    \":sy5g:\": {\r\n        name: \"sy5g\",\r\n        type: \"png\"\r\n    },\r\n    \":sy5h:\": {\r\n        name: \"sy5h\",\r\n        type: \"png\"\r\n    },\r\n    \":sy5i:\": {\r\n        name: \"sy5i\",\r\n        type: \"png\"\r\n    },\r\n    \":sy6a:\": {\r\n        name: \"sy6a\",\r\n        type: \"png\"\r\n    },\r\n    \":sy6b:\": {\r\n        name: \"sy6b\",\r\n        type: \"png\"\r\n    },\r\n    \":sy6c:\": {\r\n        name: \"sy6c\",\r\n        type: \"png\"\r\n    },\r\n    \":sy6d:\": {\r\n        name: \"sy6d\",\r\n        type: \"png\"\r\n    },\r\n    \":sy6e:\": {\r\n        name: \"sy6e\",\r\n        type: \"png\"\r\n    },\r\n    \":sy6f:\": {\r\n        name: \"sy6f\",\r\n        type: \"png\"\r\n    },\r\n    \":sy6g:\": {\r\n        name: \"sy6g\",\r\n        type: \"png\"\r\n    },\r\n    \":sy6h:\": {\r\n        name: \"sy6h\",\r\n        type: \"png\"\r\n    },\r\n    \":sy6i:\": {\r\n        name: \"sy6i\",\r\n        type: \"png\"\r\n    },\r\n    \":sy7a:\": {\r\n        name: \"sy7a\",\r\n        type: \"png\"\r\n    },\r\n    \":sy7b:\": {\r\n        name: \"sy7b\",\r\n        type: \"png\"\r\n    },\r\n    \":sy7c:\": {\r\n        name: \"sy7c\",\r\n        type: \"png\"\r\n    },\r\n    \":sy7d:\": {\r\n        name: \"sy7d\",\r\n        type: \"png\"\r\n    },\r\n    \":sy7e:\": {\r\n        name: \"sy7e\",\r\n        type: \"png\"\r\n    },\r\n    \":sy7f:\": {\r\n        name: \"sy7f\",\r\n        type: \"png\"\r\n    },\r\n    \":sy7g:\": {\r\n        name: \"sy7g\",\r\n        type: \"png\"\r\n    },\r\n    \":sy7h:\": {\r\n        name: \"sy7h\",\r\n        type: \"png\"\r\n    },\r\n    \":sy7i:\": {\r\n        name: \"sy7i\",\r\n        type: \"png\"\r\n    },\r\n    \":sy8a:\": {\r\n        name: \"sy8a\",\r\n        type: \"png\"\r\n    },\r\n    \":sy8b:\": {\r\n        name: \"sy8b\",\r\n        type: \"png\"\r\n    },\r\n    \":sy8c:\": {\r\n        name: \"sy8c\",\r\n        type: \"png\"\r\n    },\r\n    \":sy8d:\": {\r\n        name: \"sy8d\",\r\n        type: \"png\"\r\n    },\r\n    \":sy8e:\": {\r\n        name: \"sy8e\",\r\n        type: \"png\"\r\n    },\r\n    \":sy8f:\": {\r\n        name: \"sy8f\",\r\n        type: \"png\"\r\n    },\r\n    \":sy8g:\": {\r\n        name: \"sy8g\",\r\n        type: \"png\"\r\n    },\r\n    \":sy8h:\": {\r\n        name: \"sy8h\",\r\n        type: \"png\"\r\n    },\r\n    \":sy8i:\": {\r\n        name: \"sy8i\",\r\n        type: \"png\"\r\n    },\r\n    \":sy9a:\": {\r\n        name: \"sy9a\",\r\n        type: \"png\"\r\n    },\r\n    \":sy9a:\": {\r\n        name: \"sy9a\",\r\n        type: \"png\"\r\n    },\r\n    \":sy9b:\": {\r\n        name: \"sy9b\",\r\n        type: \"png\"\r\n    },\r\n    \":sy9c:\": {\r\n        name: \"sy9c\",\r\n        type: \"png\"\r\n    },\r\n    \":sy9d:\": {\r\n        name: \"sy9d\",\r\n        type: \"png\"\r\n    },\r\n    \":sy9e:\": {\r\n        name: \"sy9e\",\r\n        type: \"png\"\r\n    },\r\n    \":taco:\": {\r\n        name: \"taco\",\r\n        type: \"gif\"\r\n    },\r\n    \":thomas:\": {\r\n        name: \"thomasoface\",\r\n        type: \"png\"\r\n    },\r\n    \":thonk:\": {\r\n        name: \"thonk\",\r\n        type: \"png\"\r\n    },\r\n    \":tiger:\": {\r\n        name: \"tiger\",\r\n        type: \"png\"\r\n    },\r\n    \":tip:\": {\r\n        name: \"tip\",\r\n        type: \"gif\"\r\n    },\r\n    \":tipb:\": {\r\n        name: \"tipb\",\r\n        type: \"gif\"\r\n    },\r\n    \":tmnt:\": {\r\n        name: \"tmnt\",\r\n        type: \"gif\"\r\n    },\r\n    \":turkey:\": {\r\n        name: \"turkey\",\r\n        type: \"png\"\r\n    },\r\n    \":unicorn:\": {\r\n        name: \"unicorn\",\r\n        type: \"png\"\r\n    },\r\n    \":werewolf:\": {\r\n        name: \"werewolf\",\r\n        type: \"png\"\r\n    },\r\n    \":wink:\": {\r\n        name: \"wink\",\r\n        type: \"png\"\r\n    },\r\n    \":wolf:\": {\r\n        name: \"wolf\",\r\n        type: \"png\"\r\n    },\r\n    \":yum:\": {\r\n        name: \"yum\",\r\n        type: \"gif\"\r\n    },\r\n    \":zzz:\": {\r\n        name: \"zzz\",\r\n        type: \"png\"\r\n    },\r\n    \"<3\": {\r\n        name: \"heart\",\r\n        type: \"png\"\r\n    },\r\n    \">:(\": {\r\n        name: \"frown\",\r\n        type: \"png\"\r\n    },\r\n    \"o_o\": {\r\n        name: \"confused\",\r\n        type: \"png\"\r\n    },\r\n    \"zzz\": {\r\n        name: \"zzz\",\r\n        type: \"png\"\r\n    },\r\n};\r\n\r\nexport const EmoteKeys = Object.keys(Emotes);\r\n","import slurs from \"../json/slurs\";\nimport swears from \"../json/swears\";\n\n/* Creates an array of profanity RegExps. See https://regex101.com for a detailed breakdown.\n *\n * ([^A-Z]|\\s) matches any non-alphabet character or whitespace character\n * This is inserted between each character of the slur to prevent masking white spaces or punctuation.\n * \n * \\b matches word boundaries\n * [^A-Z] matches any non-alphabet characters\n * (${word}) matches the modified word RegExp (see above comment)\n * s matches the character \"s\" literally\n * \n * The -i flag makes the RegExp case insensitive.\n * \n*/\nfunction createProfanityRegexps(words) {\n    return words\n        .map((word) => word.split(\"\").join(String.raw`+([^A-Z]|\\s)*`).concat(\"+\"))\n        .map((word) => new RegExp(String.raw`\\b[^A-Z]*((${word})+s*)+[^A-Z]*\\b`, \"i\"));\n}\n\n// Creating profanity RegExps.\nconst slurRegexps = createProfanityRegexps(slurs);\nconst swearRegexps = createProfanityRegexps(swears);\n\n// Leet speak mappings.\nconst leetMappings = {\n    \"0\": \"o\",\n    \"1\": \"i\",\n    \"2\": \"z\",\n    \"3\": \"e\",\n    \"4\": \"a\",\n    \"5\": \"s\",\n    \"6\": \"g\",\n    \"7\": \"t\",\n    \"8\": \"b\",\n    \"9\": \"g\"\n};\n\n// Server-side slur detection.\nfunction textIncludesSlurs(text) {\n    for (const num in leetMappings) {\n        text = text.replace(num, leetMappings[num]);\n    }\n    for (const slurRegex of slurRegexps) {\n        if (slurRegex.test(text)) {\n            return true;\n        }\n    }\n    return false;\n};\n\n// Client-side speech filtering.\nfunction filterProfanitySegment(profanityType, segment, char) {\n    let profanityRegexps;\n    // Getting profanity list.\n    switch (profanityType) {\n        case \"slurs\":\n            profanityRegexps = slurRegexps; break;\n        case \"swears\":\n            profanityRegexps = swearRegexps; break;\n        default:\n            return segment;\n    }\n\n    // Substituting numbers with letters.\n    let mappedSegment = segment;\n    for (const num in leetMappings) {\n        mappedSegment = mappedSegment.replaceAll(num, leetMappings[num]);\n    }\n\n    // Filtering profanity.\n    for (const profanityRegex of profanityRegexps) {\n        let regexRes = profanityRegex.exec(mappedSegment);\n        while (regexRes) {\n            // regexRes.index returns the index of the start of the match, not the capturing group.\n            const index = regexRes.index + regexRes[0].indexOf(regexRes[1]);\n            const length = regexRes[1].length;\n            segment = segment.slice(0, index) + char.repeat(length) + segment.slice(index + length);\n            // Filtering mappedSegment, to ensure that segments match.\n            mappedSegment = mappedSegment.slice(0, index) + char.repeat(length) + mappedSegment.slice(index + length);\n            regexRes = profanityRegex.exec(mappedSegment);\n        }\n    }\n    return segment;\n}\n\nexport { filterProfanitySegment, textIncludesSlurs };\n","export default [\n    \"abo\",\n    \"chink\",\n    \"coon\",\n    \"dago\",\n    \"fag\",\n    \"faggot\",\n    \"gook\",\n    \"jap\",\n    \"kike\",\n    \"mong\",\n    \"nazi\",\n    \"nigga\",\n    \"nigger\",\n    \"paki\",\n    \"retard\",\n    \"spastic\",\n    \"spic\",\n    \"trannie\",\n    \"tranny\",\n    \"wetback\",\n    \"wog\",\n]\n","export default [\n    \"ass\",\n    \"asshole\",\n    \"bitch\",\n    \"bitches\",\n    \"cock\",\n    \"cunt\",\n    \"dick\",\n    \"fuck\",\n    \"fucked\",\n    \"fucking\",\n    \"pussy\",\n    \"shit\",\n    \"slut\",\n    \"tit\",\n    \"wanker\",\n    \"whore\",\n]\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { emotify } from \"./Emotes\";\r\nimport { filterProfanitySegment } from \"../lib/profanity\";\r\n\r\nexport function ItemList(props) {\r\n\tconst items = props.items;\r\n\tconst itemRows = items.map(props.map);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`item-list ${props.className || \"\"}`}>\r\n\t\t\t{itemRows}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function PanelGrid(props) {\r\n\tconst panels = props.panels.map((panel, i) => (\r\n\t\t<div className=\"box-panel\" key={i}>\r\n\t\t\t<div className=\"heading\">\r\n\t\t\t\t{panel.icon}\r\n\t\t\t\t<div className=\"heading-text\">\r\n\t\t\t\t\t{panel.name}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"content\">\r\n\t\t\t\t{panel.text}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t));\r\n\treturn (\r\n\t\t<div className=\"panel-grid\">\r\n\t\t\t{panels}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function Time(props) {\r\n\tvar unit = \"millisecond\";\r\n\tvar value = props.millisec;\r\n\tvar suffix = props.suffix || \"\";\r\n\tvar minSec = props.minSec;\r\n\r\n\tconst units = [\r\n\t\t{\r\n\t\t\tname: \"second\",\r\n\t\t\tscale: 1000\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"minute\",\r\n\t\t\tscale: 60\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"hour\",\r\n\t\t\tscale: 60\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"day\",\r\n\t\t\tscale: 24\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"week\",\r\n\t\t\tscale: 7\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"year\",\r\n\t\t\tscale: 52\r\n\t\t}\r\n\t];\r\n\r\n\tlet i = 0;\r\n\twhile (i < units.length - 1 && value >= units[i].scale) {\r\n\t\tvalue /= units[i].scale;\r\n\t\tunit = units[i].name;\r\n\t\ti++;\r\n\t}\r\n\r\n\tif (minSec && unit == \"millisecond\")\r\n\t\treturn `Less than a second${suffix}`;\r\n\r\n\tvalue = Math.floor(value);\r\n\r\n\tif (value > 1)\r\n\t\tunit += \"s\";\r\n\r\n\treturn `${value} ${unit}${suffix}`;\r\n}\r\n\r\nexport function NotificationHolder(props) {\r\n\tconst notifCount = props.notifCount;\r\n\tconst onClick = props.onClick;\r\n\tconst lOffset = props.lOffset;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`notif-bound ${props.className || \"\"}`}\r\n\t\t\tonClick={onClick}\r\n\t\t\tref={props.fwdRef}>\r\n\t\t\t{notifCount > 0 &&\r\n\t\t\t\t<>\r\n\t\t\t\t\t<i className={`fas fa-circle notif-icon ${lOffset ? \"l-offset\" : \"\"}`}>\r\n\t\t\t\t\t\t<div className=\"notif-count\">\r\n\t\t\t\t\t\t\t{notifCount}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</i>\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t\t{props.children}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function UserText(props) {\r\n\tconst [content, setContent] = useState(props.text);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (props.text == null)\r\n\t\t\treturn;\r\n\r\n\t\tlet text = props.text;\r\n\r\n\t\tif (props.filterProfanity)\r\n\t\t\ttext = filterProfanity(text, props.settings, props.profChar);\r\n\r\n\t\tif (props.linkify)\r\n\t\t\ttext = linkify(text);\r\n\r\n\t\t// Any effects that inject elements need to be added after this point because the text property changes\r\n\t\t// throughout this useEffect function\r\n\t\tif (props.emotify)\r\n\t\t\ttext = emotify(text);\r\n\r\n\t\tif (props.iconUsername)\r\n\t\t\ttext = iconUsername(text, props.players);\r\n\r\n\t\tsetContent(text);\r\n\t}, [props.text]);\r\n\r\n\treturn content;\r\n}\r\n\r\nexport function linkify(text) {\r\n\tif (text == null)\r\n\t\treturn;\r\n\r\n\tif (!Array.isArray(text))\r\n\t\ttext = [text];\r\n\r\n\tconst linkRegex = /http(s{0,1}):\\/\\/([\\w.]+)\\.(\\w+)([^\\s]*)/g;\r\n\r\n\tfor (let i in text) {\r\n\t\tlet _segment = text[i];\r\n\t\tlet segment = [];\r\n\t\tlet lastIndex = 0;\r\n\t\tlet regexRes = linkRegex.exec(_segment);\r\n\r\n\t\twhile (regexRes) {\r\n\t\t\tsegment.push(_segment.slice(lastIndex, regexRes.index));\r\n\t\t\tsegment.push(<a href={regexRes[0]} target=\"blank\" key={lastIndex}>{regexRes[0]}</a>);\r\n\r\n\t\t\tlastIndex = linkRegex.lastIndex;\r\n\t\t\tregexRes = linkRegex.exec(_segment);\r\n\t\t}\r\n\r\n\t\tsegment.push(_segment.slice(lastIndex, _segment.length));\r\n\t\ttext[i] = segment;\r\n\t}\r\n\r\n\ttext = text.flat();\r\n\treturn text.length == 1 ? text[0] : text;\r\n}\r\n\r\nexport function filterProfanity(text, settings, char) {\r\n\tif (text == null)\r\n\t\treturn;\r\n\r\n\tif (!Array.isArray(text))\r\n\t\ttext = [text];\r\n\r\n\tsettings = settings || {};\r\n\r\n\tfor (let i in text) {\r\n\t\tlet segment = text[i];\r\n\r\n\t\tif (typeof segment != \"string\")\r\n\t\t\tcontinue;\r\n\r\n\t\tchar = char || \"*\";\r\n\r\n\t\tif (!settings.disablePg13Censor)\r\n\t\t\tsegment = filterProfanitySegment(\"swears\", segment, char);\r\n\r\n\t\tif (!settings.disableAllCensors)\r\n\t\t\tsegment = filterProfanitySegment(\"slurs\", segment, char);\r\n\r\n\t\ttext[i] = segment;\r\n\t}\r\n\r\n\ttext = text.flat();\r\n\treturn text.length == 1 ? text[0] : text;\r\n}\r\n\r\nexport function iconUsername(text, players) {\r\n\tif (text == null)\r\n\t\treturn;\r\n\r\n\tif (!Array.isArray(text))\r\n\t\ttext = [text];\r\n\r\n\tfor (let i in text) {\r\n\t\tconst segment = text[i];\r\n\r\n\t\tif (typeof segment != \"string\")\r\n\t\t\tcontinue;\r\n\r\n\t\tconst words = segment.trim().split(\" \");\r\n\r\n\t\tfor (let j in words) {\r\n\t\t\tconst word = words[j];\r\n\t\t\tlet replaced = false;\r\n\r\n\t\t\tif( word.length > 1 && word.charAt(0) === \"%\" ) {\r\n\t\t\t\tconst checkName = word.substring(1);\r\n\r\n\t\t\t\tconst matchedPlayer = Object.values(players).find( (curPlayer) => {\r\n\t\t\t\t\treturn curPlayer.name === checkName;\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tif( matchedPlayer && matchedPlayer.avatar ) {\r\n\t\t\t\t\treplaced = true;\r\n\r\n\t\t\t\t\twords[j] = <InlineAvatar\r\n\t\t\t\t\t\turl={`url(/uploads/${matchedPlayer.userId}_avatar.jpg)`}\r\n\t\t\t\t\t\tusername={matchedPlayer.name} />\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif( !replaced ) {\r\n\t\t\t\twords[j] = words[j] + \" \";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttext[i] = words;\r\n\t}\r\n\r\n\ttext = text.flat();\r\n\treturn text.length == 1 ? text[0] : text;\r\n}\r\n\r\nfunction InlineAvatar(props) {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"avatar small inline\"\r\n\t\t\ttitle={props.username}\r\n\t\t\tstyle={{ backgroundImage: props.url }} />\r\n\t);\r\n}\r\n\r\nexport function useOnOutsideClick(refs, action) {\r\n\tif (!Array.isArray(refs))\r\n\t\trefs = [refs];\r\n\r\n\tfunction onOutsideClick(e) {\r\n\t\tfor (let ref of refs)\r\n\t\t\tif (!ref || !ref.current || ref.current.contains(e.target))\r\n\t\t\t\treturn;\r\n\r\n\t\taction();\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"click\", onOutsideClick);\r\n\t\tdocument.addEventListener(\"contextmenu\", onOutsideClick);\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"click\", onOutsideClick);\r\n\t\t};\r\n\t}, refs);\r\n}\r\n","import React, { useState, useEffect, useLayoutEffect, useRef } from \"react\";\r\n\r\nimport { useOnOutsideClick } from \"./Basic\";\r\n\r\nexport default function Dropdown(props) {\r\n\tconst [menuVisible, setMenuVisible, dropdownContainerRef, dropdownMenuRef] = useDropdown();\r\n\tconst selOption = props.options.filter(option => option == props.value || option.id == props.value)[0];\r\n\tconst selLabel = selOption ? selOption.label || selOption : \"\";\r\n\r\n\tconst menuItems = props.options.map(option => {\r\n\t\tif (option == \"divider\")\r\n\t\t\treturn (<div className=\"dropdown-divider\" />);\r\n\r\n\t\tif (typeof option == \"string\")\r\n\t\t\toption = { id: option, label: option };\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"dropdown-menu-option\"\r\n\t\t\t\tkey={option.id}\r\n\t\t\t\tonClick={() => onMenuItemClick(option.id)}>\r\n\t\t\t\t{option.label} {option.placeholder}\r\n\t\t\t</div>\r\n\t\t);\r\n\t});\r\n\r\n\r\n\tfunction onMenuItemClick(optionId) {\r\n\t\tsetMenuVisible(false);\r\n\t\tprops.onChange(optionId);\r\n\t}\r\n\r\n\tfunction onControlClick() {\r\n\t\tsetMenuVisible(!menuVisible);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`dropdown ${props.className || \"\"}`}\r\n\t\t\tref={dropdownContainerRef}>\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"dropdown-control\"\r\n\t\t\t\tonClick={onControlClick}>\r\n\t\t\t\t{props.icon}\r\n\t\t\t\t{selLabel}\r\n\t\t\t\t{props.caret &&\r\n\t\t\t\t\t<i className=\"fas fa-caret-down\" />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t{menuVisible &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"dropdown-menu\"\r\n\t\t\t\t\tref={dropdownMenuRef}>\r\n\t\t\t\t\t{menuItems}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function useDropdown() {\r\n\tconst [menuVisible, setMenuVisible] = useState(false);\r\n\tconst dropdownContainerRef = useRef();\r\n\tconst dropdownMenuRef = useRef();\r\n\r\n\tuseOnOutsideClick([dropdownMenuRef, dropdownContainerRef], () => setMenuVisible(false));\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\tif (!menuVisible)\r\n\t\t\treturn;\r\n\r\n\t\tconst containerRect = dropdownContainerRef.current.getBoundingClientRect();\r\n\t\tconst menuRect = dropdownMenuRef.current.getBoundingClientRect();\r\n\r\n\t\tvar menuLeft = containerRect.left;\r\n\t\tvar menuTop = containerRect.top + containerRect.height + 1 + window.scrollY;\r\n\t\tvar menuHorzShift = window.innerWidith - (menuLeft + menuRect.width);\r\n\r\n\t\tif (menuTop + menuRect.height - window.scrollY > window.innerHeight)\r\n\t\t\tmenuTop = containerRect.top - menuRect.height - 2;\r\n\r\n\t\tif (menuHorzShift < 0) {\r\n\t\t\tif (menuLeft + menuHorzShift < 0)\r\n\t\t\t\tmenuHorzShift -= (menuLeft + menuHorzShift);\r\n\t\t}\r\n\t\telse \r\n\t\t\tmenuHorzShift = 0;\r\n\r\n\t\tdropdownMenuRef.current.style.left = menuLeft + \"px\";\r\n\t\tdropdownMenuRef.current.style.top = menuTop + \"px\";\r\n\t\tdropdownMenuRef.current.style.visibility = \"visible\";\r\n\t});\r\n\r\n\treturn [menuVisible, setMenuVisible, dropdownContainerRef, dropdownMenuRef];\r\n}","import axios from \"axios\";\r\nimport colorContrast from \"color-contrast\";\r\n\r\nexport function hyphenDelimit(roleName) {\r\n\troleName = roleName.slice();\r\n\r\n\tfor (let i = 0; i < roleName.length; i++) {\r\n\t\tif (roleName[i] == \" \")\r\n\t\t\troleName = roleName.replace(\" \", \"-\");\r\n\t}\r\n\r\n\treturn roleName;\r\n}\r\n\r\nexport function capitalize(string) {\r\n\treturn string.charAt(0).toUpperCase() + string.substring(1);\r\n}\r\n\r\n  export function hexToHSL(H) {\r\n\t//CHECK IF UNDEFINED!!!!\r\n\t//May break certain pages if this is not done.\r\n\tif(H == undefined){\r\n\t\tH = '#000000';\r\n\t}\r\n\r\n\t// Convert hex to RGB first\r\n\tlet r = 0, g = 0, b = 0;\r\n\tif (H.length == 4) {\r\n\t  r = \"0x\" + H[1] + H[1];\r\n\t  g = \"0x\" + H[2] + H[2];\r\n\t  b = \"0x\" + H[3] + H[3];\r\n\t} else if (H.length == 7) {\r\n\t  r = \"0x\" + H[1] + H[2];\r\n\t  g = \"0x\" + H[3] + H[4];\r\n\t  b = \"0x\" + H[5] + H[6];\r\n\t}\r\n\t// Then to HSL\r\n\tr /= 255;\r\n\tg /= 255;\r\n\tb /= 255;\r\n\tlet cmin = Math.min(r,g,b),\r\n\t\tcmax = Math.max(r,g,b),\r\n\t\tdelta = cmax - cmin,\r\n\t\th = 0,\r\n\t\ts = 0,\r\n\t\tl = 0;\r\n  \r\n\tif (delta == 0)\r\n\t  h = 0;\r\n\telse if (cmax == r)\r\n\t  h = ((g - b) / delta) % 6;\r\n\telse if (cmax == g)\r\n\t  h = (b - r) / delta + 2;\r\n\telse\r\n\t  h = (r - g) / delta + 4;\r\n  \r\n\th = Math.round(h * 60);\r\n  \r\n\tif (h < 0)\r\n\t  h += 360;\r\n  \r\n\tl = (cmax + cmin) / 2;\r\n\ts = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\r\n\ts = +(s * 100).toFixed(1);\r\n\tl = +(l * 100).toFixed(1);\r\n  \r\n\treturn h + \",\" + s + \",\" + l;\r\n  }\r\n\r\n  export function HSLToHex(h,s,l) {\r\n\ts /= 100;\r\n\tl /= 100;\r\n  \r\n\tlet c = (1 - Math.abs(2 * l - 1)) * s,\r\n\t\tx = c * (1 - Math.abs((h / 60) % 2 - 1)),\r\n\t\tm = l - c/2,\r\n\t\tr = 0,\r\n\t\tg = 0, \r\n\t\tb = 0; \r\n  \r\n\tif (0 <= h && h < 60) {\r\n\t  r = c; g = x; b = 0;\r\n\t} else if (60 <= h && h < 120) {\r\n\t  r = x; g = c; b = 0;\r\n\t} else if (120 <= h && h < 180) {\r\n\t  r = 0; g = c; b = x;\r\n\t} else if (180 <= h && h < 240) {\r\n\t  r = 0; g = x; b = c;\r\n\t} else if (240 <= h && h < 300) {\r\n\t  r = x; g = 0; b = c;\r\n\t} else if (300 <= h && h < 360) {\r\n\t  r = c; g = 0; b = x;\r\n\t}\r\n\t// Having obtained RGB, convert channels to hex\r\n\tr = Math.round((r + m) * 255).toString(16);\r\n\tg = Math.round((g + m) * 255).toString(16);\r\n\tb = Math.round((b + m) * 255).toString(16);\r\n  \r\n\t// Prepend 0s, if necessary\r\n\tif (r.length == 1)\r\n\t  r = \"0\" + r;\r\n\tif (g.length == 1)\r\n\t  g = \"0\" + g;\r\n\tif (b.length == 1)\r\n\t  b = \"0\" + b;\r\n  \r\n\treturn \"#\" + r + g + b;\r\n  }\r\n\r\n  export function adjustColor(hexColor) {\r\n\tlet contrastVal = 0;\r\n\tlet colorScheme = \"light\"\r\n\tlet colorAutoScheme = false;\r\n\tif (document.documentElement.classList.length === 0) {\r\n\t\tcolorAutoScheme = true;\r\n\t}\r\n\telse {\r\n\t\tif (!document.documentElement.classList.contains(\"light-mode\")) {\r\n\t\t\tif (!document.documentElement.classList.contains(\"dark-mode\")) {\r\n\t\t\t\tcolorAutoScheme = true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcolorScheme = \"dark\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (colorAutoScheme) {\r\n\t\tif (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\r\n\t\t\tcolorScheme = \"dark\";\r\n\t\t}\r\n\t}\r\n\r\n\tif (colorScheme === \"light\") {\r\n\t\tcontrastVal = colorContrast(hexColor, \"#ffffff\");\r\n\t\tif (contrastVal < 1.5) {\r\n\t\t\treturn \"darkest\";\r\n\t\t} \r\n\t\telse if(contrastVal <= 2.5) {\r\n\t\t\treturn \"darker\";\r\n\t\t}\r\n\t\telse if (contrastVal <= 4.5) {\r\n\t\t\treturn \"dark\";\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tcontrastVal = colorContrast(hexColor, \"#181a1b\");\r\n\t\tif (contrastVal < 1.5) {\r\n\t\t\treturn \"brightest\";\r\n\t\t}\r\n\t\telse if (contrastVal <= 2.5) {\r\n\t\t\treturn \"brighter\"\r\n\t\t}\r\n\t\telse if (contrastVal <= 4.5) {\r\n\t\t\treturn \"bright\";\r\n\t\t}\r\n\t}\r\n\treturn \"\";\r\n  }\r\n\r\n\r\n  export function flipTextColor(hexColor) {\r\n\tlet contrastVal = 0;\r\n\tlet hslColor = hexToHSL(hexColor);\r\n\tlet hslVals = hslColor.split(',');\r\n\tlet h = hslVals[0], s = hslVals[1], l = hslVals[2];\r\n\r\n\tlet colorScheme = \"light\";\r\n\tlet colorAutoScheme = false;\r\n\tif (document.documentElement.classList.length === 0) {\r\n\t\tcolorAutoScheme = true;\r\n\t}\r\n\telse {\r\n\t\tif (!document.documentElement.classList.contains(\"light-mode\")) {\r\n\t\t\tif (!document.documentElement.classList.contains(\"dark-mode\")) {\r\n\t\t\t\tcolorAutoScheme = true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcolorScheme = \"dark\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (colorAutoScheme) {\r\n\t\tif (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\r\n\t\t\tcolorScheme = \"dark\";\r\n\t\t}\r\n\t}\r\n\r\n\tif (l > 70 && colorScheme === \"light\") {\r\n\t\tvar difference = l - 70;\r\n\t\thslColor = hslColor.replace(/[0-9.]+(?!.*[0-9])/, String(parseInt(hslColor.match(/[0-9.]+(?!.*[0-9])/) - difference, 10)));\r\n\t}\r\n\telse {\r\n\t\tif(l < 30 && colorScheme === \"dark\") {\r\n\t\t\tvar difference = 30 - l;\r\n\t\t\thslColor = hslColor.replace(/[0-9.]+(?!.*[0-9])/, String(difference + parseInt(hslColor.match(/[0-9.]+(?!.*[0-9])/), 10)));\r\n\t\t}\r\n\t}\r\n\t\r\n\thslVals = hslColor.split(',');\r\n\th = hslVals[0];\r\n\ts = hslVals[1];\r\n\tl = hslVals[2];\r\n\treturn HSLToHex(h, s, l);\r\n  }\r\n\r\nexport function camelCase(string) {\r\n\tlet subStrings = string.toLowerCase().split(\" \");\r\n\tlet result = \"\";\r\n\r\n\tfor (let i = 0; i < subStrings.length; i++) {\r\n\t\tif (i == 0)\r\n\t\t\tresult += subStrings[i];\r\n\t\telse\r\n\t\t\tresult += subStrings[i].charAt(0).toUpperCase() + subStrings[i].substring(1);\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\nexport function pascalCase(string) {\r\n\tvar parts = string.split(\" \");\r\n\tvar res = \"\";\r\n\r\n\tfor (let i = 0; i < parts.length; i++) {\r\n\t\tlet part = parts[i];\r\n\t\tres += (part[0].toUpperCase() + part.slice(1, part.length));\r\n\t}\r\n\r\n\treturn res;\r\n}\r\n\r\nexport function replaceAll(string, from, to) {\r\n\twhile (string.indexOf(from) != -1)\r\n\t\tstring = string.replace(from, to);\r\n\r\n\treturn string;\r\n}\r\n\r\nexport function pad(value, amt, char) {\r\n\twhile (value.length < amt)\r\n\t\tvalue = char + value;\r\n\r\n\treturn value;\r\n}\r\n\r\nexport function dateToHTMLString(date) {\r\n\tif (!date)\r\n\t\treturn \"\";\r\n\telse if (typeof date == \"string\")\r\n\t\treturn date;\r\n\r\n\tdate = (new Date(date));\r\n\r\n\tvar day = date.toLocaleDateString();\r\n\tvar time = date.toTimeString();\r\n\r\n\tday = day.split(\"/\");\r\n\tday = pad(day[2], 2, \"0\") + \"-\" + pad(day[0], 2, \"0\") + \"-\" + pad(day[1], 2, \"0\");\r\n\r\n\ttime = time.split(\":\");\r\n\ttime = time[0] + \":\" + time[1];\r\n\r\n\tdate = day + \"T\" + time;\r\n\treturn date;\r\n}\r\n\r\nexport async function verifyRecaptcha(action) {\r\n\treturn new Promise((res, rej) => {\r\n\t\twindow.grecaptcha.ready(async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst token = await window.grecaptcha.execute(process.env.REACT_APP_RECAPTCHA_KEY, { action });\r\n\t\t\t\tawait axios.post(\"/auth/verifyCaptcha\", { token });\r\n\t\t\t\tres(token);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\trej(e);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\nexport function setCaptchaVisible(visible) {\r\n\tvar el = document.getElementsByClassName(\"grecaptcha-badge\")[0];\r\n\r\n\tif (el)\r\n\t\tel.style.visibility = visible ? \"visible\" : \"hidden\";\r\n}","import React, { useState, useEffect, useReducer } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport Dropdown from \"./Dropdown\";\r\nimport { camelCase } from \"../utils\";\r\n\r\nimport \"../css/nav.css\"\r\n\r\nexport function Nav(props) {\r\n\treturn (\r\n\t\t<div className=\"nav\">\r\n\t\t\t{props.children}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function SubNav(props) {\r\n\tconst links = props.links.map((link, i) => {\r\n\t\treturn (!link.hide &&\r\n\t\t\t<NavLink\r\n\t\t\t\texact={link.exact}\r\n\t\t\t\tto={link.path}\r\n\t\t\t\tkey={link.path}>\r\n\t\t\t\t{link.text}\r\n\t\t\t</NavLink>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className=\"sub-nav\">\r\n\t\t\t{links}\r\n\t\t\t{props.showFilter &&\r\n\t\t\t\t<div className=\"filter\">\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tvalue={props.filterSel}\r\n\t\t\t\t\t\toptions={props.filterOptions}\r\n\t\t\t\t\t\tonChange={props.onFilter}\r\n\t\t\t\t\t\ticon={props.filterIcon}\r\n\t\t\t\t\t\tcaret />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function ButtonGroup(props) {\r\n\tconst sel = camelCase(props.sel);\r\n\tconst buttons = props.buttons.map((button, i) => {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={`btn ${sel == camelCase(button) ? \"btn-sel\" : \"\"}`}\r\n\t\t\t\tonClick={() => props.onClick(button)}\r\n\t\t\t\tkey={i}>\r\n\t\t\t\t{button}\r\n\t\t\t</div>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className=\"btn-group\">\r\n\t\t\t{buttons}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function PageNav(props) {\r\n\tconst page = props.page;\r\n\tconst maxPage = props.maxPage;\r\n\tconst range = props.range || 5;\r\n\tconst onNav = props.onNav;\r\n\tconst inverted = props.inverted;\r\n\tconst noRange = maxPage == null;\r\n\r\n\tconst [pages, updatePages] = useReducer(\r\n\t\t() => {\r\n\t\t\tif (noRange)\r\n\t\t\t\treturn [page];\r\n\r\n\t\t\tvar sel = page <= maxPage ? page : 1;\r\n\t\t\tvar i = sel;\r\n\t\t\tvar j = sel + 1;\r\n\t\t\tvar list = [];\r\n\t\t\tvar changed = true;\r\n\r\n\t\t\twhile (changed) {\r\n\t\t\t\tchanged = false;\r\n\r\n\t\t\t\tif (list.length < range && i >= 1) {\r\n\t\t\t\t\tlist.unshift(i--);\r\n\t\t\t\t\tchanged = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (list.length < range && j <= maxPage) {\r\n\t\t\t\t\tlist.push(j++);\r\n\t\t\t\t\tchanged = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn list;\r\n\t\t},\r\n\t\tmaxPage,\r\n\t\t(pages) => {\r\n\t\t\tif (noRange)\r\n\t\t\t\treturn [1];\r\n\r\n\t\t\tvar list = [];\r\n\r\n\t\t\tfor (let i = 0; i < pages; i++)\r\n\t\t\t\tlist.push(i + 1);\r\n\r\n\t\t\treturn list;\r\n\t\t}\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tupdatePages();\r\n\t}, [page, range, maxPage]);\r\n\r\n\tfunction onClick(page) {\r\n\t\tif (page >= 1 && (noRange || page <= maxPage))\r\n\t\t\tonNav(page);\r\n\t}\r\n\r\n\tconst pageNums = pages.map(page => {\r\n\t\tvar className = \"page-num\";\r\n\r\n\t\tif (props.page == page)\r\n\t\t\tclassName += \" page-sel\";\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={className}\r\n\t\t\t\tonClick={() => onClick(page)}\r\n\t\t\t\tkey={page}>\r\n\t\t\t\t{page}\r\n\t\t\t</div>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className={`page-nav ${inverted ? \"inverted\" : \"\"}`}>\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"page-nav-left max\"\r\n\t\t\t\tonClick={() => onClick(1)}>\r\n\t\t\t\t«\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"page-nav-left\"\r\n\t\t\t\tonClick={() => onClick(page - 1)}>\r\n\t\t\t\t‹\r\n\t\t\t</div>\r\n\t\t\t{pageNums}\r\n\t\t\t<div\r\n\t\t\t\tclassName={`page-nav-right ${noRange ? \"max\" : \"\"}`}\r\n\t\t\t\tonClick={() => onClick(page + 1)}>\r\n\t\t\t\t›\r\n\t\t\t</div>\r\n\t\t\t{!noRange &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"page-nav-right max\"\r\n\t\t\t\t\tonClick={() => onClick(maxPage)}>\r\n\t\t\t\t\t»\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function getPageNavFilterArg(newPage, oldPage, pageItems, sortField) {\r\n\tvar filterArg;\r\n\r\n\tif (newPage == 1)\r\n\t\tfilterArg = \"last=Infinity\";\r\n\telse if (newPage < oldPage && pageItems.length != 0)\r\n\t\tfilterArg = `first=${pageItems[0][sortField]}`;\r\n\telse if (newPage > oldPage && pageItems.length != 0)\r\n\t\tfilterArg = `last=${pageItems[pageItems.length - 1][sortField]}`;\r\n\telse\r\n\t\treturn;\r\n\r\n\treturn filterArg;\r\n}\r\n\r\nexport function SearchBar(props) {\r\n\tfunction onInput(event) {\r\n\t\tprops.onInput(event.target.value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"search-bar\">\r\n\t\t\t<input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tvalue={props.value}\r\n\t\t\t\tplaceholder={props.placeholder}\r\n\t\t\t\tonChange={onInput} />\r\n\t\t\t<div className=\"search-icon\">\r\n\t\t\t\t<i className=\"fas fa-search\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}","import React from \"react\";\r\nimport ReactLoading from \"react-loading\";\r\n\r\nexport default function LoadingPage(props) {\r\n\treturn (\r\n\t\t<div className={`loading-page ${props.className || \"\"}`}>\r\n\t\t\t<ReactLoading type=\"bars\" color=\"#ffffff\" />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function LoadingIcon() {\r\n\treturn (\r\n\t\t<div className=\"loading-page\">\r\n\t\t\t<ReactLoading type=\"bars\" color=\"#ffffff\" width=\"50\" height=\"50\" />\r\n\t\t</div>\r\n\t);\r\n}","import React, { useRef, useEffect, useContext } from \"react\";\r\n\r\nimport { useSocketListeners, useStateViewingReducer, ThreePanelLayout, TopBar, TextMeetingLayout, ActionList, PlayerList, LastWillEntry, Timer, SpeechFilter, Notes } from \"./Game\";\r\nimport { GameContext } from \"../../Contexts\";\r\n\r\nexport default function MafiaGame() {\r\n\tconst game = useContext(GameContext);\r\n\r\n\tconst history = game.history;\r\n\tconst updateHistory = game.updateHistory;\r\n\tconst updatePlayers = game.updatePlayers;\r\n\tconst stateViewing = game.stateViewing;\r\n\tconst updateStateViewing = game.updateStateViewing;\r\n\tconst self = game.self;\r\n\tconst players = game.players;\r\n\tconst isSpectator = game.isSpectator;\r\n\r\n\tconst playBellRef = useRef(false);\r\n\r\n\tconst gameType = \"Mafia\";\r\n\tconst meetings = history.states[stateViewing] ? history.states[stateViewing].meetings : {};\r\n\tconst stateEvents = history.states[stateViewing] ? history.states[stateViewing].stateEvents : [];\r\n\tconst stateNames = [\"Day\", \"Night\", \"Sunset\"];\r\n\tconst audioFileNames = [/*\"Day\", \"Night\", \"Sunset\", \"nonvillagewin\", \"villagewin\", */\"gunshot\"];\r\n\tconst audioLoops = [/*true, true, true, false, false, */false];\r\n\tconst audioOverrides = [/*true, true, true, false, false, */false];\r\n\tconst audioVolumes = [/*1, 1, 1, 1, 1, */1];\r\n\r\n\t// Make player view current state when it changes\r\n\tuseEffect(() => {\r\n\t\tupdateStateViewing({ type: \"current\" });\r\n\t}, [history.currentState]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgame.loadAudioFiles(audioFileNames, audioLoops, audioOverrides, audioVolumes);\r\n\r\n\t\t// Make game review start at pregame\r\n\t\tif (game.review)\r\n\t\t\tupdateStateViewing({ type: \"first\" });\r\n\t}, []);\r\n\r\n\tuseSocketListeners(socket => {\r\n\t\tsocket.on(\"state\", state => {\r\n\t\t\tif (playBellRef.current)\r\n\t\t\t\tgame.playAudio(\"bell\");\r\n\r\n\t\t\tplayBellRef.current = true;\r\n\r\n\r\n\t\t\t// for (let stateName of stateNames)\r\n\t\t\t// \tif (state.name.indexOf(stateName) == 0)\r\n\t\t\t// \t\tgame.playAudio(stateName);\r\n\t\t});\r\n\r\n\t\tsocket.on(\"winners\", winners => {\r\n\t\t\t// game.stopAudios(stateNames);\r\n\r\n\t\t\t// if (winners.groups.indexOf(\"Village\") != -1)\r\n\t\t\t// \tgame.playAudio(\"villagewin\");\r\n\t\t\t// else\r\n\t\t\t// \tgame.playAudio(\"nonvillagewin\");\r\n\t\t});\r\n\r\n\t\tsocket.on(\"gunshot\", () => {\r\n\t\t\tgame.playAudio(\"gunshot\");\r\n\t\t});\r\n\t}, game.socket);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<TopBar\r\n\t\t\t\tgameType={gameType}\r\n\t\t\t\tsetup={game.setup}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tstateViewing={stateViewing}\r\n\t\t\t\tupdateStateViewing={updateStateViewing}\r\n\t\t\t\tplayers={players}\r\n\t\t\t\tsocket={game.socket}\r\n\t\t\t\toptions={game.options}\r\n\t\t\t\tspectatorCount={game.spectatorCount}\r\n\t\t\t\tsetLeave={game.setLeave}\r\n\t\t\t\tfinished={game.finished}\r\n\t\t\t\treview={game.review}\r\n\t\t\t\tsetShowSettingsModal={game.setShowSettingsModal}\r\n\t\t\t\tsetRehostId={game.setRehostId}\r\n\t\t\t\tnoLeaveRef={game.noLeaveRef}\r\n\t\t\t\tdev={game.dev}\r\n\t\t\t\tgameName={\r\n\t\t\t\t\t<div className=\"game-name\">\r\n\t\t\t\t\t\t<span>M</span>afia\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttimer={\r\n\t\t\t\t\t<Timer\r\n\t\t\t\t\t\ttimers={game.timers}\r\n\t\t\t\t\t\thistory={history} />\r\n\t\t\t\t} />\r\n\t\t\t<ThreePanelLayout\r\n                settings={game.settings}\r\n\t\t\t\tleftPanelContent={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<PlayerList\r\n\t\t\t\t\t\t\tplayers={players}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\tgameType={gameType}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing}\r\n\t\t\t\t\t\t\tself={self}\r\n\t\t\t\t\t\t\tactivity={game.activity} />\r\n\t\t\t\t\t\t<SpeechFilter\r\n\t\t\t\t\t\t\tfilters={game.speechFilters}\r\n\t\t\t\t\t\t\tsetFilters={game.setSpeechFilters}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\tcenterPanelContent={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<TextMeetingLayout\r\n\t\t\t\t\t\t\tsocket={game.socket}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\tupdateHistory={updateHistory}\r\n\t\t\t\t\t\t\tplayers={players}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing}\r\n\t\t\t\t\t\t\tsettings={game.settings}\r\n\t\t\t\t\t\t\tfilters={game.speechFilters}\r\n\t\t\t\t\t\t\treview={game.review}\r\n\t\t\t\t\t\t\toptions={game.options}\r\n\t\t\t\t\t\t\tsetTyping={game.setTyping}\r\n\t\t\t\t\t\t\tagoraClient={game.agoraClient}\r\n\t\t\t\t\t\t\tlocalAudioTrack={game.localAudioTrack}\r\n\t\t\t\t\t\t\tsetActiveVoiceChannel={game.setActiveVoiceChannel}\r\n\t\t\t\t\t\t\tmuted={game.muted}\r\n\t\t\t\t\t\t\tsetMuted={game.setMuted}\r\n\t\t\t\t\t\t\tdeafened={game.deafened}\r\n\t\t\t\t\t\t\tsetDeafened={game.setDeafened} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\trightPanelContent={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<ActionList\r\n\t\t\t\t\t\t\tsocket={game.socket}\r\n\t\t\t\t\t\t\tmeetings={meetings}\r\n\t\t\t\t\t\t\tplayers={players}\r\n\t\t\t\t\t\t\tself={self}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing} />\r\n\t\t\t\t\t\t{!game.review && !isSpectator && history.currentState >= 0 && game.setup.lastWill &&\r\n\t\t\t\t\t\t\t<LastWillEntry\r\n\t\t\t\t\t\t\t\tlastWill={game.lastWill}\r\n\t\t\t\t\t\t\t\tsocket={game.socket} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{!game.review && !isSpectator &&\r\n\t\t\t\t\t\t\t<Notes\r\n\t\t\t\t\t\t\t\tstateViewing={stateViewing} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</>\r\n\t\t\t\t} />\r\n\t\t</>\r\n\t);\r\n}","import React, { useRef, useEffect, useContext } from \"react\";\r\n\r\nimport { useSocketListeners, useStateViewingReducer, ThreePanelLayout, TopBar, TextMeetingLayout, ActionList, PlayerList, Timer, SpeechFilter, Notes } from \"./Game\";\r\nimport { GameContext } from \"../../Contexts\";\r\n\r\nexport default function SplitDecisionGame(props) {\r\n\tconst game = useContext(GameContext);\r\n\r\n\tconst history = game.history;\r\n\tconst updateHistory = game.updateHistory;\r\n\tconst updatePlayers = game.updatePlayers;\r\n\tconst stateViewing = game.stateViewing;\r\n\tconst updateStateViewing = game.updateStateViewing;\r\n\tconst self = game.self;\r\n\tconst players = game.players;\r\n\tconst isSpectator = game.isSpectator;\r\n\r\n\tconst playBellRef = useRef(false);\r\n\r\n\tconst gameType = \"Split Decision\";\r\n\tconst meetings = history.states[stateViewing] ? history.states[stateViewing].meetings : {};\r\n\tconst stateEvents = history.states[stateViewing] ? history.states[stateViewing].stateEvents : [];\r\n\tconst stateNames = [\"Round\", \"Hostage Swap\"];\r\n\tconst audioFileNames = [];\r\n\tconst audioLoops = [];\r\n\tconst audioOverrides = [];\r\n\tconst audioVolumes = [];\r\n\r\n\t// Make player view current state when it changes\r\n\tuseEffect(() => {\r\n\t\tupdateStateViewing({ type: \"current\" });\r\n\t}, [history.currentState]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgame.loadAudioFiles(audioFileNames, audioLoops, audioOverrides, audioVolumes);\r\n\r\n\t\t// Make game review start at pregame\r\n\t\tif (game.review)\r\n\t\t\tupdateStateViewing({ type: \"first\" });\r\n\t}, []);\r\n\r\n\tuseSocketListeners(socket => {\r\n\t\tsocket.on(\"state\", state => {\r\n\t\t\tif (playBellRef.current)\r\n\t\t\t\tgame.playAudio(\"bell\");\r\n\r\n\t\t\tplayBellRef.current = true;\r\n\r\n\r\n\t\t\t// for (let stateName of stateNames)\r\n\t\t\t// \tif (state.name.indexOf(stateName) == 0)\r\n\t\t\t// \t\tgame.playAudio(stateName);\r\n\t\t});\r\n\r\n\t\tsocket.on(\"winners\", winners => {\r\n\t\t\t// game.stopAudios(stateNames);\r\n\r\n\t\t\t// if (winners.groups.indexOf(\"Blue\") != -1)\r\n\t\t\t// \tgame.playAudio(\"bluewin\");\r\n\t\t\t// else\r\n\t\t\t// \tgame.playAudio(\"redwin\");\r\n\t\t});\r\n\t}, game.socket);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<TopBar\r\n\t\t\t\tgameType={gameType}\r\n\t\t\t\tsetup={game.setup}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tstateViewing={stateViewing}\r\n\t\t\t\tupdateStateViewing={updateStateViewing}\r\n\t\t\t\tplayers={players}\r\n\t\t\t\tsocket={game.socket}\r\n\t\t\t\toptions={game.options}\r\n\t\t\t\tspectatorCount={game.spectatorCount}\r\n\t\t\t\tsetLeave={game.setLeave}\r\n\t\t\t\tfinished={game.finished}\r\n\t\t\t\treview={game.review}\r\n\t\t\t\tsetShowSettingsModal={game.setShowSettingsModal}\r\n\t\t\t\tsetRehostId={game.setRehostId}\r\n\t\t\t\tdev={game.dev}\r\n\t\t\t\tgameName={\r\n\t\t\t\t\t<div className=\"game-name\">\r\n\t\t\t\t\t\t<span>Split</span> Decision\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttimer={\r\n\t\t\t\t\t<Timer\r\n\t\t\t\t\t\ttimers={game.timers}\r\n\t\t\t\t\t\thistory={history} />\r\n\t\t\t\t} />\r\n\t\t\t<ThreePanelLayout\r\n        settings={game.settings}\r\n\t\t\t\tleftPanelContent={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<PlayerList\r\n\t\t\t\t\t\t\tplayers={players}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\tgameType={gameType}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing}\r\n\t\t\t\t\t\t\tactivity={game.activity} />\r\n\t\t\t\t\t\t<SpeechFilter\r\n\t\t\t\t\t\t\tfilters={game.speechFilters}\r\n\t\t\t\t\t\t\tsetFilters={game.setSpeechFilters}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\tcenterPanelContent={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<TextMeetingLayout\r\n\t\t\t\t\t\t\tsocket={game.socket}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\tupdateHistory={updateHistory}\r\n\t\t\t\t\t\t\tplayers={players}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing}\r\n\t\t\t\t\t\t\tsettings={game.settings}\r\n\t\t\t\t\t\t\tfilters={game.speechFilters}\r\n\t\t\t\t\t\t\toptions={game.options}\r\n\t\t\t\t\t\t\tagoraClient={game.agoraClient}\r\n\t\t\t\t\t\t\tlocalAudioTrack={game.localAudioTrack}\r\n\t\t\t\t\t\t\tsetActiveVoiceChannel={game.setActiveVoiceChannel}\r\n\t\t\t\t\t\t\tmuted={game.muted}\r\n\t\t\t\t\t\t\tsetMuted={game.setMuted}\r\n\t\t\t\t\t\t\tdeafened={game.deafened}\r\n\t\t\t\t\t\t\tsetDeafened={game.setDeafened} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\trightPanelContent={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<ActionList\r\n\t\t\t\t\t\t\tsocket={game.socket}\r\n\t\t\t\t\t\t\tmeetings={meetings}\r\n\t\t\t\t\t\t\tplayers={players}\r\n\t\t\t\t\t\t\tself={self}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing} />\r\n\t\t\t\t\t\t{!isSpectator &&\r\n\t\t\t\t\t\t\t<Notes\r\n\t\t\t\t\t\t\t\tstateViewing={stateViewing} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</>\r\n\t\t\t\t} />\r\n\t\t</>\r\n\t);\r\n}","import React, { useRef, useEffect, useContext, useState } from \"react\";\r\n\r\nimport { useSocketListeners, useStateViewingReducer, ThreePanelLayout, TopBar, TextMeetingLayout, ActionList, PlayerList, Timer, SpeechFilter, Notes } from \"./Game\";\r\nimport { GameContext } from \"../../Contexts\";\r\n\r\nimport { SideMenu } from \"./Game\";\r\nimport \"../../css/game.css\";\r\n\r\nexport default function ResistanceGame(props) {\r\n\tconst game = useContext(GameContext);\r\n\r\n\tconst history = game.history;\r\n\tconst updateHistory = game.updateHistory;\r\n\tconst updatePlayers = game.updatePlayers;\r\n\tconst stateViewing = game.stateViewing;\r\n\tconst updateStateViewing = game.updateStateViewing;\r\n\tconst self = game.self;\r\n\tconst players = game.players;\r\n\tconst isSpectator = game.isSpectator;\r\n\r\n\tconst playBellRef = useRef(false);\r\n\r\n\tconst gameType = \"Resistance\";\r\n\tconst meetings = history.states[stateViewing] ? history.states[stateViewing].meetings : {};\r\n\tconst stateEvents = history.states[stateViewing] ? history.states[stateViewing].stateEvents : [];\r\n\tconst stateNames = [\"Team Selection\", \"Team Approval\", \"Mission\", \"Epilogue\"];\r\n\tconst audioFileNames = [];\r\n\tconst audioLoops = [];\r\n\tconst audioOverrides = [];\r\n\tconst audioVolumes = [];\r\n\t\r\n\t// Make player view current state when it changes\r\n\tuseEffect(() => {\r\n\t\tupdateStateViewing({ type: \"current\" });\r\n\t}, [history.currentState]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgame.loadAudioFiles(audioFileNames, audioLoops, audioOverrides, audioVolumes);\r\n\r\n\t\t// Make game review start at pregame\r\n\t\tif (game.review)\r\n\t\t\tupdateStateViewing({ type: \"first\" });\r\n\t}, []);\r\n\r\n\tuseSocketListeners(socket => {\r\n\t\tsocket.on(\"state\", state => {\r\n\t\t\tif (playBellRef.current)\r\n\t\t\t\tgame.playAudio(\"bell\");\r\n\r\n\t\t\tplayBellRef.current = true;\r\n\r\n\t\t\t// for (let stateName of stateNames)\r\n\t\t\t// \tif (state.name.indexOf(stateName) == 0)\r\n\t\t\t// \t\tgame.playAudio(stateName);\r\n\t\t});\r\n\r\n\t\tsocket.on(\"winners\", winners => {\r\n\t\t\t// game.stopAudios(stateNames);\r\n\r\n\t\t\t// if (winners.groups.indexOf(\"Resistance\") != -1)\r\n\t\t\t// \tgame.playAudio(\"resistancewin\");\r\n\t\t\t// else\r\n\t\t\t// \tgame.playAudio(\"spieswin\");\r\n\t\t});\r\n\t}, game.socket);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<TopBar\r\n\t\t\t\tgameType={gameType}\r\n\t\t\t\tsetup={game.setup}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tstateViewing={stateViewing}\r\n\t\t\t\tupdateStateViewing={updateStateViewing}\r\n\t\t\t\tplayers={players}\r\n\t\t\t\tsocket={game.socket}\r\n\t\t\t\toptions={game.options}\r\n\t\t\t\tspectatorCount={game.spectatorCount}\r\n\t\t\t\tsetLeave={game.setLeave}\r\n\t\t\t\tfinished={game.finished}\r\n\t\t\t\treview={game.review}\r\n\t\t\t\tsetShowSettingsModal={game.setShowSettingsModal}\r\n\t\t\t\tsetRehostId={game.setRehostId}\r\n\t\t\t\tdev={game.dev}\r\n\t\t\t\tgameName={\r\n\t\t\t\t\t<div className=\"game-name\">\r\n\t\t\t\t\t\t<span>R</span>esistance\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttimer={\r\n\t\t\t\t\t<Timer\r\n\t\t\t\t\t\ttimers={game.timers}\r\n\t\t\t\t\t\thistory={history} />\r\n\t\t\t\t} />\r\n\t\t\t<ThreePanelLayout\r\n        settings={game.settings}\r\n\t\t\t\tleftPanelContent={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<PlayerList\r\n\t\t\t\t\t\t\tplayers={players}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\tgameType={gameType}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing}\r\n\t\t\t\t\t\t\tactivity={game.activity} />\r\n\t\t\t\t\t\t<SpeechFilter\r\n\t\t\t\t\t\t\tfilters={game.speechFilters}\r\n\t\t\t\t\t\t\tsetFilters={game.setSpeechFilters}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\tcenterPanelContent={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<TextMeetingLayout\r\n\t\t\t\t\t\t\tsocket={game.socket}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\tupdateHistory={updateHistory}\r\n\t\t\t\t\t\t\tplayers={players}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing}\r\n\t\t\t\t\t\t\tsettings={game.settings}\r\n\t\t\t\t\t\t\tfilters={game.speechFilters}\r\n\t\t\t\t\t\t\toptions={game.options}\r\n\t\t\t\t\t\t\tagoraClient={game.agoraClient}\r\n\t\t\t\t\t\t\tlocalAudioTrack={game.localAudioTrack}\r\n\t\t\t\t\t\t\tsetActiveVoiceChannel={game.setActiveVoiceChannel}\r\n\t\t\t\t\t\t\tmuted={game.muted}\r\n\t\t\t\t\t\t\tsetMuted={game.setMuted}\r\n\t\t\t\t\t\t\tdeafened={game.deafened}\r\n\t\t\t\t\t\t\tsetDeafened={game.setDeafened} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\trightPanelContent={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<ScoreKeeper\r\n\t\t\t\t\t\t\tnumMissions={game.setup.numMissions}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing} />\r\n\t\t\t\t\t\t<ActionList\r\n\t\t\t\t\t\t\tsocket={game.socket}\r\n\t\t\t\t\t\t\tmeetings={meetings}\r\n\t\t\t\t\t\t\tplayers={players}\r\n\t\t\t\t\t\t\tself={self}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing} />\r\n\t\t\t\t\t\t{!isSpectator &&\r\n\t\t\t\t\t\t\t<Notes\r\n\t\t\t\t\t\t\t\tstateViewing={stateViewing} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</>\r\n\t\t\t\t} />\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nfunction ScoreKeeper(props) {\r\n\tconst numMissions = props.numMissions;\r\n\tconst history = props.history;\r\n\r\n\tconst stateViewing = props.stateViewing;\r\n\r\n\tif (stateViewing < 0)\r\n\t\treturn <></>;\r\n\r\n\tconst missionRecord = history.states[stateViewing].extraInfo;\r\n\t\r\n\treturn (\r\n\t\t<SideMenu\r\n\t\t\ttitle=\"Game Info\"\r\n\t\t\tscrollable\r\n\t\t\tcontent={ \r\n\t\t\t\t<>\r\n\t\t\t\t\t<MissionInfo numMissions={numMissions} />\r\n\t\t\t\t\t<Score score={missionRecord?.score} />\r\n\t\t\t\t\t<MissionHistory missionHistory={missionRecord?.missionHistory} />\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nfunction MissionInfo(props) {\r\n\treturn (\r\n\t\t<div className=\"rst\">\r\n\t\t\t<div className=\"rst-name\">\r\n\t\t\t\tTotal Missions\r\n\t\t\t</div>\r\n\t\t\t{props.numMissions} \r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction Score(props) {\r\n\tvar score = props.score || { \"rebels\" : 0, \"spies\": 0 }\r\n\r\n\treturn (\r\n\t\t<div className=\"rst-score\">\r\n\t\t\t<ScoreBox team=\"rebels\" scoreValue={ score[\"rebels\"] || 0 }/>\r\n\t\t\t<ScoreBox team=\"spies\" scoreValue={ score[\"spies\"] || 0 }/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ScoreBox(props) {\r\n\tfunction capitaliseFirstLetter(string) {\r\n\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"rst-score-box\">\r\n\t\t\t<div className=\"rst-score-box-name\">{capitaliseFirstLetter(props.team)}</div>\r\n\t\t\t<div className={`rst-score-box-value rst-score-box-${props.team || \"\"}`}>{props.scoreValue}</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction MissionHistory(props) {\r\n\tconst missionHistory = props.missionHistory || [];\r\n\r\n\tconst missionHistoryView = missionHistory.map((history, i) => {\r\n\t\tconst success = history.numFails === 0 ? \"success\" : \"fail\"\r\n\r\n\t\tlet teamMembers = history.team.join(\" \");\r\n\r\n\t\tif (history.numFails === -1) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"rst-mh-row\">\r\n\t\t\t\t<div className={`rst-mh-status rst-mh-${success}`}>\r\n\t\t\t\t\tX\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"rst-mh-team\">\r\n\t\t\t\t\trejected\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"rst-mh-row\">\r\n\t\t\t\t<div className={`rst-mh-status rst-mh-${success}`}>\r\n\t\t\t\t\t{history.numFails}\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"rst-mh-team\">\r\n\t\t\t\t\t{teamMembers}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className=\"rst\">\r\n\t\t\t<div className=\"rst-name\">\r\n\t\t\t\tMission History\r\n\t\t\t</div>\r\n\t\t\t<div className=\"rst-mh-all-rows\">\r\n\t\t\t\t{missionHistoryView}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\t\r\n}","import React, { useRef, useEffect, useContext } from \"react\";\r\n\r\nimport { useSocketListeners, useStateViewingReducer, ThreePanelLayout, TopBar, TextMeetingLayout, ActionList, PlayerList, LastWillEntry, Timer, SpeechFilter, Notes } from \"./Game\";\r\nimport { GameContext } from \"../../Contexts\";\r\n\r\nexport default function OneNightGame(props) {\r\n\tconst game = useContext(GameContext);\r\n\r\n\tconst history = game.history;\r\n\tconst updateHistory = game.updateHistory;\r\n\tconst updatePlayers = game.updatePlayers;\r\n\tconst stateViewing = game.stateViewing;\r\n\tconst updateStateViewing = game.updateStateViewing;\r\n\tconst self = game.self;\r\n\tconst players = game.players;\r\n\tconst isSpectator = game.isSpectator;\r\n\r\n\tconst playBellRef = useRef(false);\r\n\r\n\tconst gameType = \"One Night\";\r\n\tconst meetings = history.states[stateViewing] ? history.states[stateViewing].meetings : {};\r\n\tconst stateEvents = history.states[stateViewing] ? history.states[stateViewing].stateEvents : [];\r\n\tconst stateNames = [\"Day\", \"Night\"];\r\n\tconst audioFileNames = [/*\"Day\", \"Night\", \"nonvillagewin\", \"villagewin\", */\"gunshot\"];\r\n\tconst audioLoops = [/*true, true, true, false, false, */false];\r\n\tconst audioOverrides = [/*true, true, true, false, false, */false];\r\n\tconst audioVolumes = [/*1, 1, 1, 1, 1, */1];\r\n\r\n\t// Make player view current state when it changes\r\n\tuseEffect(() => {\r\n\t\tupdateStateViewing({ type: \"current\" });\r\n\t}, [history.currentState]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgame.loadAudioFiles(audioFileNames, audioLoops, audioOverrides, audioVolumes);\r\n\r\n\t\t// Make game review start at pregame\r\n\t\tif (game.review)\r\n\t\t\tupdateStateViewing({ type: \"first\" });\r\n\t}, []);\r\n\r\n\tuseSocketListeners(socket => {\r\n\t\tsocket.on(\"state\", state => {\r\n\t\t\tif (playBellRef.current)\r\n\t\t\t\tgame.playAudio(\"bell\");\r\n\r\n\t\t\tplayBellRef.current = true;\r\n\r\n\r\n\t\t\t// for (let stateName of stateNames)\r\n\t\t\t// \tif (state.name.indexOf(stateName) == 0)\r\n\t\t\t// \t\tgame.playAudio(stateName);\r\n\t\t});\r\n\r\n\t\tsocket.on(\"winners\", winners => {\r\n\t\t\t// game.stopAudios(stateNames);\r\n\r\n\t\t\t// if (winners.groups.indexOf(\"Village\") != -1)\r\n\t\t\t// \tgame.playAudio(\"villagewin\");\r\n\t\t\t// else\r\n\t\t\t// \tgame.playAudio(\"nonvillagewin\");\r\n\t\t});\r\n\r\n\t\tsocket.on(\"gunshot\", () => {\r\n\t\t\tgame.playAudio(\"gunshot\");\r\n\t\t});\r\n\t}, game.socket);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<TopBar\r\n\t\t\t\tgameType={gameType}\r\n\t\t\t\tsetup={game.setup}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tstateViewing={stateViewing}\r\n\t\t\t\tupdateStateViewing={updateStateViewing}\r\n\t\t\t\tplayers={players}\r\n\t\t\t\tsocket={game.socket}\r\n\t\t\t\toptions={game.options}\r\n\t\t\t\tspectatorCount={game.spectatorCount}\r\n\t\t\t\tsetLeave={game.setLeave}\r\n\t\t\t\tfinished={game.finished}\r\n\t\t\t\treview={game.review}\r\n\t\t\t\tsetShowSettingsModal={game.setShowSettingsModal}\r\n\t\t\t\tsetRehostId={game.setRehostId}\r\n\t\t\t\tdev={game.dev}\r\n\t\t\t\tgameName={\r\n\t\t\t\t\t<div className=\"game-name\">\r\n\t\t\t\t\t\t<span>One</span> Night\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttimer={\r\n\t\t\t\t\t<Timer\r\n\t\t\t\t\t\ttimers={game.timers}\r\n\t\t\t\t\t\thistory={history} />\r\n\t\t\t\t} />\r\n\t\t\t<ThreePanelLayout\r\n        settings={game.settings}\r\n\t\t\t\tleftPanelContent={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<PlayerList\r\n\t\t\t\t\t\t\tplayers={players}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\tgameType={gameType}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing}\r\n\t\t\t\t\t\t\tactivity={game.activity} />\r\n\t\t\t\t\t\t<SpeechFilter\r\n\t\t\t\t\t\t\tfilters={game.speechFilters}\r\n\t\t\t\t\t\t\tsetFilters={game.setSpeechFilters}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\tcenterPanelContent={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<TextMeetingLayout\r\n\t\t\t\t\t\t\tsocket={game.socket}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\tupdateHistory={updateHistory}\r\n\t\t\t\t\t\t\tplayers={players}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing}\r\n\t\t\t\t\t\t\tsettings={game.settings}\r\n\t\t\t\t\t\t\tfilters={game.speechFilters}\r\n\t\t\t\t\t\t\toptions={game.options}\r\n\t\t\t\t\t\t\tagoraClient={game.agoraClient}\r\n\t\t\t\t\t\t\tlocalAudioTrack={game.localAudioTrack}\r\n\t\t\t\t\t\t\tsetActiveVoiceChannel={game.setActiveVoiceChannel}\r\n\t\t\t\t\t\t\tmuted={game.muted}\r\n\t\t\t\t\t\t\tsetMuted={game.setMuted}\r\n\t\t\t\t\t\t\tdeafened={game.deafened}\r\n\t\t\t\t\t\t\tsetDeafened={game.setDeafened} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\trightPanelContent={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<ActionList\r\n\t\t\t\t\t\t\tsocket={game.socket}\r\n\t\t\t\t\t\t\tmeetings={meetings}\r\n\t\t\t\t\t\t\tplayers={players}\r\n\t\t\t\t\t\t\tself={self}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\tstateViewing={stateViewing} />\r\n\t\t\t\t\t\t{!isSpectator &&\r\n\t\t\t\t\t\t\t<Notes\r\n\t\t\t\t\t\t\t\tstateViewing={stateViewing} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</>\r\n\t\t\t\t} />\r\n\t\t</>\r\n\t);\r\n}","import React, { useState, useReducer, useRef, useEffect } from \"react\";\r\nimport { ChromePicker } from \"react-color\";\r\nimport  DatePicker  from \"react-date-picker\";\r\nimport ReactMde from \"react-mde\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport axios from \"axios\";\r\n\r\nimport { useOnOutsideClick } from \"./Basic\";\r\nimport { useErrorAlert } from \"./Alerts\";\r\n\r\nimport \"react-mde/lib/styles/css/react-mde.css\";\r\nimport \"react-mde/lib/styles/css/react-mde-editor.css\";\r\nimport \"react-mde/lib/styles/css/react-mde-toolbar.css\";\r\nimport \"react-mde/lib/styles/css/react-mde-suggestions.css\";\r\n\r\nimport \"../css/form.css\";\r\nimport \"../css/markdown.css\";\r\nimport { dateToHTMLString } from \"../utils\";\r\n\r\nexport default function Form(props) {\r\n\tfunction onChange(event, field, localOnly) {\r\n\t\tvar value = event.target.value;\r\n\r\n\t\tif (field.min != null && Number(value) < field.min)\r\n\t\t\tvalue = field.min;\r\n\t\telse if (field.max != null && Number(value) > field.max)\r\n\t\t\tvalue = field.max;\r\n\r\n\t\tprops.onChange({\r\n\t\t\tref: field.ref,\r\n\t\t\tprop: \"value\",\r\n\t\t\tvalue: value,\r\n\t\t\tlocalOnly\r\n\t\t});\r\n\t}\r\n\r\n\tfunction onDChange(date, field, localOnly) {\r\n\t\tvar value = new Date(date);\r\n\r\n\t\tprops.onChange({\r\n\t\t\tref: field.ref,\r\n\t\t\tprop: \"value\",\r\n\t\t\tvalue: value,\r\n\t\t\tlocalOnly\r\n\t\t});\r\n\t}\r\n\r\n\tconst formFields = props.fields.map((field, i) => {\r\n\t\tconst disabled = typeof field.disabled == \"function\" ? field.disabled(props.deps) : field.disabled;\r\n\t\tconst fieldWrapperClass = `field-wrapper ${disabled ? \"disabled\" : \"\"}`;\r\n\t\tvar showIf;\r\n\r\n\t\tif (typeof field.showIf == \"string\")\r\n\t\t\tshowIf = [field.showIf];\r\n\t\telse\r\n\t\t\tshowIf = field.showIf;\r\n\r\n\t\tif (Array.isArray(showIf)) {\r\n\t\t\tfor (let ref of showIf) {\r\n\t\t\t\tlet inverted = ref[0] == \"!\";\r\n\r\n\t\t\t\tif (inverted)\r\n\t\t\t\t\tref = ref.slice(1);\r\n\r\n\t\t\t\tfor (let field of props.fields) {\r\n\t\t\t\t\tif (field.ref == ref && field.type == \"boolean\") {\r\n\t\t\t\t\t\tlet value = field.value == true;\r\n\r\n\t\t\t\t\t\tif ((value ^ inverted) == 0)\r\n\t\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (typeof showIf == \"function\")\r\n\t\t\tif (!showIf(props.deps))\r\n\t\t\t\treturn;\r\n\r\n\t\tconst value = typeof field.value == \"function\" ? field.value(props.deps) : field.value;\r\n\r\n\t\tswitch (field.type) {\r\n\t\t\tcase \"text\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className={fieldWrapperClass} key={field.ref}>\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\t{field.label}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype={field.type}\r\n\t\t\t\t\t\t\tvalue={value || \"\"}\r\n\t\t\t\t\t\t\tplaceholder={field.placeholder}\r\n\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\tonChange={(e) => !field.fixed && onChange(e, field, field.saveBtn)}\r\n\t\t\t\t\t\t\tonClick={(e) => field.highlight && e.target.select()} />\r\n\t\t\t\t\t\t{field.saveBtn && props.deps[field.saveBtnDiffer] != field.value &&\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-theme extra\"\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\tlet conf = !field.confirm || window.confirm(field.confirm);\r\n\r\n\t\t\t\t\t\t\t\t\tif (conf) {\r\n\t\t\t\t\t\t\t\t\t\tif (field.saveBtnOnClick)\r\n\t\t\t\t\t\t\t\t\t\t\tfield.saveBtnOnClick(field.value, props.deps);\r\n\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\tonChange(e, field);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t{field.saveBtn}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase \"number\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className={fieldWrapperClass} key={field.ref}>\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\t{field.label}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tvalue={field.value || \"0\"}\r\n\t\t\t\t\t\t\tmin={field.min}\r\n\t\t\t\t\t\t\tmax={field.max}\r\n\t\t\t\t\t\t\tstep={field.step}\r\n\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\tonChange={(e) => onChange(e, field)} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase \"boolean\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className={fieldWrapperClass} key={field.ref}>\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\t{field.label}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"switch-wrapper\">\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tvalue={field.value || false}\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\tonChange={e => onChange(e, field)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase \"select\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className={fieldWrapperClass} key={field.ref}>\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\t{field.label}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tvalue={field.value || field.options[0].ref}\r\n\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\tonChange={e => onChange(e, field)}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tfield.options.map(option => (\r\n\t\t\t\t\t\t\t\t\t<option value={option.value} key={option.value}>\r\n\t\t\t\t\t\t\t\t\t\t{option.label}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase \"range\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className={fieldWrapperClass} key={field.ref}>\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\t{field.label}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"range-wrapper\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\t\tmin={field.min}\r\n\t\t\t\t\t\t\t\tmax={field.max}\r\n\t\t\t\t\t\t\t\tstep={field.step}\r\n\t\t\t\t\t\t\t\tvalue={field.value}\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\tonChange={e => onChange(e, field)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase \"color\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className={fieldWrapperClass} key={field.ref}>\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\t{field.label}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ColorPicker\r\n\t\t\t\t\t\t\tvalue={field.value}\r\n\t\t\t\t\t\t\tdefault={field.default}\r\n\t\t\t\t\t\t\talpha={field.alpha}\r\n\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\tonChange={e => onChange(e, field)} />\r\n\t\t\t\t\t\t{!field.noReset && field.value != field.default && field.value &&\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-theme extra\"\r\n\t\t\t\t\t\t\t\tonClick={() => onChange({ target: { value: field.default } }, field)}>\r\n\t\t\t\t\t\t\t\tReset\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase \"date\":\r\n\t\t\t\tif (field.value === \"undefined\") {\r\n\t\t\t\t\tfield.value = undefined\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet selectedValue = props.deps.user[field.ref];\r\n\t\t\t\tif (selectedValue === \"undefined\") {\r\n\t\t\t\t\tselectedValue = undefined\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className={fieldWrapperClass} key={field.ref}>\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\t{field.label}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\tformat='MMMM dd'\r\n\t\t\t\t\t\t\tcalendarAriaLabel=\"Toggle calendar\"\r\n\t\t\t\t\t\t\tclearAriaLabel=\"Clear value\"\r\n\t\t\t\t\t\t\tdayAriaLabel=\"Day\"\r\n\t\t\t\t\t\t\tmonthAriaLabel=\"Month\"\r\n\t\t\t\t\t\t\tnativeInputAriaLabel=\"Date\"\r\n\t\t\t\t\t\t\tonChange={e => onDChange(e, field, true)}\r\n\t\t\t\t\t\t\tvalue={field.value || selectedValue || new Date()}\r\n\t\t\t\t\t\t\tmaxDetail=\"month\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{field.saveBtn && !props.deps.user[field.saveBtnDiffer] &&\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-theme extra\"\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\tlet conf = !field.confirm || window.confirm(field.confirm);\r\n\r\n\t\t\t\t\t\t\t\t\tif (conf) {\r\n\t\t\t\t\t\t\t\t\t\tif (field.saveBtnOnClick)\r\n\t\t\t\t\t\t\t\t\t\t\tfield.saveBtnOnClick(field.value || field.default, props.deps);\r\n\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\tonDChange(e, field, true);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t{field.saveBtn}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase \"datetime-local\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className={fieldWrapperClass} key={field.ref}>\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\t{field.label}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"datetime-wrapper\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"datetime-local\"\r\n\t\t\t\t\t\t\t\tmin={dateToHTMLString(field.min)}\r\n\t\t\t\t\t\t\t\tmax={dateToHTMLString(field.max)}\r\n\t\t\t\t\t\t\t\tvalue={dateToHTMLString(field.value)}\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\tonChange={e => onChange(e, field)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className=\"form\">\r\n\t\t\t{formFields}\r\n\t\t\t{props.submitText &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"btn btn-theme-sec\"\r\n\t\t\t\t\tonClick={props.onSubmit}>\r\n\t\t\t\t\t{props.submitText}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Switch(props) {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`switch ${props.value ? \"on\" : \"\"}`}\r\n\t\t\tonClick={() => !props.disabled && props.onChange({ target: { value: !props.value } })}>\r\n\t\t\t<div className=\"track\" />\r\n\t\t\t<div className=\"thumb\" />\r\n\t\t\t<input\r\n\t\t\t\ttype=\"hidden\"\r\n\t\t\t\tvalue={props.value} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ColorPicker(props) {\r\n\tconst [picking, setPicking] = useState(false);\r\n\tconst pickerRef = useRef();\r\n\tconst value = props.value || props.default;\r\n\tconst disabled = props.disabled;\r\n\r\n\tfunction onClick(e) {\r\n\t\tif (!disabled && e.target == pickerRef.current)\r\n\t\t\tsetPicking(!picking);\r\n\t}\r\n\r\n\tfunction onChangeComplete(color, event) {\r\n\t\tprops.onChange({ target: { value: color.hex } });\r\n\t}\r\n\r\n\tuseOnOutsideClick(pickerRef, () => setPicking(false));\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`color-picker ${disabled ? \"disabled\" : \"\"}`}\r\n\t\t\tstyle={{ backgroundColor: value }}\r\n\t\t\tonClick={onClick}\r\n\t\t\tref={pickerRef}>\r\n\t\t\t{picking &&\r\n\t\t\t\t<ChromePicker\r\n\t\t\t\t\tcolor={value}\r\n\t\t\t\t\tdisableAlpha={!props.alpha}\r\n\t\t\t\t\tonChangeComplete={onChangeComplete} />\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function HiddenUpload(props) {\r\n\tconst inputRef = useRef();\r\n\r\n\tfunction onClick() {\r\n\t\tvar shouldInput = true;\r\n\r\n\t\tif (props.onClick)\r\n\t\t\tshouldInput = props.onClick();\r\n\r\n\t\tif (shouldInput)\r\n\t\t\tshowFileUploadDialog();\r\n\t}\r\n\r\n\tfunction showFileUploadDialog() {\r\n\t\tinputRef.current.click();\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={props.className}\r\n\t\t\tonClick={onClick}>\r\n\t\t\t{props.children}\r\n\t\t\t<input\r\n\t\t\t\tclassName=\"hidden-upload\"\r\n\t\t\t\tref={inputRef}\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\tonChange={e => props.onFileUpload(e.target.files, props.name)} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function useForm(initialFormFields) {\r\n\tconst [initFields] = useState(initialFormFields);\r\n\tconst [fields, updateFields] = useReducer((formFields, actions) => {\r\n\t\tconst newFormFields = [...formFields];\r\n\r\n\t\tif (!Array.isArray(actions))\r\n\t\t\tactions = [actions];\r\n\r\n\t\tfor (let i in newFormFields) {\r\n\t\t\tlet field = newFormFields[i];\r\n\t\t\tlet newField = { ...field };\r\n\r\n\t\t\tfor (let action of actions) {\r\n\t\t\t\tif (field.ref && field.ref == action.ref) {\r\n\t\t\t\t\tif (typeof action.value == \"string\" && field.type == \"boolean\")\r\n\t\t\t\t\t\taction.value = action.value == \"true\";\r\n\r\n\t\t\t\t\tnewField[action.prop] = action.value;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tnewFormFields[i] = newField;\r\n\t\t}\r\n\r\n\t\treturn newFormFields;\r\n\t}, initialFormFields);\r\n\r\n\tfunction resetFields() {\r\n\t\tvar updates = [];\r\n\r\n\t\tfor (let field of initFields) {\r\n\t\t\tupdates.push({\r\n\t\t\t\tref: field.ref,\r\n\t\t\t\tprop: \"value\",\r\n\t\t\t\tvalue: field.value\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tupdateFields(updates);\r\n\t}\r\n\r\n\treturn [fields, updateFields, resetFields];\r\n}\r\n\r\nexport function SearchSelect(props) {\r\n\tconst value = props.value;\r\n\tconst setValue = props.setValue;\r\n\r\n\tconst [inputValue, setInputValue] = useState(\"\");\r\n\tconst [optionsVisible, setOptionsVisible] = useState(false);\r\n\tconst [hoveringOptions, setHoveringOptions] = useState(false);\r\n\tconst [matchingOptions, setMatchingOptions] = useState(props.options);\r\n\tconst searchSelectRef = useRef();\r\n\tconst optionsRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!optionsVisible)\r\n\t\t\treturn;\r\n\r\n\t\tconst searchSelectRect = searchSelectRef.current.getBoundingClientRect();\r\n\t\tconst optionsRect = optionsRef.current.getBoundingClientRect();\r\n\r\n\t\tvar optionsTop = searchSelectRect.top + searchSelectRect.height + 1;\r\n\r\n\t\tif (optionsTop + optionsRect.height > window.innerHeight)\r\n\t\t\toptionsTop = searchSelectRect.top - optionsRect.height - 2;\r\n\r\n\t\toptionsRef.current.style.top = optionsTop + \"px\";\r\n\t\toptionsRef.current.style.visibility = \"visible\";\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (inputValue == \"\")\r\n\t\t\tsetMatchingOptions(props.options);\r\n\t\telse {\r\n\t\t\tvar options = props.options.filter(option => (\r\n\t\t\t\toption.toLowerCase().includes(inputValue.toLowerCase())\r\n\t\t\t));\r\n\r\n\t\t\tsetMatchingOptions(options);\r\n\t\t}\r\n\t}, [inputValue, props.options]);\r\n\r\n\tconst options = matchingOptions.map(option => (\r\n\t\t<div\r\n\t\t\tclassName=\"option-row\"\r\n\t\t\tonClick={() => onOptionClick(option)}\r\n\t\t\tkey={option}>\r\n\t\t\t{option}\r\n\t\t</div>\r\n\t));\r\n\r\n\tfunction onOptionClick(option) {\r\n\t\tsetValue(option);\r\n\t\tsetInputValue(\"\");\r\n\t\tsetOptionsVisible(false);\r\n\t\tsetHoveringOptions(false);\r\n\r\n\t\tif (props.onChange)\r\n\t\t\tprops.onChange(option);\r\n\t}\r\n\r\n\tfunction onKeyDown(e) {\r\n\t\tif (e.key == \"Enter\") {\r\n\t\t\tsetValue(matchingOptions[0]);\r\n\t\t\tsetInputValue(\"\");\r\n\t\t\tsetOptionsVisible(false);\r\n\t\t\tsetHoveringOptions(false);\r\n\r\n\t\t\tif (props.onChange)\r\n\t\t\t\tprops.onChange(matchingOptions[0]);\r\n\t\t}\r\n\t\telse if (!optionsVisible)\r\n\t\t\tsetOptionsVisible(true);\r\n\t}\r\n\r\n\tfunction onMouseEnterOptionsList() {\r\n\t\tsetHoveringOptions(true);\r\n\t}\r\n\r\n\tfunction onMouseLeaveOptionsList() {\r\n\t\tsetHoveringOptions(false);\r\n\t}\r\n\r\n\tfunction onInputChange(e) {\r\n\t\tsetInputValue(e.target.value);\r\n\r\n\t\tif (props.onInputChange)\r\n\t\t\tprops.onInputChange(e);\r\n\t}\r\n\r\n\tfunction onSelectFocus() {\r\n\t\tsetOptionsVisible(true);\r\n\t}\r\n\r\n\tfunction onSelectBlur() {\r\n\t\tif (hoveringOptions)\r\n\t\t\treturn;\r\n\r\n\t\tsetOptionsVisible(false);\r\n\t\tsetInputValue(\"\");\r\n\t\tsetMatchingOptions(props.options);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"search-select\"\r\n\t\t\ttabIndex=\"0\"\r\n\t\t\tonFocus={onSelectFocus}\r\n\t\t\tonBlur={onSelectBlur}\r\n\t\t\tref={searchSelectRef}>\r\n\t\t\t<input\r\n\t\t\t\tvalue={inputValue}\r\n\t\t\t\tplaceholder={value || props.placeholder}\r\n\t\t\t\tonChange={onInputChange}\r\n\t\t\t\tonKeyDown={onKeyDown} />\r\n\t\t\t<div className=\"icon-wrapper\">\r\n\t\t\t\t<i className=\"fas fa-chevron-down\" />\r\n\t\t\t</div>\r\n\t\t\t{optionsVisible &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"option-list\"\r\n\t\t\t\t\tonMouseEnter={onMouseEnterOptionsList}\r\n\t\t\t\t\tonMouseLeave={onMouseLeaveOptionsList}\r\n\t\t\t\t\tref={optionsRef}>\r\n\t\t\t\t\t{options.length > 0 &&\r\n\t\t\t\t\t\toptions\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{!options.length &&\r\n\t\t\t\t\t\t<div className=\"no-options\">\r\n\t\t\t\t\t\t\tNo Options\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function UserSearchSelect(props) {\r\n\tconst [options, setOptions] = useState([]);\r\n\tconst [idMap, setIdMap] = useState({});\r\n\tconst [query, setQuery] = useState(\"\");\r\n\tconst [valueName, setValueName] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tif (query.length == 0)\r\n\t\t\treturn;\r\n\r\n\t\taxios.get(`/user/searchName?query=${query}`)\r\n\t\t\t.then(res => {\r\n\t\t\t\tvar newIdMap = {};\r\n\r\n\t\t\t\tfor (let userData of res.data)\r\n\t\t\t\t\tnewIdMap[userData.name] = userData.id;\r\n\r\n\t\t\t\tsetIdMap(newIdMap);\r\n\t\t\t\tsetOptions(res.data.map(user => user.name));\r\n\t\t\t})\r\n\t\t\t.catch(useErrorAlert);\r\n\t}, [query]);\r\n\r\n\tfunction setValue(option) {\r\n\t\tsetValueName(option);\r\n\t\tprops.setValue(idMap[option]);\r\n\t}\r\n\r\n\tfunction onInputChange(e) {\r\n\t\tsetQuery(e.target.value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<SearchSelect\r\n\t\t\t{...props}\r\n\t\t\toptions={options}\r\n\t\t\tvalue={valueName}\r\n\t\t\tsetValue={setValue}\r\n\t\t\tonInputChange={onInputChange} />\r\n\t);\r\n}\r\n\r\nexport function TextEditor(props) {\r\n\tconst [tab, setTab] = useState(\"write\");\r\n\r\n\treturn (\r\n\t\t<ReactMde\r\n\t\t\tvalue={props.value}\r\n\t\t\tonChange={props.onChange}\r\n\t\t\tselectedTab={tab}\r\n\t\t\tonTabChange={setTab}\r\n\t\t\tclasses={{ \"preview\": \"md-content\" }}\r\n\t\t\tgenerateMarkdownPreview={\r\n\t\t\t\t(markdown) => Promise.resolve(<ReactMarkdown source={markdown} />)\r\n\t\t\t} />\r\n\t);\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../css/landing.css\"\r\n\r\nexport default function LandingPage(props) {\r\n\treturn (\r\n\t\t<div className=\"span-panel main landing-page\">\r\n\t\t\t<div className=\"banner\">\r\n\t\t\t\t<div className=\"logo\" />\r\n\t\t\t\t<div className=\"characters-circle\" />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"play-break\">\r\n\t\t\t\t<div className=\"play-btn-wrapper\">\r\n\t\t\t\t\t<Link to=\"/auth/signup\">\r\n\t\t\t\t\t\tPlay Mafia\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"intro\">\r\n\t\t\t\tBeyondMafia is the mafia site that is revolutionary in design, safety, and has a thriving community of users from all walks of life. With competitive and casual live mafia, and other gamemodes like Resistance, you're sure to find something that suits how YOU want to play.\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mafia-features\">\r\n\t\t\t\t<div className=\"chat-mafia\">\r\n\t\t\t\t\t<div className=\"village-character\" />\r\n\t\t\t\t\t<div className=\"feature-title\">Chat Mafia</div>\r\n\t\t\t\t\t<div className=\"feature-desc\">\r\n\t\t\t\t\t\t10-20 minute games with a variety of roles! Play with classic roles, or try out something different in the Sandbox lobby. You can create your own custom roles, too, using modifiers or by contributing to the open source codebase!\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"forum-mafia\">\r\n\t\t\t\t\t<div className=\"cop-character\" />\r\n\t\t\t\t\t<div className=\"feature-title\">Forum Mafia</div>\r\n\t\t\t\t\t<div className=\"feature-desc\">\r\n\t\t\t\t\t\tPlay Mafia in the forums. More features are coming soon with the planned forum game engine!\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"other-games\">\r\n\t\t\t\t<div className=\"other-games-img\" />\r\n\t\t\t\t<div className=\"feature-title\">Other Games</div>\r\n\t\t\t\t<div className=\"feature-desc\">\r\n\t\t\t\t\tExplore other Mafia-esque games like Resistance, One Night Ultimate Werewolf, and 2 Rooms and a Boom.\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"play-break\">\r\n\t\t\t\t<div className=\"play-btn-wrapper\">\r\n\t\t\t\t\t<Link to=\"/auth/signup\">\r\n\t\t\t\t\t\tPlay Mafia\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { NameWithAvatar } from \"../../User/User\";\r\nimport { Time } from \"../../../components/Basic\";\r\nimport LoadingPage from \"../../Loading\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\nimport { ViewsAndReplies } from \"./Forums\";\r\n\r\nexport default function Categories(props) {\r\n\tconst [categoryInfo, setCategoryInfo] = useState([]);\r\n\tconst [loaded, setLoaded] = useState(false);\r\n\tconst errorAlert = useErrorAlert();\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Categories | BeyondMafia\";\r\n\t\tprops.updateForumNavInfo({ action: \"home\" });\r\n\r\n\t\taxios.get(\"/forums/categories\")\r\n\t\t\t.then(res => {\r\n\t\t\t\tvar categories = res.data.sort(sortItems);\r\n\r\n\t\t\t\tfor (let category of categories)\r\n\t\t\t\t\tcategory.boards = category.boards.sort(sortItems);\r\n\r\n\t\t\t\tsetCategoryInfo(categories);\r\n\t\t\t\tsetLoaded(true);\r\n\r\n\t\t\t\tprops.updateForumNavInfo({\r\n\t\t\t\t\ttype: \"home\"\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}, []);\r\n\r\n\tfunction sortItems(a, b) {\r\n\t\treturn a.position - b.position;\r\n\t}\r\n\r\n\tconst categories = categoryInfo.map(category => {\r\n\t\tconst boards = category.boards.map(board => {\r\n\t\t\tconst newestThreads = board.newestThreads.map(thread => (\r\n\t\t\t\t<div className=\"column-item\" key={thread.id}>\r\n\t\t\t\t\t<div className=\"thread-link-wrapper\">\r\n\t\t\t\t\t\t<Link to={`/community/forums/thread/${thread.id}`}>\r\n\t\t\t\t\t\t\t{thread.title}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<NameWithAvatar\r\n\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\tid={thread.author.id}\r\n\t\t\t\t\t\tname={thread.author.name}\r\n\t\t\t\t\t\tavatar={thread.author.avatar} />\r\n\t\t\t\t\t<div className=\"thread-counts\">\r\n\t\t\t\t\t\t<ViewsAndReplies\r\n\t\t\t\t\t\t\tviewCount={thread.viewCount || 0}\r\n\t\t\t\t\t\t\treplyCount={thread.replyCount || 0} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t));\r\n\r\n\t\t\tconst recentReplies = board.recentReplies.map(reply => (\r\n\t\t\t\t<div className=\"column-item\" key={reply.id}>\r\n\t\t\t\t\t<div className=\"thread-link-wrapper\">\r\n\t\t\t\t\t\t<Link to={`/community/forums/thread/${reply.thread.id}?reply=${reply.id}`}>\r\n\t\t\t\t\t\t\t{reply.thread.title}\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<NameWithAvatar\r\n\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\tid={reply.author.id}\r\n\t\t\t\t\t\tname={reply.author.name}\r\n\t\t\t\t\t\tavatar={reply.author.avatar} />\r\n\t\t\t\t\t<div className=\"reply-age\">\r\n\t\t\t\t\t\t<Time millisec={Date.now() - reply.postDate} />\r\n\t\t\t\t\t\t{` ago`}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t));\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"board\" key={board.id}>\r\n\t\t\t\t\t<i className={`fas fa-${board.icon || \"comments\"} board-icon`} />\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tclassName=\"board-info\"\r\n\t\t\t\t\t\tto={`/community/forums/board/${board.id}`}>\r\n\t\t\t\t\t\t<div className=\"board-name\">\r\n\t\t\t\t\t\t\t{board.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"board-desc\">\r\n\t\t\t\t\t\t\t{board.description}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<div className=\"forum-column tall\">\r\n\t\t\t\t\t\t<div className=\"column-title\">\r\n\t\t\t\t\t\t\tNewest Thread\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={`column-content ${newestThreads.length == 0 ? \"center-content\" : \"\"}`}>\r\n\t\t\t\t\t\t\t{newestThreads.length == 0 &&\r\n\t\t\t\t\t\t\t\t<div className=\"column-item center-item\">\r\n\t\t\t\t\t\t\t\t\tNo threads yet\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{newestThreads}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"forum-column tall three\">\r\n\t\t\t\t\t\t<div className=\"column-title\">\r\n\t\t\t\t\t\t\tRecent Replies\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={`column-content ${recentReplies.length == 0 ? \"center-content\" : \"\"}`}>\r\n\t\t\t\t\t\t\t{recentReplies.length == 0 &&\r\n\t\t\t\t\t\t\t\t<div className=\"column-item center-item\">\r\n\t\t\t\t\t\t\t\t\tNo replies yet\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{recentReplies}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"span-panel forum-category\" key={category.id}>\r\n\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t{category.name}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"boards\">\r\n\t\t\t\t\t{boards}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t});\r\n\r\n\tif (!loaded)\r\n\t\treturn <LoadingPage />;\r\n\r\n\treturn categories;\r\n}","import React, { } from \"react\";\r\n\r\nimport \"../css/modal.css\";\r\n\r\nexport function Modal(props) {\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{props.show &&\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div \r\n\t\t\t\t\t\tclassName=\"modal-bg\"\r\n\t\t\t\t\t\tonClick={props.onBgClick} />\r\n\t\t\t\t\t<div className={`modal ${props.className ? props.className : \"\"}`}>\r\n\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t{props.header}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t{props.content}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t{props.footer}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n}","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Redirect, useParams, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport LoadingPage from \"../../Loading\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\nimport { getPageNavFilterArg, PageNav } from \"../../../components/Nav\";\r\nimport { NameWithAvatar } from \"../../User/User\";\r\nimport { Modal } from \"../../../components/Modal\";\r\nimport { VoteWidget, ViewsAndReplies } from \"./Forums\";\r\nimport { TextEditor } from \"../../../components/Form\";\r\nimport { Time } from \"../../../components/Basic\";\r\nimport { UserContext } from \"../../../Contexts\";\r\n\r\nexport default function Board(props) {\r\n\tconst [boardInfo, setBoardInfo] = useState({});\r\n\tconst [showCreateModal, setShowCreateModal] = useState(false);\r\n\tconst [newThreadTitle, setNewThreadTitle] = useState(\"\");\r\n\tconst [newThreadContent, setNewThreadContent] = useState(\"\");\r\n\tconst [boardPage, setBoardPage] = useState(1);\r\n\tconst [sortType, setSortType] = useState(\"bumpDate\");\r\n\tconst [loaded, setLoaded] = useState(false);\r\n\tconst [redirect, setRedirect] = useState();\r\n\r\n\tconst { boardId } = useParams();\r\n\tconst user = useContext(UserContext);\r\n\tconst errorAlert = useErrorAlert();\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Create Mafia Setup | BeyondMafia\";\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\taxios.get(`/forums/board/${boardId}`)\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetBoardInfo(res.data);\r\n\t\t\t\tsetLoaded(true);\r\n\r\n\t\t\t\tdocument.title = `${res.data.name} | BeyondMafia`;\r\n\r\n\t\t\t\tprops.updateForumNavInfo({\r\n\t\t\t\t\ttype: \"board\",\r\n\t\t\t\t\tid: boardId,\r\n\t\t\t\t\tname: res.data.name\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(e => {\r\n\t\t\t\terrorAlert(e);\r\n\t\t\t\tsetRedirect(\"/community/forums\");\r\n\t\t\t});\r\n\t}, [boardId]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loaded) {\r\n\t\t\tprops.updateForumNavInfo({\r\n\t\t\t\taction: \"board\",\r\n\t\t\t\tid: boardInfo.id,\r\n\t\t\t\tname: boardInfo.name\r\n\t\t\t});\r\n\t\t}\r\n\t}, [loaded, boardInfo]);\r\n\r\n\tfunction onCreateThreadClick() {\r\n\t\tsetShowCreateModal(true);\r\n\t}\r\n\r\n\tfunction onBoardPageNav(page) {\r\n\t\tvar filterArg = getPageNavFilterArg(page, boardPage, boardInfo.threads, sortType);\r\n\r\n\t\tif (filterArg == null)\r\n\t\t\treturn;\r\n\r\n\t\taxios.get(`/forums/board/${boardId}?sortType=${sortType}&${filterArg}`)\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (res.data.threads.length > 0) {\r\n\t\t\t\t\tsetBoardInfo(res.data);\r\n\t\t\t\t\tsetBoardPage(page);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tfunction threadRowsMap(thread) {\r\n\t\tconst recentReplies = thread.recentReplies.map(reply => (\r\n\t\t\t<div className=\"column-item\" key={reply.id}>\r\n\t\t\t\t<NameWithAvatar\r\n\t\t\t\t\tsmall\r\n\t\t\t\t\tid={reply.author.id}\r\n\t\t\t\t\tname={reply.author.name}\r\n\t\t\t\t\tavatar={reply.author.avatar} />\r\n\t\t\t\t<Link\r\n\t\t\t\t\tclassName=\"reply-age\"\r\n\t\t\t\t\tto={`/community/forums/thread/${thread.id}?reply=${reply.id}`}>\r\n\t\t\t\t\t<Time millisec={Date.now() - reply.postDate} />\r\n\t\t\t\t\t{` ago`}\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t));\r\n\r\n\t\treturn (\r\n\t\t\t<div className={`thread ${thread.deleted ? \"deleted\" : \"\"}`} key={thread.id}>\r\n\t\t\t\t<VoteWidget\r\n\t\t\t\t\titem={thread}\r\n\t\t\t\t\titemType=\"thread\"\r\n\t\t\t\t\titemHolder={boardInfo}\r\n\t\t\t\t\tsetItemHolder={setBoardInfo}\r\n\t\t\t\t\titemKey=\"threads\" />\r\n\t\t\t\t<div className=\"thread-info\">\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tclassName=\"thread-title\"\r\n\t\t\t\t\t\tto={`/community/forums/thread/${thread.id}`}>\r\n\t\t\t\t\t\t{thread.locked &&\r\n\t\t\t\t\t\t\t<i className=\"fas fa-lock\" />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{thread.pinned &&\r\n\t\t\t\t\t\t\t<i className=\"fas fa-thumbtack\" />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{thread.title}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<NameWithAvatar\r\n\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\tid={thread.author.id}\r\n\t\t\t\t\t\tavatar={thread.author.avatar}\r\n\t\t\t\t\t\tname={thread.author.name}\r\n\t\t\t\t\t\tgroups={thread.author.groups} />\r\n\t\t\t\t\t<div className=\"counts\">\r\n\t\t\t\t\t\t<ViewsAndReplies\r\n\t\t\t\t\t\t\tviewCount={thread.viewCount || 0}\r\n\t\t\t\t\t\t\treplyCount={thread.replyCount || 0} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"forum-column\">\r\n\t\t\t\t\t<div className=\"column-title\">\r\n\t\t\t\t\t\tPost Date\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"column-content\">\r\n\t\t\t\t\t\t<div className=\"column-item center-item\">\r\n\t\t\t\t\t\t\t<Time millisec={Date.now() - thread.postDate} />\r\n\t\t\t\t\t\t\t{` ago`}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"forum-column three\">\r\n\t\t\t\t\t<div className=\"column-title\">\r\n\t\t\t\t\t\tRecent Replies\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={`column-content ${recentReplies.length == 0 ? \"center-content\" : \"\"}`}>\r\n\t\t\t\t\t\t{recentReplies.length == 0 &&\r\n\t\t\t\t\t\t\t<div className=\"column-item center-item\">\r\n\t\t\t\t\t\t\t\tNo replies yet\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{recentReplies}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (redirect)\r\n\t\treturn <Redirect to={redirect} />;\r\n\r\n\tif (!loaded)\r\n\t\treturn <LoadingPage />;\r\n\r\n\tconst threads = boardInfo.threads.map(threadRowsMap);\r\n\tconst pinnedThreads = boardInfo.pinnedThreads.map(threadRowsMap);\r\n\r\n\treturn (\r\n\t\t<div className=\"board-wrapper\">\r\n\t\t\t<CreateThreadModal\r\n\t\t\t\tboardId={boardId}\r\n\t\t\t\tshow={showCreateModal}\r\n\t\t\t\tsetShow={setShowCreateModal}\r\n\t\t\t\tthreadTitle={newThreadTitle}\r\n\t\t\t\tsetThreadTitle={setNewThreadTitle}\r\n\t\t\t\tthreadContent={newThreadContent}\r\n\t\t\t\tsetThreadContent={setNewThreadContent}\r\n\t\t\t\tsetRedirect={setRedirect} />\r\n\t\t\t<div className=\"board-info\">\r\n\t\t\t\t<div className=\"board-title-wrapper\">\r\n\t\t\t\t\t<i className={`fas fa-${boardInfo.icon || \"comments\"} board-icon`} />\r\n\t\t\t\t\t<div className=\"board-title\">\r\n\t\t\t\t\t\t{boardInfo.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"create-thread btn btn-theme\"\r\n\t\t\t\t\tonClick={onCreateThreadClick}\r\n\t\t\t\t\tdisabled={!user.perms.createThread}>\r\n\t\t\t\t\t<i className=\"fas fa-plus\" />\r\n\t\t\t\t\tCreate Thread\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{pinnedThreads.length > 0 &&\r\n\t\t\t\t<div className=\"threads pinned-threads span-panel\">\r\n\t\t\t\t\t{pinnedThreads}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t<PageNav\r\n\t\t\t\tinverted\r\n\t\t\t\tpage={boardPage}\r\n\t\t\t\tonNav={onBoardPageNav} />\r\n\t\t\t<div className=\"threads span-panel\">\r\n\t\t\t\t{threads.length > 0 &&\r\n\t\t\t\t\tthreads\r\n\t\t\t\t}\r\n\t\t\t\t{threads.length == 0 &&\r\n\t\t\t\t\t\"No threads yet\"\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<PageNav\r\n\t\t\t\tinverted\r\n\t\t\t\tpage={boardPage}\r\n\t\t\t\tonNav={onBoardPageNav} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction CreateThreadModal(props) {\r\n\tconst errorAlert = useErrorAlert();\r\n\tconst header = \"Create Thread\";\r\n\r\n\tconst content = (\r\n\t\t<div className=\"form\">\r\n\t\t\t<div className=\"field-wrapper thread-title\">\r\n\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\tTitle\r\n\t\t\t\t</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={props.threadTitle}\r\n\t\t\t\t\tonChange={onTitleChange} />\r\n\t\t\t</div>\r\n\t\t\t<TextEditor\r\n\t\t\t\tvalue={props.threadContent}\r\n\t\t\t\tonChange={props.setThreadContent} />\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst footer = (\r\n\t\t<div className=\"control\">\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"post btn btn-theme\"\r\n\t\t\t\tonClick={onPostThread}>\r\n\t\t\t\tPost\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"cancel btn btn-theme-third\"\r\n\t\t\t\tonClick={onCancel}>\r\n\t\t\t\tCancel\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\tfunction onTitleChange(e) {\r\n\t\tprops.setThreadTitle(e.target.value);\r\n\t}\r\n\r\n\tfunction onCancel() {\r\n\t\tprops.setShow(false);\r\n\t}\r\n\r\n\tfunction onPostThread() {\r\n\t\taxios.post(\"/forums/thread\", {\r\n\t\t\tboard: props.boardId,\r\n\t\t\ttitle: props.threadTitle,\r\n\t\t\tcontent: props.threadContent\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tprops.setShow(false);\r\n\t\t\t\tprops.setRedirect(`/community/forums/thread/${res.data}`);\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tclassName=\"create-thread\"\r\n\t\t\tshow={props.show}\r\n\t\t\tonBgClick={onCancel}\r\n\t\t\theader={header}\r\n\t\t\tcontent={content}\r\n\t\t\tfooter={footer} />\r\n\t);\r\n}","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect, Link, useParams, useLocation } from \"react-router-dom\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport update from \"immutability-helper\";\r\n\r\nimport LoadingPage from \"../../Loading\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\nimport { VoteWidget } from \"./Forums\";\r\nimport { NameWithAvatar } from \"../../User/User\";\r\nimport { Time, filterProfanity } from \"../../../components/Basic\";\r\nimport { PageNav } from \"../../../components/Nav\";\r\nimport { TextEditor } from \"../../../components/Form\";\r\nimport { UserContext } from \"../../../Contexts\";\r\n\r\nexport default function Thread(props) {\r\n\tconst [threadInfo, setThreadInfo] = useState({});\r\n\tconst [loaded, setLoaded] = useState(false);\r\n\tconst [redirect, setRedirect] = useState();\r\n\tconst [showReplyForm, setShowReplyForm] = useState(false);\r\n\tconst [replyContent, setReplyContent] = useState(\"\");\r\n\tconst [page, setPage] = useState(1);\r\n\tconst [scrolled, setScrolled] = useState(false);\r\n\r\n\tconst replyFormRef = useRef();\r\n\tconst { threadId } = useParams();\r\n\tconst location = useLocation();\r\n\tconst user = useContext(UserContext);\r\n\tconst errorAlert = useErrorAlert();\r\n\r\n\tconst params = new URLSearchParams(location.search);\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Forums | BeyondMafia\";\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\taxios.get(`/forums/thread/${threadId}?reply=${params.get(\"reply\") || \"\"}`)\r\n\t\t\t.then(res => {\r\n\t\t\t\tres.data.content = filterProfanity(res.data.content, user.settings, \"\\\\*\");\r\n\r\n\t\t\t\tfor (let reply of res.data.replies)\r\n\t\t\t\t\treply.content = filterProfanity(reply.content, user.settings, \"\\\\*\");\r\n\r\n\t\t\t\tsetThreadInfo(res.data);\r\n\t\t\t\tsetPage(res.data.page);\r\n\t\t\t\tsetLoaded(true);\r\n\r\n\t\t\t\tprops.updateForumNavInfo({\r\n\t\t\t\t\ttype: \"thread\",\r\n\t\t\t\t\tboardId: res.data.board.id,\r\n\t\t\t\t\tboardName: res.data.board.name,\r\n\t\t\t\t\tthreadId: res.data.id,\r\n\t\t\t\t\tthreadTitle: res.data.title\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(e => {\r\n\t\t\t\terrorAlert(e);\r\n\t\t\t\tsetRedirect(\"/community/forums\");\r\n\t\t\t});\r\n\t}, [threadId]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loaded) {\r\n\t\t\tprops.updateForumNavInfo({\r\n\t\t\t\taction: \"boardAndThread\",\r\n\t\t\t\tboardId: threadInfo.board.id,\r\n\t\t\t\tboardName: threadInfo.board.name,\r\n\t\t\t\tthreadId: threadInfo.id,\r\n\t\t\t\tthreadTitle: threadInfo.title\r\n\t\t\t});\r\n\r\n\t\t\tif (scrolled || !params.get(\"reply\"))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tvar reply = document.getElementById(`reply-${params.get(\"reply\")}`);\r\n\t\t\tsetScrolled(true);\r\n\r\n\t\t\tif (reply)\r\n\t\t\t\treply.scrollIntoView();\r\n\t\t}\r\n\t}, [loaded, threadInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (showReplyForm)\r\n\t\t\treplyFormRef.current.scrollIntoView();\r\n\t}, [showReplyForm]);\r\n\r\n\tfunction onReplyClick(reply) {\r\n\t\tif (threadInfo.locked && !user.perms.postInLocked)\r\n\t\t\treturn;\r\n\r\n\t\tsetShowReplyForm(true);\r\n\r\n\t\tif (reply) {\r\n\t\t\tvar newContent = `${replyContent}\\n\\n> ##### @${reply.author.name}:\\n`;\r\n\t\t\tvar quotedContent = reply.content.split(\"\\n\");\r\n\r\n\t\t\tfor (let i = 0; i < quotedContent.length; i++)\r\n\t\t\t\tquotedContent[i] = `> ${quotedContent[i]}`;\r\n\r\n\t\t\tnewContent = `${newContent}${quotedContent.join(\"\\n\")}\\n\\n`;\r\n\t\t\tsetReplyContent(newContent);\r\n\t\t}\r\n\r\n\t\tif (showReplyForm)\r\n\t\t\treplyFormRef.current.scrollIntoView();\r\n\t}\r\n\r\n\tfunction onPostReply() {\r\n\t\taxios.post(`/forums/reply`, {\r\n\t\t\tthread: threadInfo.id,\r\n\t\t\tcontent: replyContent\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tonThreadPageNav(Number(res.data));\r\n\t\t\t\tsetReplyContent(\"\");\r\n\t\t\t\tsetShowReplyForm(false);\r\n\r\n\t\t\t\tdocument.body.scrollTop = document.body.scrollHeight;\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tfunction onPostCancel() {\r\n\t\tsetShowReplyForm(false);\r\n\t\tsetReplyContent(\"\");\r\n\t}\r\n\r\n\tfunction onThreadPageNav(page) {\r\n\t\taxios.get(`/forums/thread/${threadId}?page=${page}`)\r\n\t\t\t.then(res => {\r\n\t\t\t\tres.data.content = filterProfanity(res.data.content, user.settings, \"\\\\*\");\r\n\r\n\t\t\t\tfor (let reply of res.data.replies)\r\n\t\t\t\t\treply.content = filterProfanity(reply.content, user.settings, \"\\\\*\");\r\n\r\n\t\t\t\tsetPage(page);\r\n\t\t\t\tsetThreadInfo(res.data);\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tfunction onThreadDeleted() {\r\n\t\tsetRedirect(`/community/forums/board/${threadInfo.board.id}`);\r\n\t}\r\n\r\n\tfunction onNotifyToggled() {\r\n\t\tsetThreadInfo(update(threadInfo, {\r\n\t\t\treplyNotify: {\r\n\t\t\t\t$set: !threadInfo.replyNotify\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\r\n\tfunction onPinToggled() {\r\n\t\tsetThreadInfo(update(threadInfo, {\r\n\t\t\tpinned: {\r\n\t\t\t\t$set: !threadInfo.pinned\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\r\n\tfunction onLockToggled() {\r\n\t\tsetThreadInfo(update(threadInfo, {\r\n\t\t\tlocked: {\r\n\t\t\t\t$set: !threadInfo.locked\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\r\n\tif (redirect)\r\n\t\treturn <Redirect to={redirect} />;\r\n\r\n\tif (!loaded)\r\n\t\treturn <LoadingPage />;\r\n\r\n\tconst replies = threadInfo.replies.map(reply => (\r\n\t\t<Post\r\n\t\t\tclassName={`reply ${reply.id == params.get(\"reply\") ? \"sel\" : \"\"}`}\r\n\t\t\tid={`reply-${reply.id}`}\r\n\t\t\tkey={reply.id}\r\n\t\t\tpostInfo={reply}\r\n\t\t\titemType=\"reply\"\r\n\t\t\tvoteItem={reply}\r\n\t\t\tvoteItemHolder={threadInfo}\r\n\t\t\tsetVoteItemHolder={setThreadInfo}\r\n\t\t\titemKey=\"replies\"\r\n\t\t\tlocked={threadInfo.locked}\r\n\t\t\tpermaLink={`/community/forums/thread/${threadId}?reply=${reply.id}`}\r\n\t\t\tonReplyClick={() => onReplyClick(reply)}\r\n\t\t\tonDelete={() => onThreadPageNav(page)}\r\n\t\t\tonRestore={() => onThreadPageNav(page)}\r\n\t\t\tonEdit={() => onThreadPageNav(page)} />\r\n\t));\r\n\r\n\treturn (\r\n\t\t<div className=\"thread-wrapper\">\r\n\t\t\t<Post\r\n\t\t\t\tpostInfo={threadInfo}\r\n\t\t\t\titemType=\"thread\"\r\n\t\t\t\tvoteItem={threadInfo}\r\n\t\t\t\tsetVoteItemHolder={setThreadInfo}\r\n\t\t\t\tlocked={threadInfo.locked}\r\n\t\t\t\tonReplyClick={() => onReplyClick()}\r\n\t\t\t\tonDelete={onThreadDeleted}\r\n\t\t\t\tonRestore={() => onThreadPageNav(page)}\r\n\t\t\t\tonEdit={() => onThreadPageNav(page)}\r\n\t\t\t\tonNotifyToggled={onNotifyToggled}\r\n\t\t\t\tonPinToggled={onPinToggled}\r\n\t\t\t\tonLockToggled={onLockToggled}\r\n\t\t\t\thasTitle />\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"reply-form-wrapper\"\r\n\t\t\t\tref={replyFormRef}>\r\n\t\t\t\t{showReplyForm &&\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"reply-form span-panel\">\r\n\t\t\t\t\t\t<TextEditor\r\n\t\t\t\t\t\t\tvalue={replyContent}\r\n\t\t\t\t\t\t\tonChange={setReplyContent} />\r\n\t\t\t\t\t\t<div className=\"post-btn-wrapper\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"post-reply btn btn-theme\"\r\n\t\t\t\t\t\t\t\tonClick={onPostReply}>\r\n\t\t\t\t\t\t\t\tPost\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-theme-sec\"\r\n\t\t\t\t\t\t\t\tonClick={onPostCancel}>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"replies-wrapper\">\r\n\t\t\t\t<PageNav\r\n\t\t\t\t\tinverted\r\n\t\t\t\t\tpage={page}\r\n\t\t\t\t\tmaxPage={threadInfo.pageCount}\r\n\t\t\t\t\tonNav={onThreadPageNav} />\r\n\t\t\t\t<div className=\"replies\">\r\n\t\t\t\t\t{replies.length == 0 &&\r\n\t\t\t\t\t\t\"No replies yet\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{replies}\r\n\t\t\t\t</div>\r\n\t\t\t\t<PageNav\r\n\t\t\t\t\tinverted\r\n\t\t\t\t\tpage={page}\r\n\t\t\t\t\tmaxPage={threadInfo.pageCount}\r\n\t\t\t\t\tonNav={onThreadPageNav} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Post(props) {\r\n\tconst id = props.id;\r\n\tconst postInfo = props.postInfo;\r\n\tconst itemType = props.itemType;\r\n\tconst voteItem = props.voteItem;\r\n\tconst voteItemHolder = props.voteItemHolder;\r\n\tconst setVoteItemHolder = props.setVoteItemHolder;\r\n\tconst itemKey = props.itemKey;\r\n\tconst hasTitle = props.hasTitle;\r\n\tconst permaLink = props.permaLink;\r\n\tconst locked = props.locked;\r\n\tconst onReplyClick = props.onReplyClick;\r\n\tconst onDelete = props.onDelete;\r\n\tconst onRestore = props.onRestore;\r\n\tconst onEdit = props.onEdit;\r\n\tconst onNotifyToggled = props.onNotifyToggled;\r\n\tconst onPinToggled = props.onPinToggled;\r\n\tconst onLockToggled = props.onLockToggled;\r\n\r\n\tconst [editing, setEditing] = useState(false);\r\n\tconst [editContent, setEditContent] = useState(postInfo.content);\r\n\tconst user = useContext(UserContext);\r\n\tconst errorAlert = useErrorAlert();\r\n\r\n\tfunction onDeleteClick() {\r\n\t\tconst shouldDelete = window.confirm(\"Are you sure you wish to delete this?\");\r\n\r\n\t\tif (!shouldDelete)\r\n\t\t\treturn;\r\n\r\n\t\taxios.post(`/forums/${itemType}/delete`, { [itemType]: postInfo.id })\r\n\t\t\t.then(onDelete)\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tfunction onRestoreClick() {\r\n\t\taxios.post(`/forums/${itemType}/restore`, { [itemType]: postInfo.id })\r\n\t\t\t.then(onRestore)\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tfunction onEditClick() {\r\n\t\tsetEditing(true);\r\n\t}\r\n\r\n\tfunction onEditSave() {\r\n\t\taxios.post(`/forums/${itemType}/edit`, {\r\n\t\t\t[itemType]: postInfo.id,\r\n\t\t\tcontent: editContent\r\n\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetEditing(false);\r\n\t\t\t\tonEdit();\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tfunction onEditCancel() {\r\n\t\tsetEditing(false);\r\n\t}\r\n\r\n\tfunction onPermaLinkClick() {\r\n\t\tnavigator.clipboard.writeText(window.location.origin + permaLink);\r\n\t}\r\n\r\n\tfunction onNotifyClick() {\r\n\t\taxios.post(`/forums/thread/notify`, { thread: postInfo.id })\r\n\t\t\t.then(onNotifyToggled)\r\n\t\t\t.catch(() => { });\r\n\t}\r\n\r\n\tfunction onTogglePinnedClick() {\r\n\t\taxios.post(`/forums/thread/togglePinned`, { thread: postInfo.id })\r\n\t\t\t.then(onPinToggled)\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tfunction onToggleLockedClick() {\r\n\t\taxios.post(`/forums/thread/toggleLocked`, { thread: postInfo.id })\r\n\t\t\t.then(onLockToggled)\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tvar content = postInfo.content;\r\n\r\n    // Remove unnecessarily deep block quotes\r\n    let blockquote = \">\";\r\n    if (content.includes(blockquote)) {\r\n        let lines = content.split(\"\\n\");\r\n        lines = lines.filter((line) => (line.match(/> /g) || []).length < 5);\r\n        content = lines.join(\"\\n\");\r\n    }\r\n\r\n\tif (postInfo.deleted && user.settings.hideDeleted)\r\n\t\tcontent = \"*deleted*\";\r\n\r\n\treturn (\r\n\t\t<div className={`post span-panel ${postInfo.deleted ? \"deleted\" : \"\"} ${props.className}`} id={id}>\r\n\t\t\t<div className=\"vote-wrapper\">\r\n\t\t\t\t<VoteWidget\r\n\t\t\t\t\titem={voteItem}\r\n\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\titemHolder={voteItemHolder}\r\n\t\t\t\t\tsetItemHolder={setVoteItemHolder}\r\n\t\t\t\t\titemKey={itemKey} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"main-wrapper\">\r\n\t\t\t\t<div className=\"heading\">\r\n\t\t\t\t\t<div className=\"heading-left\">\r\n\t\t\t\t\t\t{hasTitle &&\r\n\t\t\t\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t\t\t\t{locked &&\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-lock\" />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{postInfo.pinned &&\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-thumbtack\" />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{postInfo.title}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<div className=\"post-info\">\r\n\t\t\t\t\t\t\t<NameWithAvatar\r\n\t\t\t\t\t\t\t\tid={postInfo.author.id}\r\n\t\t\t\t\t\t\t\tname={postInfo.author.name}\r\n\t\t\t\t\t\t\t\tavatar={postInfo.author.avatar}\r\n\t\t\t\t\t\t\t\tgroups={postInfo.author.groups} />\r\n\t\t\t\t\t\t\t<div className=\"post-date\">\r\n\t\t\t\t\t\t\t\t<Time\r\n\t\t\t\t\t\t\t\t\tminSec\r\n\t\t\t\t\t\t\t\t\tmillisec={Date.now() - postInfo.postDate} />\r\n\t\t\t\t\t\t\t\t{\" ago\"}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"btns-wrapper\">\r\n\t\t\t\t\t\t{!postInfo.deleted &&\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{itemType == \"thread\" && user.perms.pinThreads &&\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tclassName={`fas fa-thumbtack ${postInfo.pinned ? \"fa-rotate-180\" : \"\"}`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={onTogglePinnedClick} />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{itemType == \"thread\" && user.perms.lockThreads &&\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tclassName={`fas fa-lock${postInfo.locked ? \"-open\" : \"\"}`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={onToggleLockedClick} />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{(user.perms.deleteAnyPost || (user.perms.deleteOwnPost && postInfo.author.id == user.id)) &&\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"fas fa-trash\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={onDeleteClick} />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{user.perms.editPost && postInfo.author.id == user.id && (!locked || user.perms.postInLocked) &&\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"fas fa-pencil-alt\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={onEditClick} />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{itemType == \"thread\" && postInfo.author.id == user.id &&\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tclassName={`fa${postInfo.replyNotify ? \"s\" : \"r\"} fa-bell`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={onNotifyClick} />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{permaLink &&\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tto={permaLink}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onPermaLinkClick()}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-link\" />\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{user.perms.postReply && (!locked || user.perms.postInLocked) &&\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"reply-btn fas fa-reply\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={onReplyClick} />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{postInfo.deleted && user.perms.restoreDeleted &&\r\n\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\tclassName=\"fas fa-trash-restore\"\r\n\t\t\t\t\t\t\t\tonClick={onRestoreClick} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{!editing &&\r\n\t\t\t\t\t<div className=\"md-content\">\r\n\t\t\t\t\t\t<ReactMarkdown source={content} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t{editing &&\r\n\t\t\t\t\t<div className=\"edit-wrapper\">\r\n\t\t\t\t\t\t<TextEditor\r\n\t\t\t\t\t\t\tvalue={editContent}\r\n\t\t\t\t\t\t\tonChange={setEditContent} />\r\n\t\t\t\t\t\t<div className=\"post-btn-wrapper\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"post-reply btn btn-theme-sec\"\r\n\t\t\t\t\t\t\t\tonClick={onEditSave}>\r\n\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-theme-third\"\r\n\t\t\t\t\t\t\t\tonClick={onEditCancel}>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}","import React, { useReducer, useContext, useState, useEffect } from \"react\";\r\nimport { NavLink, Switch, Route, Redirect, useParams, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport update from \"immutability-helper\";\r\n\r\nimport Categories from \"./Categories\";\r\nimport Board from \"./Board\";\r\nimport Thread from \"./Thread\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\nimport { UserContext } from \"../../../Contexts\";\r\n\r\nimport \"../../../css/forums.css\";\r\n\r\nexport default function Forums() {\r\n\tconst [forumNavInfo, updateForumNavInfo] = useForumNavInfo();\r\n\r\n\treturn (\r\n\t\t<div className=\"forums\">\r\n\t\t\t<ForumNav forumNavInfo={forumNavInfo} />\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path=\"/community/forums\" render={() => <Categories updateForumNavInfo={updateForumNavInfo} />} />\r\n\t\t\t\t<Route exact path=\"/community/forums/board/:boardId\" render={() => <Board updateForumNavInfo={updateForumNavInfo} />} />\r\n\t\t\t\t<Route exact path=\"/community/forums/thread/:threadId\" render={() => <Thread updateForumNavInfo={updateForumNavInfo} />} />\r\n\t\t\t\t<Route render={() => <Redirect to=\"/community/forums\" />} />\r\n\t\t\t</Switch>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ForumNav(props) {\r\n\tconst forumNavInfo = props.forumNavInfo;\r\n\r\n\treturn (\r\n\t\t<div className=\"span-panel\">\r\n\t\t\t<div className=\"forum-nav\">\r\n\t\t\t\t<div className=\"path\">\r\n\t\t\t\t\t<NavLink to=\"/community/forums\">\r\n\t\t\t\t\t\t<i className=\"fas fa-home home\" />\r\n\t\t\t\t\t\tForums\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t{forumNavInfo.board &&\r\n\t\t\t\t\t\t<NavLink to={`/community/forums/board/${forumNavInfo.board.id}`}>\r\n\t\t\t\t\t\t\t<i className=\"fas fa-chevron-right separator\" />\r\n\t\t\t\t\t\t\t{forumNavInfo.board.name}\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{forumNavInfo.thread &&\r\n\t\t\t\t\t\t<NavLink to={`/community/forums/thread/${forumNavInfo.thread.id}`}>\r\n\t\t\t\t\t\t\t<i className=\"fas fa-chevron-right separator\" />\r\n\t\t\t\t\t\t\t{forumNavInfo.thread.title}\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction useForumNavInfo() {\r\n\treturn useReducer((info, action) => {\r\n\t\tvar newInfo;\r\n\r\n\t\tswitch (action.type) {\r\n\t\t\tcase \"board\":\r\n\t\t\t\tnewInfo = {\r\n\t\t\t\t\tboard: {\r\n\t\t\t\t\t\tid: action.id,\r\n\t\t\t\t\t\tname: action.name\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"thread\":\r\n\t\t\t\tnewInfo = {\r\n\t\t\t\t\tboard: {\r\n\t\t\t\t\t\tid: action.boardId,\r\n\t\t\t\t\t\tname: action.boardName\r\n\t\t\t\t\t},\r\n\t\t\t\t\tthread: {\r\n\t\t\t\t\t\tid: action.threadId,\r\n\t\t\t\t\t\ttitle: action.threadTitle\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"home\":\r\n\t\t\t\tnewInfo = {};\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn newInfo || info;\r\n\t}, {});\r\n}\r\n\r\nexport function VoteWidget(props) {\r\n\tconst item = props.item;\r\n\tconst itemType = props.itemType;\r\n\tconst itemHolder = props.itemHolder;\r\n\tconst setItemHolder = props.setItemHolder;\r\n\tconst itemKey = props.itemKey;\r\n\r\n\tconst user = useContext(UserContext);\r\n\tconst errorAlert = useErrorAlert();\r\n\r\n\tfunction updateDirection(newDirection) {\r\n\t\treturn update(item, {\r\n\t\t\tvote: {\r\n\t\t\t\t$set: newDirection\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n    // Initial voter list\r\n    const [voters, setVoters] = useState([]);\r\n    useEffect(() => {\r\n        setVoters(item.voters);\r\n    }, []);\r\n\r\n    const [hovered, setHovered] = useState(false);\r\n    const onHover = () => {setHovered(true)};\r\n    const onLeave = () => {setHovered(false)};\r\n\r\n\tfunction onVote(itemId, direction) {\r\n\t\tif (!user.perms.vote)\r\n\t\t\treturn;\r\n\r\n\t\taxios.post(\"/forums/vote\", {\r\n\t\t\titem: itemId,\r\n\t\t\titemType,\r\n\t\t\tdirection\r\n\t\t})\r\n\t\t\t.then(res => {\r\n                setVoters(res.data.voters);\r\n\r\n\t\t\t\tvar newDirection = Number(res.data.direction);\r\n\t\t\t\tvar newItem = updateDirection(newDirection);\r\n\t\t\t\tvar items;\r\n\r\n\t\t\t\tif (itemHolder == null) {\r\n\t\t\t\t\tsetItemHolder(newItem);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (itemKey)\r\n\t\t\t\t\titems = itemHolder[itemKey];\r\n\t\t\t\telse\r\n\t\t\t\t\titems = itemHolder;\r\n\r\n\t\t\t\tfor (let i in items) {\r\n\t\t\t\t\tif (items[i].id == itemId) {\r\n\t\t\t\t\t\tvar newItems = items.slice();\r\n\t\t\t\t\t\tnewItems[i] = newItem;\r\n\r\n\t\t\t\t\t\tif (itemKey) {\r\n\t\t\t\t\t\t\tsetItemHolder(update(itemHolder, {\r\n\t\t\t\t\t\t\t\t[itemKey]: {\r\n\t\t\t\t\t\t\t\t\t$set: newItems\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tsetItemHolder(newItems);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"vote-widget\">\r\n\t\t\t<i className={`fas fa-arrow-up ${item.vote == 1 && \"sel\"}`}\r\n\t\t\t\tonClick={() => onVote(item.id, 1)} />\r\n\t\t\t<div className=\"vote-count\"\r\n                onMouseEnter={onHover}\r\n                onMouseLeave={onLeave}>\r\n                    {voters ? voters.reduce((a, v) => (a + v.direction), 0) : 0}\r\n            </div>\r\n            {hovered ? <VoterList voters={voters} /> : \"\"}\r\n\t\t\t<i className={`fas fa-arrow-down ${item.vote == -1 && \"sel\"}`}\r\n\t\t\t\tonClick={() => onVote(item.id, -1)} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function VoterList(props) {\r\n    if (!props.voters)\r\n        return <></>;\r\n\r\n    const upvoters = props.voters.filter((voter) => {return voter.direction > 0;})\r\n            .reduce((a, v) => (a = [...a, v.voterName]), [])\r\n            .join(\", \");\r\n    const downvoters = props.voters.filter((voter) => {return voter.direction < 0;})\r\n            .reduce((a, v) => (a = [...a, v.voterName]), [])\r\n            .join(\", \");\r\n\r\n    return (\r\n        <div className=\"voter-list\">\r\n            + {upvoters}\r\n            <br />\r\n            <br />\r\n            - {downvoters}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function ViewsAndReplies(props) {\r\n\tconst viewCount = props.viewCount;\r\n\tconst replyCount = props.replyCount;\r\n\r\n\tconst viewsPlural = viewCount != 1;\r\n\tconst repliesPlural = replyCount != 1;\r\n\r\n\treturn `${viewCount} view${viewsPlural ? \"s\" : \"\"}, ${replyCount} repl${repliesPlural ? \"ies\" : \"y\"}`;\r\n}","import React, { useState, useContext, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport ReactMarkdown from \"react-markdown\";\r\n\r\nimport { useErrorAlert } from \"../../components/Alerts\";\r\nimport { VoteWidget } from \"./Forums/Forums\";\r\nimport { NameWithAvatar } from \"../User/User\";\r\nimport { Time, filterProfanity } from \"../../components/Basic\";\r\nimport { getPageNavFilterArg, PageNav } from \"../../components/Nav\";\r\nimport { TextEditor } from \"../../components/Form\";\r\nimport { UserContext } from \"../../Contexts\";\r\nimport LoadingPage from \"../Loading\";\r\n\r\nimport \"../../css/forums.css\";\r\nimport \"../../css/comments.css\";\r\n\r\nexport default function Comments(props) {\r\n\tconst location = props.location;\r\n\r\n\tconst [page, setPage] = useState(1);\r\n\tconst [comments, setComments] = useState([]);\r\n\tconst [showInput, setShowInput] = useState(false);\r\n\tconst [postContent, setPostContent] = useState(\"\");\r\n\tconst [loaded, setLoaded] = useState(false);\r\n\r\n\tconst user = useContext(UserContext);\r\n\tconst errorAlert = useErrorAlert();\r\n\r\n\tuseEffect(() => {\r\n\t\tsetComments([]);\r\n\t\tonCommentsPageNav(1);\r\n\t}, [location]);\r\n\r\n\tfunction onCommentsPageNav(_page) {\r\n\t\tvar filterArg = getPageNavFilterArg(_page, page, comments, \"date\");\r\n\r\n\t\tif (filterArg == null)\r\n\t\t\treturn;\r\n\r\n\t\taxios.get(`/comment?location=${location}&${filterArg}`)\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetLoaded(true);\r\n\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tfor (let comment of res.data)\r\n\t\t\t\t\t\tcomment.content = filterProfanity(comment.content, user.settings, \"\\\\*\");\r\n\r\n\t\t\t\t\tsetComments(res.data);\r\n\t\t\t\t\tsetPage(_page);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tfunction onPostSubmit() {\r\n\t\taxios.post(\"/comment\", { content: postContent, location })\r\n\t\t\t.then(() => {\r\n\t\t\t\tonCommentsPageNav(1);\r\n\t\t\t\tsetPostContent(\"\");\r\n\t\t\t\tsetShowInput(false);\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tfunction onPostCancel() {\r\n\t\tsetShowInput(false);\r\n\t}\r\n\r\n\tconst commentRows = comments.map(comment => (\r\n\t\t<Comment\r\n\t\t\tlocation={location}\r\n\t\t\tcomment={comment}\r\n\t\t\tcomments={comments}\r\n\t\t\tsetComments={setComments}\r\n\t\t\tonDelete={() => onCommentsPageNav(page)}\r\n\t\t\tonRestore={() => onCommentsPageNav(page)}\r\n\t\t\tkey={comment.id} />\r\n\t));\r\n\r\n\tif (!loaded)\r\n\t\treturn <LoadingPage className=\"under\" />;\r\n\r\n\treturn (\r\n\t\t<div className=\"comments-wrapper thread-wrapper\">\r\n\t\t\t<div className=\"comments-input-wrapper\">\r\n\t\t\t\t{!showInput && user.loggedIn && user.perms.postReply &&\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"btn btn-theme\"\r\n\t\t\t\t\t\tonClick={() => setShowInput(true)}>\r\n\t\t\t\t\t\tPost Comment\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t{showInput &&\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"reply-form span-panel\">\r\n\t\t\t\t\t\t<TextEditor\r\n\t\t\t\t\t\t\tvalue={postContent}\r\n\t\t\t\t\t\t\tonChange={setPostContent} />\r\n\t\t\t\t\t\t<div className=\"post-btn-wrapper\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"post-reply btn btn-theme\"\r\n\t\t\t\t\t\t\t\tonClick={onPostSubmit}>\r\n\t\t\t\t\t\t\t\tPost\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-theme-sec\"\r\n\t\t\t\t\t\t\t\tonClick={onPostCancel}>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"comments-page\">\r\n\t\t\t\t<PageNav\r\n\t\t\t\t\tinverted\r\n\t\t\t\t\tpage={page}\r\n\t\t\t\t\tonNav={onCommentsPageNav} />\r\n\t\t\t\t{comments.length == 0 &&\r\n\t\t\t\t\t\"No comments yet\"\r\n\t\t\t\t}\r\n\t\t\t\t{commentRows}\r\n\t\t\t\t<PageNav\r\n\t\t\t\t\tinverted\r\n\t\t\t\t\tpage={page}\r\n\t\t\t\t\tonNav={onCommentsPageNav} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Comment(props) {\r\n\tconst location = props.location;\r\n\tconst comment = props.comment;\r\n\tconst comments = props.comments;\r\n\tconst setComments = props.setComments;\r\n\tconst onDelete = props.onDelete;\r\n\tconst onRestore = props.onRestore;\r\n\r\n\tconst user = useContext(UserContext);\r\n\tconst errorAlert = useErrorAlert();\r\n\r\n\tfunction onDeleteClick() {\r\n\t\tconst shouldDelete = window.confirm(\"Are you sure you wish to delete this?\");\r\n\r\n\t\tif (!shouldDelete)\r\n\t\t\treturn;\r\n\r\n\t\taxios.post(`/comment/delete`, { comment: comment.id })\r\n\t\t\t.then(onDelete)\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tfunction onRestoreClick() {\r\n\t\taxios.post(`/comment/restore`, { comment: comment.id })\r\n\t\t\t.then(onRestore)\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tvar content = comment.content;\r\n\r\n\tif (comment.deleted && user.settings.hideDeleted)\r\n\t\tcontent = \"*deleted*\";\r\n\r\n\treturn (\r\n\t\t<div className={`post ${comment.deleted ? \"deleted\" : \"\"} ${props.className || \"\"}`}>\r\n\t\t\t<div className=\"vote-wrapper\">\r\n\t\t\t\t<VoteWidget\r\n\t\t\t\t\titem={comment}\r\n\t\t\t\t\titemHolder={comments}\r\n\t\t\t\t\tsetItemHolder={setComments}\r\n\t\t\t\t\titemType=\"comment\" />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"main-wrapper\">\r\n\t\t\t\t<div className=\"heading\">\r\n\t\t\t\t\t<div className=\"heading-left\">\r\n\t\t\t\t\t\t<div className=\"post-info\">\r\n\t\t\t\t\t\t\t<NameWithAvatar\r\n\t\t\t\t\t\t\t\tid={comment.author.id}\r\n\t\t\t\t\t\t\t\tname={comment.author.name}\r\n\t\t\t\t\t\t\t\tavatar={comment.author.avatar}\r\n\t\t\t\t\t\t\t\tgroups={comment.author.groups} />\r\n\t\t\t\t\t\t\t<div className=\"post-date\">\r\n\t\t\t\t\t\t\t\t<Time\r\n\t\t\t\t\t\t\t\t\tminSec\r\n\t\t\t\t\t\t\t\t\tmillisec={Date.now() - comment.date} />\r\n\t\t\t\t\t\t\t\t{\" ago\"}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"btns-wrapper\">\r\n\t\t\t\t\t\t{!comment.deleted && (user.perms.deleteAnyPost \r\n\t\t\t\t\t\t\t\t|| (user.perms.deleteOwnPost && comment.author.id == user.id)\r\n\t\t\t\t\t\t\t\t|| (location == user.id)) &&\r\n\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\tclassName=\"fas fa-trash\"\r\n\t\t\t\t\t\t\t\tonClick={onDeleteClick} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{comment.deleted && user.perms.restoreDeleted &&\r\n\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\tclassName=\"fas fa-trash-restore\"\r\n\t\t\t\t\t\t\t\tonClick={onRestoreClick} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"md-content\">\r\n\t\t\t\t\t<ReactMarkdown source={content} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { Link, Redirect, useLocation, useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport { UserContext, PopoverContext, SiteInfoContext } from \"../../Contexts\"\r\nimport Setup from \"../../components/Setup\"\r\nimport { ButtonGroup, getPageNavFilterArg, PageNav, SubNav } from \"../../components/Nav\"\r\nimport { ItemList, Time, UserText } from \"../../components/Basic\"\r\nimport { useErrorAlert } from \"../../components/Alerts\";\r\nimport { camelCase } from \"../../utils\"\r\nimport LoadingPage from \"../Loading\";\r\nimport LandingPage from \"../Landing\";\r\nimport Comments from \"../Community/Comments\";\r\nimport { Lobbies } from \"../../Constants\";\r\n\r\nimport \"../../css/join.css\";\r\nimport { TopBarLink } from \"./Play\";\r\nimport { NameWithAvatar } from \"../User/User\";\r\n\r\nexport default function Join(props) {\r\n    const defaultLobby = \"All\";\r\n\r\n    const [listType, setListType] = useState(\"All\");\r\n    const [page, setPage] = useState(1);\r\n    const [games, setGames] = useState([]);\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n\r\n    const user = useContext(UserContext);\r\n    const errorAlert = useErrorAlert();\r\n    const params = new URLSearchParams(location.search);\r\n    const [lobby, setLobby] = useState(params.get(\"lobby\") || localStorage.getItem(\"lobby\") || defaultLobby);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(\"lobby\", lobby);\r\n\r\n        if (params.get(\"lobby\") != lobby)\r\n            history.push(location.pathname + `?lobby=${lobby}`);\r\n\r\n        document.title = `Play (${lobby}) | BeyondMafia`;\r\n        getGameList(listType, 1);\r\n    }, [location.pathname, lobby]);\r\n\r\n    function getGameList(_listType, _page) {\r\n        var filterArg = getPageNavFilterArg(_page, page, games, \"endTime\");\r\n\r\n        if (filterArg == null)\r\n            return;\r\n\r\n        filterArg += `&page=${_page}`;\r\n        axios.get(`/game/list?list=${camelCase(_listType)}&lobby=${lobby}&${filterArg}`)\r\n            .then(res => {\r\n                if (res.data.length > 0 || _page == 1) {\r\n                    setListType(_listType);\r\n                    setPage(_page);\r\n                    setGames(res.data);\r\n                }\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    function lobbyNav(_lobby) {\r\n        setLobby(_lobby);\r\n\r\n        if (lobby == _lobby)\r\n            getGameList(listType, page);\r\n    }\r\n\r\n    if (lobby != \"All\" && Lobbies.indexOf(lobby) == -1)\r\n        setLobby(defaultLobby);\r\n\r\n    if (!user.loaded)\r\n        return <LoadingPage />;\r\n\r\n    if (user.loaded && !user.loggedIn)\r\n        return <LandingPage />;\r\n\r\n    return (\r\n        <>\r\n            <div className=\"span-panel main join\">\r\n                <div className=\"left-panel\">\r\n\r\n                </div>\r\n                <div className=\"right-panel\">\r\n                    <div className=\"top-bar lobby-list\">\r\n                        <TopBarLink\r\n                            text=\"All\"\r\n                            sel={lobby}\r\n                            onClick={() => lobbyNav(\"All\")} />\r\n                        <TopBarLink\r\n                            text=\"Main\"\r\n                            sel={lobby}\r\n                            onClick={() => lobbyNav(\"Main\")} />\r\n                        <TopBarLink\r\n                            text=\"Sandbox\"\r\n                            sel={lobby}\r\n                            onClick={() => lobbyNav(\"Sandbox\")} />\r\n                        <TopBarLink\r\n                            text=\"Competitive\"\r\n                            sel={lobby}\r\n                            onClick={() => lobbyNav(\"Competitive\")} />\r\n                        <TopBarLink\r\n                            text=\"Games\"\r\n                            sel={lobby}\r\n                            onClick={() => lobbyNav(\"Games\")} />\r\n                    </div>\r\n                    <ItemList\r\n                        className=\"games\"\r\n                        items={games}\r\n                        map={game => (\r\n                            <GameRow\r\n                                game={game}\r\n                                lobby={lobby}\r\n                                refresh={() => getGameList(listType, page)}\r\n                                odd={games.indexOf(game) % 2 == 1}\r\n                                key={game.id} />\r\n                        )}\r\n                        empty=\"No games\" />\r\n                    <PageNav\r\n                        page={page}\r\n                        onNav={(page) => getGameList(listType, page)} />\r\n                </div>\r\n            </div>\r\n            <div className=\"bottom-wrapper\">\r\n                <Comments\r\n                    location={lobby == \"Main\" || lobby == \"All\" ? \"lobby\" : `lobby-${lobby}`} />\r\n                <Announcements />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport function GameRow(props) {\r\n    const [redirect, setRedirect] = useState(false);\r\n    const [reserved, setReserved] = useState(props.game.reserved);\r\n\r\n    const infoRef = useRef();\r\n    const user = useContext(UserContext);\r\n    const popover = useContext(PopoverContext);\r\n    const siteInfo = useContext(SiteInfoContext);\r\n    const errorAlert = useErrorAlert();\r\n\r\n    function onInfoClick(e) {\r\n        e.stopPropagation();\r\n        popover.onClick(\r\n            `/game/${props.game.id}/info`,\r\n            \"game\",\r\n            infoRef.current,\r\n            `Game ${props.game.id}`,\r\n        );\r\n    }\r\n\r\n    var linkPath, buttonText;\r\n    var buttonClass = \"btn \";\r\n\r\n    if (props.small)\r\n        buttonClass += \"btn-small \";\r\n\r\n    switch (props.game.status) {\r\n        case \"Open\":\r\n            linkPath = `/game/${props.game.id}`;\r\n            buttonClass += \"btn-join \";\r\n\r\n            if (props.game.scheduled <= Date.now())\r\n                buttonText = \"Join\";\r\n            break;\r\n        case \"In Progress\":\r\n            if (props.game.spectating || user.perms.canSpectateAny) {\r\n                linkPath = `/game/${props.game.id}`;\r\n                buttonClass += \"btn-spectate \";\r\n                buttonText = \"Spectate\";\r\n            }\r\n            else {\r\n                linkPath = \"/play\";\r\n                buttonClass += \"btn-in-progress \";\r\n                buttonText = \"In Progress\";\r\n            }\r\n            break;\r\n        case \"Finished\":\r\n            linkPath = `/game/${props.game.id}`;\r\n            buttonClass += \"btn-review \";\r\n            buttonText = \"Review\";\r\n            break;\r\n    }\r\n\r\n    function onRehostClick() {\r\n        var stateLengths = {};\r\n\r\n        for (let stateName in props.game.stateLengths)\r\n            stateLengths[stateName] = props.game.stateLengths[stateName] / 60000;\r\n\r\n        var lobby = props.lobby;\r\n\r\n        if (lobby == \"All\")\r\n            lobby = \"Main\";\r\n\r\n        axios.post(\"/game/host\", {\r\n            gameType: props.game.type,\r\n            setup: props.game.setup.id,\r\n            lobby: lobby,\r\n            guests: props.game.guests,\r\n            private: false,\r\n            ranked: props.game.ranked,\r\n            spectating: props.game.spectating,\r\n            voiceChat: props.game.voiceChat,\r\n            readyCheck: props.game.readyCheck,\r\n            stateLengths: stateLengths,\r\n            ...JSON.parse(props.game.gameTypeOptions)\r\n        })\r\n            .then(res => setRedirect(`/game/${res.data}`))\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    function onReserve() {\r\n        axios.post(\"/game/reserve\", { gameId: props.game.id })\r\n            .then(res => {\r\n                setReserved(!reserved);\r\n                siteInfo.showAlert(res.data, \"success\");\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    function onUnreserve() {\r\n        axios.post(\"/game/unreserve\", { gameId: props.game.id })\r\n            .then(res => {\r\n                setReserved(!reserved);\r\n                siteInfo.showAlert(res.data, \"success\");\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n    function onCancel() {\r\n        axios.post(\"/game/cancel\", { gameId: props.game.id })\r\n            .then(res => {\r\n                siteInfo.showAlert(res.data, \"success\");\r\n                props.refresh();\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    if (redirect)\r\n        return <Redirect to={redirect} />\r\n\r\n    if (!props.game.setup)\r\n        return <></>;\r\n\r\n    return (\r\n        <div className={`row ${props.odd ? \"odd\" : \"\"} game-row`}>\r\n            {/* {!props.small && */}\r\n            <div className=\"btns-wrapper\">\r\n                {(user.loggedIn || props.status == \"Finished\") && !props.game.broken && !props.game.private &&\r\n                    <Link\r\n                        to={linkPath}\r\n                        className={buttonClass}\r\n                        disabled={props.status == \"In Progress\" && !props.game.spectating}>\r\n                        {buttonText}\r\n                    </Link>\r\n                }\r\n                {user.loggedIn && props.game.scheduled > Date.now() && !reserved &&\r\n                    <div\r\n                        className=\"btn btn-theme\"\r\n                        onClick={onReserve}>\r\n                        Reserve\r\n                    </div>\r\n                }\r\n                {user.loggedIn && props.game.scheduled > Date.now() && reserved &&\r\n                    <div\r\n                        className=\"btn btn-theme\"\r\n                        onClick={onUnreserve}>\r\n                        Unreserve\r\n                    </div>\r\n                }\r\n                {props.game.scheduled > Date.now() && user.id == props.game.hostId &&\r\n                    <div\r\n                        className=\"btn btn-theme-sec\"\r\n                        onClick={onCancel}>\r\n                        Cancel\r\n                    </div>\r\n                }\r\n                {props.game.broken &&\r\n                    <i className=\"fas fa-car-crash review-icon\" title=\"Broken\" />\r\n                }\r\n                {props.game.private &&\r\n                    <i className=\"fas fa-lock review-icon\" title=\"Private\" />\r\n                }\r\n            </div>\r\n            {/* } */}\r\n            <div className=\"player-count-wrapper\">\r\n                <PlayerCount game={props.game} />\r\n            </div>\r\n            <div className=\"setup-wrapper\">\r\n                <Setup\r\n                    setup={props.game.setup}\r\n                    maxRolesCount={props.small ? 3 : 5} />\r\n            </div>\r\n            {!props.small &&\r\n                <div className=\"setup-name\">\r\n                    {props.game.setup.name}\r\n                </div>\r\n            }\r\n            <div className=\"game-infos\">\r\n                {props.game.ranked &&\r\n                    <i\r\n                        className=\"ranked fas fa-chart-bar\"\r\n                        title=\"Ranked game\" />\r\n                }\r\n                {props.game.voiceChat &&\r\n                    <i\r\n                        className=\"voice-chat fas fa-microphone\"\r\n                        title=\"Voice chat game\" />\r\n                }\r\n                {props.game.status == \"Finished\" && user.loggedIn && !props.small &&\r\n                    <i\r\n                        className=\"rehost fas fa-redo\"\r\n                        title=\"Rehost\"\r\n                        onClick={onRehostClick} />\r\n                }\r\n                <i\r\n                    className=\"game-info fas fa-info-circle\"\r\n                    ref={infoRef}\r\n                    onClick={onInfoClick} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction PlayerCount(props) {\r\n    const game = props.game;\r\n    const circles = [];\r\n\r\n    for (let i = 0; i < game.setup.total; i++) {\r\n        circles.push(\r\n            <div\r\n                className={`player-circle ${i < game.players ? \"filled\" : \"\"}`}\r\n                key={i} />\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"player-count\">\r\n            {circles}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Announcements() {\r\n    const [page, setPage] = useState(1);\r\n    const [announcements, setAnnouncements] = useState([]);\r\n\r\n    const errorAlert = useErrorAlert();\r\n    const user = useContext(UserContext);\r\n\r\n    useEffect(() => {\r\n        onPageNav(1);\r\n    }, []);\r\n\r\n    function onPageNav(_page) {\r\n        var filterArg = getPageNavFilterArg(_page, page, announcements, \"date\");\r\n\r\n        if (filterArg == null)\r\n            return;\r\n\r\n        axios.get(`/mod/announcements?${filterArg}`)\r\n            .then(res => {\r\n                if (res.data.length > 0) {\r\n                    setAnnouncements(res.data);\r\n                    setPage(_page);\r\n                }\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    const announcementRows = announcements.map(announcement => (\r\n        <div className=\"announcement\" key={announcement.id}>\r\n            <div className=\"top-row\">\r\n                <NameWithAvatar\r\n                    id={announcement.mod.id}\r\n                    name={announcement.mod.name}\r\n                    avatar={announcement.mod.avatar} />\r\n                <div className=\"date\">\r\n                    <Time\r\n                        minSec\r\n                        millisec={Date.now() - announcement.date}\r\n                        suffix=\" ago\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"content\">\r\n                <UserText\r\n                    text={announcement.content}\r\n                    settings={user.settings}\r\n                    filterProfanity\r\n                    linkify\r\n                    emotify />\r\n            </div>\r\n        </div>\r\n    ));\r\n\r\n    return (\r\n        <div className=\"announcements box-panel\">\r\n            <div className=\"heading\">\r\n                Announcements\r\n            </div>\r\n            <PageNav\r\n                page={page}\r\n                onNav={onPageNav} />\r\n            {announcementRows}\r\n            <PageNav\r\n                page={page}\r\n                onNav={onPageNav} />\r\n        </div>\r\n    );\r\n} ","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport { UserContext, SiteInfoContext } from \"../../../Contexts\";\r\nimport { ButtonGroup, PageNav, SearchBar } from \"../../../components/Nav\";\r\nimport Setup from \"../../../components/Setup\";\r\nimport Form from \"../../../components/Form\";\r\nimport { ItemList, filterProfanity } from \"../../../components/Basic\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\nimport { camelCase } from \"../../../utils\";\r\n\r\nimport \"../../../css/host.css\";\r\nimport { TopBarLink } from \"../Play\";\r\n\r\nexport default function Host(props) {\r\n    const gameType = props.gameType;\r\n    const selSetup = props.selSetup;\r\n    const setSelSetup = props.setSelSetup;\r\n    const formFields = props.formFields;\r\n    const updateFormFields = props.updateFormFields;\r\n    const onHostGame = props.onHostGame;\r\n\r\n    const [listType, setListType] = useState(\"featured\");\r\n    const [page, setPage] = useState(1);\r\n    const [pageCount, setPageCount] = useState(1);\r\n    const [searchVal, setSearchVal] = useState(\"\");\r\n    const [setups, setSetups] = useState([]);\r\n\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    const errorAlert = useErrorAlert();\r\n\r\n    const user = useContext(UserContext);\r\n\r\n    useEffect(() => {\r\n        const params = new URLSearchParams(location.search);\r\n\r\n        if (params.get(\"setup\")) {\r\n            getSetupList(\"id\", 1, params.get(\"setup\"));\r\n\r\n            axios.get(`/setup/${params.get(\"setup\")}`)\r\n                .then(res => {\r\n                    res.data.name = filterProfanity(res.data.name, user.settings);\r\n                    setSelSetup(res.data);\r\n                })\r\n                .catch(errorAlert);\r\n        }\r\n        else\r\n            getSetupList(listType, page)\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        updateFormFields({\r\n            ref: \"setup\",\r\n            prop: \"value\",\r\n            value: selSetup.name\r\n        });\r\n    }, [selSetup]);\r\n\r\n    function getSetupList(listType, page, query) {\r\n        axios.get(`/setup/${camelCase(listType)}?gameType=${props.gameType}&page=${page}&query=${query || \"\"}`)\r\n            .then(res => {\r\n                setListType(listType);\r\n                setPage(page);\r\n                setSetups(res.data.setups);\r\n                setPageCount(res.data.pages);\r\n            });\r\n    }\r\n\r\n    function onHostNavClick(listType) {\r\n        setSearchVal(\"\");\r\n        getSetupList(listType, 1);\r\n    }\r\n\r\n    function onSearchInput(query) {\r\n        setSearchVal(query);\r\n\r\n        if (query.length)\r\n            getSetupList(\"search\", 1, query);\r\n        else\r\n            getSetupList(\"featured\", 1);\r\n    }\r\n\r\n    function onPageNav(page) {\r\n        var args = [listType, page];\r\n\r\n        if (searchVal.length)\r\n            args.push(searchVal);\r\n\r\n        getSetupList(...args);\r\n    }\r\n\r\n    function onFavSetup(favSetup) {\r\n        axios.post(\"/setup/favorite\", { id: favSetup.id })\r\n            .catch(errorAlert);\r\n\r\n        var newSetups = [...setups];\r\n\r\n        for (let i in setups) {\r\n            if (setups[i].id == favSetup.id) {\r\n                newSetups[i].favorite = !setups[i].favorite;\r\n                break;\r\n            }\r\n        }\r\n\r\n        setSetups(newSetups);\r\n    }\r\n\r\n    function onEditSetup(setup) {\r\n        history.push(`/play/create?edit=${setup.id}`);\r\n    }\r\n\r\n    function onDelSetup(setup) {\r\n        axios.post(\"/setup/delete\", { id: setup.id })\r\n            .then(() => {\r\n                getSetupList(listType, page);\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    const hostButtonLabels = [\"Featured\", \"Popular\", \"Ranked\", \"Favorites\", \"Yours\"];\r\n    const hostButtons = hostButtonLabels.map(label => (\r\n        <TopBarLink\r\n            text={label}\r\n            sel={listType}\r\n            onClick={() => onHostNavClick(label)}\r\n            key={label} />\r\n    ));\r\n\r\n    return (\r\n        <div className=\"span-panel main host\">\r\n            <div className=\"top-bar\">\r\n                {hostButtons}\r\n                <SearchBar value={searchVal} placeholder=\"Setup Name\" onInput={onSearchInput} />\r\n            </div>\r\n            <ItemList\r\n                items={setups}\r\n                map={setup => (\r\n                    <SetupRow\r\n                        setup={setup}\r\n                        sel={selSetup}\r\n                        listType={listType}\r\n                        onSelect={setSelSetup}\r\n                        onFav={onFavSetup}\r\n                        onEdit={onEditSetup}\r\n                        onDel={onDelSetup}\r\n                        odd={setups.indexOf(setup) % 2 == 1}\r\n                        key={setup.id} />\r\n                )}\r\n                empty=\"No setups\" />\r\n            <PageNav\r\n                page={page}\r\n                maxPage={pageCount}\r\n                onNav={onPageNav} />\r\n            {user.loggedIn &&\r\n                <Form\r\n                    fields={formFields}\r\n                    onChange={updateFormFields}\r\n                    submitText=\"Host\"\r\n                    onSubmit={onHostGame} />\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nfunction SetupRow(props) {\r\n    const user = useContext(UserContext);\r\n\r\n    let selIconFormat = \"far\";\r\n    let favIconFormat = \"far\";\r\n\r\n    if (props.sel.id == props.setup.id)\r\n        selIconFormat = \"fas\";\r\n\r\n    if (props.setup.favorite)\r\n        favIconFormat = \"fas\";\r\n\r\n    return (\r\n        <div className={`row ${props.odd ? \"odd\" : \"\"}`}>\r\n            {user.loggedIn &&\r\n                <i\r\n                    className={`select-setup fa-circle ${selIconFormat}`}\r\n                    onClick={() => props.onSelect(props.setup)} />\r\n            }\r\n            <div className=\"setup-wrapper\">\r\n                <Setup setup={props.setup} />\r\n            </div>\r\n            <div className=\"setup-name\">\r\n                {props.setup.name}\r\n            </div>\r\n            {user.loggedIn &&\r\n                <i\r\n                    className={`setup-btn fav-setup fa-star ${favIconFormat}`}\r\n                    onClick={() => props.onFav(props.setup)} />\r\n            }\r\n            {user.loggedIn && props.listType == \"Yours\" &&\r\n                <i\r\n                    className={`setup-btn edit-setup fa-pen-square fas`}\r\n                    onClick={() => props.onEdit(props.setup)} />\r\n            }\r\n            {user.loggedIn && props.listType == \"Yours\" &&\r\n                <i\r\n                    className={`setup-btn del-setup fa-times-circle fas`}\r\n                    onClick={() => props.onDel(props.setup)} />\r\n            }\r\n        </div>\r\n    );\r\n}","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport Host from \"./Host\";\r\nimport { useForm } from \"../../../components/Form\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\nimport { SiteInfoContext } from \"../../../Contexts\";\r\nimport { Lobbies } from \"../../../Constants\";\r\n\r\nimport \"../../../css/host.css\"\r\n\r\nexport default function HostMafia() {\r\n    const gameType = \"Mafia\";\r\n    const [selSetup, setSelSetup] = useState({});\r\n    const [redirect, setRedirect] = useState(false);\r\n    const siteInfo = useContext(SiteInfoContext);\r\n\r\n    const defaults = JSON.parse(localStorage.getItem(\"mafiaHostOptions\") || null) ||\r\n        { private: false, guests: false, ranked: false, spectating: false, voiceChat: false, scheduled: false, readyCheck: false, dayLength: 10, nightLength: 2, extendLength: 3 };\r\n    const errorAlert = useErrorAlert();\r\n    const [formFields, updateFormFields] = useForm([\r\n        {\r\n            label: \"Setup\",\r\n            ref: \"setup\",\r\n            type: \"text\",\r\n            disabled: true,\r\n        },\r\n        {\r\n            label: \"Lobby\",\r\n            ref: \"lobby\",\r\n            type: \"select\",\r\n            value: localStorage.getItem(\"lobby\") || \"Main\",\r\n            options: Lobbies.map(lobby => ({ label: lobby, value: lobby })),\r\n        },\r\n        {\r\n            label: \"Private\",\r\n            ref: \"private\",\r\n            type: \"boolean\",\r\n            value: defaults.private,\r\n            showIf: \"!ranked\"\r\n        },\r\n        {\r\n            label: \"Allow Guests\",\r\n            ref: \"guests\",\r\n            type: \"boolean\",\r\n            value: defaults.guests,\r\n            showIf: \"!ranked\"\r\n        },\r\n        {\r\n            label: \"Ranked\",\r\n            ref: \"ranked\",\r\n            type: \"boolean\",\r\n            value: defaults.ranked,\r\n            showIf: [\"!private\", \"!spectating\", \"!voiceChat\", \"!guests\"]\r\n        },\r\n        {\r\n            label: \"Spectating\",\r\n            ref: \"spectating\",\r\n            type: \"boolean\",\r\n            value: defaults.spectating,\r\n            showIf: \"!ranked\"\r\n        },\r\n        // {\r\n        //     label: \"Voice Chat\",\r\n        //     ref: \"voiceChat\",\r\n        //     type: \"boolean\",\r\n        //     value: defaults.voiceChat,\r\n        //     showIf: \"!ranked\"\r\n        // },\r\n        // {\r\n        //     label: \"Scheduled\",\r\n        //     ref: \"scheduled\",\r\n        //     value: defaults.scheduled,\r\n        //     type: \"boolean\"\r\n        // },\r\n        // {\r\n        //     label: \"Start Date\",\r\n        //     ref: \"startDate\",\r\n        //     type: \"datetime-local\",\r\n        //     showIf: \"scheduled\",\r\n        //     value: Date.now() + (6 * 60 * 1000),\r\n        //     min: Date.now() + (6 * 60 * 1000),\r\n        //     max: Date.now() + (4 * 7 * 24 * 60 * 60 * 1000)\r\n        // },\r\n        {\r\n            label: \"Ready Check\",\r\n            ref: \"readyCheck\",\r\n            value: defaults.readyCheck,\r\n            type: \"boolean\"\r\n        },\r\n        {\r\n            label: \"Day Length (minutes)\",\r\n            ref: \"dayLength\",\r\n            type: \"number\",\r\n            value: defaults.dayLength,\r\n            min: 1,\r\n            max: 30\r\n        },\r\n        {\r\n            label: \"Night Length (minutes)\",\r\n            ref: \"nightLength\",\r\n            type: \"number\",\r\n            value: defaults.nightLength,\r\n            min: 1,\r\n            max: 10\r\n        },\r\n        {\r\n            label: \"Extension Length (minutes)\",\r\n            ref: \"extendLength\",\r\n            type: \"number\",\r\n            value: defaults.extendLength,\r\n            min: 1,\r\n            max: 5\r\n        }\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        document.title = \"Host Mafia | BeyondMafia\";\r\n    }, []);\r\n\r\n    function onHostGame() {\r\n        // var scheduled = getFormFieldValue(\"scheduled\");\r\n        var lobby = getFormFieldValue(\"lobby\");\r\n\r\n        if (lobby == \"All\")\r\n            lobby = \"Main\";\r\n\r\n        if (selSetup.id) {\r\n            axios.post(\"/game/host\", {\r\n                gameType,\r\n                lobby,\r\n                setup: selSetup.id,\r\n                private: getFormFieldValue(\"private\"),\r\n                guests: getFormFieldValue(\"guests\"),\r\n                ranked: getFormFieldValue(\"ranked\"),\r\n                spectating: getFormFieldValue(\"spectating\"),\r\n                // voiceChat: getFormFieldValue(\"voiceChat\"),\r\n                // scheduled: scheduled && (new Date(getFormFieldValue(\"startDate\"))).getTime(),\r\n                readyCheck: getFormFieldValue(\"readyCheck\"),\r\n                stateLengths: {\r\n                    \"Day\": getFormFieldValue(\"dayLength\"),\r\n                    \"Night\": getFormFieldValue(\"nightLength\")\r\n                },\r\n                extendLength: getFormFieldValue(\"extendLength\"),\r\n            })\r\n                .then(res => {\r\n                    // if (scheduled) {\r\n                    //     siteInfo.showAlert(`Game scheduled.`, \"success\");\r\n                    //     setRedirect(\"/\");\r\n                    // }\r\n                    // else\r\n                    setRedirect(`/game/${res.data}`);\r\n                })\r\n                .catch(errorAlert);\r\n\r\n            defaults.private = getFormFieldValue(\"private\");\r\n            defaults.guests = getFormFieldValue(\"guests\");\r\n            defaults.ranked = getFormFieldValue(\"ranked\");\r\n            defaults.spectating = getFormFieldValue(\"spectating\");\r\n            // defaults.voiceChat = getFormFieldValue(\"voiceChat\");\r\n            // defaults.scheduled = getFormFieldValue(\"scheduled\");\r\n            defaults.readyCheck = getFormFieldValue(\"readyCheck\");\r\n            defaults.dayLength = getFormFieldValue(\"dayLength\");\r\n            defaults.nightLength = getFormFieldValue(\"nightLength\");\r\n            defaults.extendLength = getFormFieldValue(\"extendLength\");\r\n            localStorage.setItem(\"mafiaHostOptions\", JSON.stringify(defaults));\r\n        }\r\n        else\r\n            errorAlert(\"You must choose a setup\");\r\n    }\r\n\r\n    function getFormFieldValue(ref) {\r\n        for (let field of formFields)\r\n            if (field.ref == ref)\r\n                return field.value;\r\n    }\r\n\r\n    if (redirect)\r\n        return <Redirect to={redirect} />\r\n\r\n    return (\r\n        <Host\r\n            gameType={gameType}\r\n            selSetup={selSetup}\r\n            setSelSetup={setSelSetup}\r\n            formFields={formFields}\r\n            updateFormFields={updateFormFields}\r\n            onHostGame={onHostGame} />\r\n    );\r\n}","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { Redirect, useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport { UserContext, SiteInfoContext } from \"../../../Contexts\";\r\nimport { RoleCount, RoleSearch } from \"../../../components/Roles\";\r\nimport Form from \"../../../components/Form\";\r\nimport LoadingPage from \"../../Loading\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\n\r\nimport \"../../../css/createSetup.css\";\r\n\r\nexport default function CreateSetup(props) {\r\n\tconst gameType = props.gameType;\r\n\tconst formFields = props.formFields;\r\n\tconst updateFormFields = props.updateFormFields;\r\n\tconst closedField = props.closedField;\r\n\tconst resetFormFields = props.resetFormFields;\r\n\tconst formFieldValueMods = props.formFieldValueMods;\r\n\tconst onCreateSetup = props.onCreateSetup;\r\n\r\n\tconst errorAlert = useErrorAlert();\r\n\tconst [selRoleSet, setSelRoleSet] = useState(0);\r\n\tconst [redirect, setRedirect] = useState(\"\");\r\n\tconst [editing, setEditing] = useState(false);\r\n\tconst [modifier, setModifier] = useState(\"None\");\r\n\r\n\tconst location = useLocation();\r\n\tconst params = new URLSearchParams(location.search);\r\n\tconst siteInfo = useContext(SiteInfoContext);\r\n\r\n\tconst [roleData, updateRoleData] = useReducer((roleData, action) => {\r\n\t\tvar newRoleData = { ...roleData };\r\n\r\n\t\tif (action.type != \"reset\" && action.type != \"setClosed\") {\r\n\t\t\tnewRoleData.roles = roleData.roles.slice();\r\n\r\n\t\t\tfor (let i in roleData.roles)\r\n\t\t\t\tnewRoleData.roles[i] = { ...roleData.roles[i] }\r\n\t\t}\r\n\r\n\t\tswitch (action.type) {\r\n\t\t\tcase \"reset\":\r\n\t\t\t\tnewRoleData.roles = [{}];\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"setClosed\":\r\n\t\t\t\tnewRoleData.closed = action.closed;\r\n\r\n\t\t\t\tif (action.closed)\r\n\t\t\t\t\tnewRoleData.roles = newRoleData.roles.slice(0, 1);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"addRole\":\r\n\t\t\t\tvar roleSet = newRoleData.roles[selRoleSet];\r\n\r\n\t\t\t\tif (!roleSet[action.role])\r\n\t\t\t\t\troleSet[action.role] = 0;\r\n\r\n\t\t\t\troleSet[action.role]++;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"removeRole\":\r\n\t\t\t\tvar roleSet = newRoleData.roles[selRoleSet];\r\n\r\n\t\t\t\tif (roleSet[action.role])\r\n\t\t\t\t\troleSet[action.role]--;\r\n\r\n\t\t\t\tif (roleSet[action.role] < 1)\r\n\t\t\t\t\tdelete roleSet[action.role];\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"addRoleSet\":\r\n\t\t\t\tnewRoleData.roles.push({});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"removeRoleSet\":\r\n\t\t\t\tnewRoleData.roles.splice(action.index, 1);\r\n\r\n\t\t\t\tif (action.index == selRoleSet)\r\n\t\t\t\t\tsetSelRoleSet(0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"setFromSetup\":\r\n\t\t\t\tnewRoleData.closed = action.closed;\r\n\t\t\t\tnewRoleData.roles = action.roles;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn newRoleData;\r\n\t}, { roles: [{}], closed: false });\r\n\r\n\tconst user = useContext(UserContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateRoleData({ type: \"setClosed\", closed: closedField.value });\r\n\t}, [closedField.value]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (params.get(\"edit\")) {\r\n\t\t\taxios.get(`/setup/${params.get(\"edit\")}`)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tvar setup = res.data;\r\n\r\n\t\t\t\t\tsetEditing(true);\r\n\r\n\t\t\t\t\tupdateRoleData({\r\n\t\t\t\t\t\ttype: \"setFromSetup\",\r\n\t\t\t\t\t\troles: JSON.parse(setup.roles),\r\n\t\t\t\t\t\tclosed: setup.closed\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tvar formFieldChanges = [];\r\n\r\n\t\t\t\t\tfor (let field of formFields) {\r\n\t\t\t\t\t\tif (setup[field.ref]) {\r\n\t\t\t\t\t\t\tlet value = setup[field.ref];\r\n\r\n\t\t\t\t\t\t\tif (formFieldValueMods[field.ref])\r\n\t\t\t\t\t\t\t\tfor (let valueMod of formFieldValueMods[field.ref])\r\n\t\t\t\t\t\t\t\t\tvalue = valueMod(value);\r\n\r\n\t\t\t\t\t\t\tformFieldChanges.push({\r\n\t\t\t\t\t\t\t\tref: field.ref,\r\n\t\t\t\t\t\t\t\tprop: \"value\",\r\n\t\t\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (setup.closed) {\r\n\t\t\t\t\t\tfor (let alignment in setup.count) {\r\n\t\t\t\t\t\t\tformFieldChanges.push({\r\n\t\t\t\t\t\t\t\tref: `count-${alignment}`,\r\n\t\t\t\t\t\t\t\tprop: \"value\",\r\n\t\t\t\t\t\t\t\tvalue: setup.count[alignment]\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tupdateFormFields(formFieldChanges);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(errorAlert);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tfunction onAddRole(role) {\r\n\t\tupdateRoleData({\r\n\t\t\ttype: \"addRole\",\r\n\t\t\trole: `${role.name}:${modifier != \"None\" ? modifier : \"\"}`,\r\n\t\t\talignment: role.alignment\r\n\t\t});\r\n\t}\r\n\r\n\tfunction onModifierChange(e) {\r\n\t\tvar modifier = e.target.value;\r\n\t\tsetModifier(modifier);\r\n\t}\r\n\r\n\tif (editing && !params.get(\"edit\")) {\r\n\t\tsetEditing(false);\r\n\t\tresetFormFields();\r\n\t\tupdateRoleData({ type: \"reset\" });\r\n\t}\r\n\r\n\tvar roleSets;\r\n\r\n\troleSets = roleData.roles.map((roleSet, i) => {\r\n\t\tlet roles = [];\r\n\r\n\t\tfor (let role in roleSet) {\r\n\t\t\troles.push(\r\n\t\t\t\t<RoleCount\r\n\t\t\t\t\trole={role}\r\n\t\t\t\t\tcount={roleSet[role]}\r\n\t\t\t\t\tgameType={gameType}\r\n\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\tupdateRoleData({\r\n\t\t\t\t\t\t\t\ttype: \"removeRole\",\r\n\t\t\t\t\t\t\t\trole: role\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tkey={role} />\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<RoleSetRow\r\n\t\t\t\troles={roles}\r\n\t\t\t\tindex={i}\r\n\t\t\t\tsel={selRoleSet}\r\n\t\t\t\tonClick={() => setSelRoleSet(i)}\r\n\t\t\t\tonDelete={\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\tupdateRoleData({\r\n\t\t\t\t\t\t\ttype: \"removeRoleSet\",\r\n\t\t\t\t\t\t\tindex: i\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tkey={i} />\r\n\t\t);\r\n\t});\r\n\r\n\tvar modifiers = siteInfo.roles ? siteInfo.roles[\"Modifiers\"][gameType] : [];\r\n\r\n\tmodifiers = modifiers.map(modifier => (\r\n\t\t<option value={modifier} key={modifier}>\r\n\t\t\t{modifier}\r\n\t\t</option>\r\n\t));\r\n\r\n\tmodifiers.unshift((\r\n\t\t<option value=\"None\" key={\"None\"}>\r\n\t\t\tNone\r\n\t\t</option>\r\n\t));\r\n\r\n\tif ((params.get(\"edit\") && !editing))\r\n\t\treturn <LoadingPage />;\r\n\r\n\treturn (\r\n\t\t<div className=\"span-panel main create-setup\">\r\n\t\t\t<RoleSearch\r\n\t\t\t\tonAddClick={onAddRole}\r\n\t\t\t\tgameType={gameType} />\r\n\t\t\t{user.loggedIn &&\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"creation-options\">\r\n\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\tfields={formFields}\r\n\t\t\t\t\t\t\tonChange={updateFormFields}\r\n\t\t\t\t\t\t\tsubmitText={editing ? \"Edit\" : \"Create\"}\r\n\t\t\t\t\t\t\tonSubmit={() => onCreateSetup(roleData, editing, setRedirect)} />\r\n\t\t\t\t\t\t<div className=\"rolesets-wrapper\">\r\n\t\t\t\t\t\t\t<div className=\"form\">\r\n\t\t\t\t\t\t\t\t<div className=\"field-wrapper\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\t\t\t\tRole Modifier\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tvalue={modifier}\r\n\t\t\t\t\t\t\t\t\t\tonChange={onModifierChange}>\r\n\t\t\t\t\t\t\t\t\t\t{modifiers}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"rolesets\">\r\n\t\t\t\t\t\t\t\t{roleSets}\r\n\t\t\t\t\t\t\t\t{!roleData.closed && roleData.roles.length < 10 &&\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"add-roleset fa-plus-circle fas\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateRoleData({ type: \"addRoleSet\" })} />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\r\n\t\t\t}\r\n\t\t\t{redirect &&\r\n\t\t\t\t<Redirect to={`/play/host/?setup=${redirect}`} />\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction RoleSetRow(props) {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`roleset ${props.sel == props.index ? \"sel\" : \"\"}`}\r\n\t\t\tonClick={props.onClick}>\r\n\t\t\t{props.roles}\r\n\t\t\t{props.index > 0 &&\r\n\t\t\t\t<i\r\n\t\t\t\t\tclassName=\"del-roleset fa-times-circle fas\"\r\n\t\t\t\t\tonClick={props.onDelete} />\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}","import React, { useContext, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport CreateSetup from \"./CreateSetup\";\r\nimport { SiteInfoContext } from \"../../../Contexts\";\r\nimport { useForm } from \"../../../components/Form\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\n\r\nexport default function CreateMafiaSetup() {\r\n\tconst gameType = \"Mafia\";\r\n\tconst location = useLocation();\r\n\tconst params = new URLSearchParams(location.search);\r\n\tconst errorAlert = useErrorAlert();\r\n\tconst [formFields, updateFormFields, resetFormFields] = useForm([\r\n\t\t{\r\n\t\t\tlabel: \"Setup Name\",\r\n\t\t\tref: \"name\",\r\n\t\t\ttype: \"text\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Day Start\",\r\n\t\t\tref: \"startState\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Dawn\",\r\n\t\t\tref: \"dawn\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Whispers\",\r\n\t\t\tref: \"whispers\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Whisper Leak Percentage\",\r\n\t\t\tref: \"leakPercentage\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"5\",\r\n\t\t\tmin: \"0\",\r\n\t\t\tmax: \"100\",\r\n\t\t\tshowIf: \"whispers\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Last Wills\",\r\n\t\t\tref: \"lastWill\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Must Act\",\r\n\t\t\tref: \"mustAct\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"No Reveal\",\r\n\t\t\tref: \"noReveal\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Votes Invisible\",\r\n\t\t\tref: \"votesInvisible\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Closed Roles\",\r\n\t\t\tref: \"closed\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Unique Roles\",\r\n\t\t\tref: \"unique\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Village Count\",\r\n\t\t\tref: \"count-Village\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"7\",\r\n\t\t\tmin: \"0\",\r\n\t\t\tmax: \"50\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Mafia Count\",\r\n\t\t\tref: \"count-Mafia\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"3\",\r\n\t\t\tmin: \"0\",\r\n\t\t\tmax: \"50\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Monsters Count\",\r\n\t\t\tref: \"count-Monsters\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"0\",\r\n\t\t\tmin: \"0\",\r\n\t\t\tmax: \"50\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Independent Count\",\r\n\t\t\tref: \"count-Independent\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"2\",\r\n\t\t\tmin: \"0\",\r\n\t\t\tmax: \"50\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t}\r\n\t]);\r\n\r\n\tconst formFieldValueMods = {\r\n\t\tstartState: [\r\n\t\t\tvalue => value == \"Day\"\r\n\t\t]\r\n\t};\r\n\r\n\tconst siteInfo = useContext(SiteInfoContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Create Mafia Setup | BeyondMafia\";\r\n\t}, []);\r\n\r\n\tfunction onCreateSetup(roleData, editing, setRedirect) {\r\n\t\taxios.post(\"/setup/create\", {\r\n\t\t\tgameType: gameType,\r\n\t\t\troles: roleData.roles,\r\n\t\t\tclosed: roleData.closed,\r\n\t\t\tname: formFields[0].value,\r\n\t\t\tstartState: formFields[1].value ? \"Day\" : \"Night\",\r\n\t\t\tdawn: formFields[2].value,\r\n\t\t\twhispers: formFields[3].value,\r\n\t\t\tleakPercentage: Number(formFields[4].value),\r\n\t\t\tlastWill: formFields[5].value,\r\n\t\t\tmustAct: formFields[6].value,\r\n\t\t\tnoReveal: formFields[7].value,\r\n\t\t\tvotesInvisible: formFields[8].value,\r\n\t\t\tunique: formFields[10].value,\r\n\t\t\tcount: {\r\n\t\t\t\t\"Village\": Number(formFields[11].value),\r\n\t\t\t\t\"Mafia\": Number(formFields[12].value),\r\n\t\t\t\t\"Monsters\": Number(formFields[13].value),\r\n\t\t\t\t\"Independent\": Number(formFields[14].value)\r\n\t\t\t},\r\n\t\t\tediting: editing,\r\n\t\t\tid: params.get(\"edit\")\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tsiteInfo.showAlert(`${editing ? \"Edited\" : \"Created\"} setup '${formFields[0].value}'`, \"success\");\r\n\t\t\t\tsetRedirect(res.data);\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<CreateSetup\r\n\t\t\tgameType={gameType}\r\n\t\t\tformFields={formFields}\r\n\t\t\tupdateFormFields={updateFormFields}\r\n\t\t\tresetFormFields={resetFormFields}\r\n\t\t\tclosedField={formFields[9]}\r\n\t\t\tformFieldValueMods={formFieldValueMods}\r\n\t\t\tonCreateSetup={onCreateSetup} />\r\n\t);\r\n}","\r\nimport React, { useEffect } from \"react\";\r\n\r\nimport { RoleSearch } from \"../../../components/Roles\";\r\nimport { PanelGrid } from \"../../../components/Basic\";\r\n\r\nimport \"../../../css/learn.css\";\r\n\r\nexport default function LearnMafia(props) {\r\n\tconst gameType = \"Mafia\";\r\n\r\n\tvar items = [\r\n\t\t{\r\n\t\t\tname: \"Gun\",\r\n\t\t\ttext: \"Can be shot once during the day to kill a specific player.\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Armor\",\r\n\t\t\ttext: \"Saves a player from being killed one time, not including being executed.\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Bomb\",\r\n\t\t\ttext: \"When a player is killed while holding a bomb, the player who killed them will also die.\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Crystal\",\r\n\t\t\ttext: \"The holder of the crystal can choose a person each night and if they die, their target's role will be revealed.\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Knife\",\r\n\t\t\ttext: \"Can be used once during the day to stab a specific player, who will bleed out and die the following night.\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Snowball\",\r\n\t\t\ttext: \"Can be used once during the day to freeze a specific player, who will be roleblocked the following night.\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Key\",\r\n\t\t\ttext: \"Can be used once during the night to make the player untargetable. All actions on the player are cancelled\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Bread\",\r\n\t\t\ttext: \"Given out by the baker. Counts as 1 ration for each phase in a famine.\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Yuzu Orange\",\r\n\t\t\ttext: \"Given out by the Capybara to invite players to relax at the hot springs. Counts as 1 ration for each phase in a famine.\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Suit\",\r\n\t\t\ttext: \"Given by the tailor, a suit determines what role a user will appear as once dead.\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Gasoline\",\r\n\t\t\ttext: \"Used by the arsonist to douse their victims in preparation for their ignition.\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Match\",\r\n\t\t\ttext: \"Used by the arsonist to ignite everyone doused with gasoline.\",\r\n\t\t},\r\n\t];\r\n\r\n\tvar mechanics = [\r\n\t\t{\r\n\t\t\tname: \"Whispers\",\r\n\t\t\ttext: \"Allow players to privately contact another player in the town meeting. If the whisper leaks then everyone will see it.\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Last Wills\",\r\n\t\t\ttext: \"Allow players to write a message that will be revealed when they die.\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Must Act\",\r\n\t\t\ttext: \"Players cannot select 'no one' for their actions.\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"No Reveal\",\r\n\t\t\ttext: \"The roles of dead players are not revealed.\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Closed Roles\",\r\n\t\t\ttext: \"Roles for each alignment are randomly chosen from the pool of roles in the setup.\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Dawn\",\r\n\t\t\ttext: \"No actions can be taken the first night.\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Full Moon\",\r\n\t\t\ttext: \"When a Lycan or Werewolf is present in the game, full moons will occur on odd nights.\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Eclipse\",\r\n\t\t\ttext: \"Occurs during the day due to certain roles, making all votes and speech anonymous.\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Famine\",\r\n\t\t\ttext: \"While active, each player consumes one item of food each day/night. Anyone who doesn't have food to consume dies.\"\r\n\t\t},\r\n\t];\r\n\r\n\tvar modifiers = [\r\n\t\t{\r\n\t\t\tname: \"Armed\",\r\n\t\t\ttext: \"Starts with a gun.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Armed\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Explosive\",\r\n\t\t\ttext: \"Starts with a bomb.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Explosive\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Armored\",\r\n\t\t\ttext: \"Starts with armor.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Armored\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Exposed\",\r\n\t\t\ttext: \"Starts revealed to everyone.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Exposed\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Chameleon\",\r\n\t\t\ttext: \"Appears as a Villager to investigative roles.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Chameleon\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Humble\",\r\n\t\t\ttext: \"Appears as Villager to self with no modifier.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Humble\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Scatterbrained\",\r\n\t\t\ttext: \"Appears as Visitor (if Village-aligned) or Trespasser (if Mafia-aligned) to self with no modifier.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Scatterbrained\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Lone\",\r\n\t\t\ttext: \"Does not attend the Mafia or Monsters meeting.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Lone\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Solitary\",\r\n\t\t\ttext: \"Does not attend the Cop or Templar meetings.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Solitary\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Delayed\",\r\n\t\t\ttext: \"Cannot attend secondary meetings for the first day and night.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Delayed\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Even\",\r\n\t\t\ttext: \"Can only attend secondary meetings on even days and nights.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Even\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Odd\",\r\n\t\t\ttext: \"Can only attend secondary meetings on odd days and nights.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Odd\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"One Shot\",\r\n\t\t\ttext: \"Can only perform actions once.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-One-Shot\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Bloodthirsty\",\r\n\t\t\ttext: \"Needs to kill other players to stay alive.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Bloodthirsty\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Loud\",\r\n\t\t\ttext: \"All reports recieved are announced to everyone, with the player's role revealed.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Loud\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Astral\",\r\n\t\t\ttext: \"All actions done by this player do not appear as visits.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Astral\" />\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Unblockable\",\r\n\t\t\ttext: \"All actions done by this player cannot be roleblocked or controlled.\",\r\n\t\t\ticon: <div className=\"icon modifier modifier-Mafia-Unblockable\" />\r\n\t\t},\r\n\t];\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Learn Mafia | BeyondMafia\";\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"span-panel main\">\r\n\t\t\t<div className=\"learn\">\r\n\t\t\t\t<div className=\"heading\">\r\n\t\t\t\t\tSynopsis\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"paragraphs\">\r\n\t\t\t\t\t<div className=\"paragraph\">\r\n\t\t\t\t\t\tMafia is a game of social deception where an informed minority (the Mafia) compete against the uniformed majority (the Village).\r\n\t\t\t\t\t\tThe Mafia choose one player to kill each night, and they win the game if they successfully outnumber the non-mafia players at any point.\r\n\t\t\t\t\t\tEveryone votes to execute one person during the day, with the Village aiming to eliminate all mafia members.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"paragraph\">\r\n\t\t\t\t\t\tIn addition to the Village and the Mafia, there are two other alignments: Independent and Monsters. Independents are not aligned with a side and usually have their own unique win condition.\r\n\t\t\t\t\t\tMonsters meet together and win if they reach the majority just like the mafia, but they do not vote to kill someone each night.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"paragraph\">\r\n\t\t\t\t\t\tAt the beginning of a game, each player is given a role. This role may grant the player special abilities, usually in the form of actions they can take to aid their side.\r\n\t\t\t\t\t\tA list of all roles and their abilities can be found below.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"heading\">\r\n\t\t\t\t\tRoles\r\n\t\t\t\t</div>\r\n\t\t\t\t<RoleSearch gameType={gameType} />\r\n\t\t\t\t<div className=\"heading\">\r\n\t\t\t\t\tItems\r\n\t\t\t\t</div>\r\n\t\t\t\t<PanelGrid panels={items} />\r\n\t\t\t\t<div className=\"heading\">\r\n\t\t\t\t\tMechanics\r\n\t\t\t\t</div>\r\n\t\t\t\t<PanelGrid panels={mechanics} />\r\n\t\t\t\t<div className=\"heading\">\r\n\t\t\t\t\tModifiers\r\n\t\t\t\t</div>\r\n\t\t\t\t<PanelGrid panels={modifiers} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport Host from \"./Host\";\r\nimport { useForm } from \"../../../components/Form\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\nimport { SiteInfoContext } from \"../../../Contexts\";\r\nimport { Lobbies } from \"../../../Constants\";\r\n\r\nimport \"../../../css/host.css\"\r\n\r\nexport default function HostSplitDecision() {\r\n    const gameType = \"Split Decision\";\r\n    const [selSetup, setSelSetup] = useState({});\r\n    const [redirect, setRedirect] = useState(false);\r\n    const siteInfo = useContext(SiteInfoContext);\r\n    const errorAlert = useErrorAlert();\r\n    const [formFields, updateFormFields] = useForm([\r\n        {\r\n            label: \"Setup\",\r\n            ref: \"setup\",\r\n            type: \"text\",\r\n            disabled: true,\r\n        },\r\n        {\r\n            label: \"Lobby\",\r\n            ref: \"lobby\",\r\n            type: \"select\",\r\n            value: localStorage.getItem(\"lobby\") || \"Main\",\r\n            options: Lobbies.map(lobby => ({ label: lobby, value: lobby })),\r\n        },\r\n        {\r\n            label: \"Private\",\r\n            ref: \"private\",\r\n            type: \"boolean\"\r\n        },\r\n        {\r\n            label: \"Allow Guests\",\r\n            ref: \"guests\",\r\n            type: \"boolean\"\r\n        },\r\n        {\r\n            label: \"Spectating\",\r\n            ref: \"spectating\",\r\n            type: \"boolean\"\r\n        },\r\n        // {\r\n        //     label: \"Voice Chat\",\r\n        //     ref: \"voiceChat\",\r\n        //     type: \"boolean\"\r\n        // },\r\n        {\r\n            label: \"Scheduled\",\r\n            ref: \"scheduled\",\r\n            type: \"boolean\"\r\n        },\r\n        {\r\n            label: \"Ready Check\",\r\n            ref: \"readyCheck\",\r\n            type: \"boolean\"\r\n        },\r\n        {\r\n            label: \"Start Date\",\r\n            ref: \"startDate\",\r\n            type: \"datetime-local\",\r\n            showIf: \"scheduled\",\r\n            value: Date.now() + (6 * 60 * 1000),\r\n            min: Date.now() + (6 * 60 * 1000),\r\n            max: Date.now() + (4 * 7 * 24 * 60 * 60 * 1000)\r\n        },\r\n        {\r\n            label: \"Initial Round Length (minutes)\",\r\n            ref: \"initRoundLength\",\r\n            type: \"number\",\r\n            value: 3,\r\n            min: 1,\r\n            max: 5\r\n        },\r\n        {\r\n            label: \"Hostage Swap Length (minutes)\",\r\n            ref: \"hostageSwapLength\",\r\n            type: \"number\",\r\n            value: 0.5,\r\n            min: 0.1,\r\n            max: 1,\r\n            step: 0.1\r\n        },\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        document.title = \"Host Split Decision | BeyondMafia\";\r\n    }, []);\r\n\r\n    function onHostGame() {\r\n        var scheduled = formFields[6].value;\r\n\r\n        if (selSetup.id)\r\n            axios.post(\"/game/host\", {\r\n                gameType: gameType,\r\n                setup: selSetup.id,\r\n                lobby: getFormFieldValue(\"lobby\"),\r\n                private: getFormFieldValue(\"private\"),\r\n                guests: getFormFieldValue(\"guests\"),\r\n                ranked: getFormFieldValue(\"ranked\"),\r\n                spectating: getFormFieldValue(\"spectating\"),\r\n                // voiceChat: getFormFieldValue(\"voiceChat\"),\r\n                scheduled: scheduled && (new Date(getFormFieldValue(\"startDate\"))).getTime(),\r\n                readyCheck: getFormFieldValue(\"readyCheck\"),\r\n                stateLengths: {\r\n                    \"Initial Round\": getFormFieldValue(\"initialRoundLength\"),\r\n                    \"Hostage Swap\": getFormFieldValue(\"hostageSwapLength\")\r\n                }\r\n            })\r\n                .then(res => {\r\n                    if (scheduled) {\r\n                        siteInfo.showAlert(`Game scheduled.`, \"success\");\r\n                        setRedirect(\"/\");\r\n                    }\r\n                    else\r\n                        setRedirect(`/game/${res.data}`);\r\n                })\r\n                .catch(errorAlert);\r\n        else\r\n            errorAlert(\"You must choose a setup\");\r\n    }\r\n\r\n    function getFormFieldValue(ref) {\r\n        for (let field of formFields)\r\n            if (field.ref == ref)\r\n                return field.value;\r\n    }\r\n\r\n    if (redirect)\r\n        return <Redirect to={redirect} />\r\n\r\n    return (\r\n        <Host\r\n            gameType={gameType}\r\n            selSetup={selSetup}\r\n            setSelSetup={setSelSetup}\r\n            formFields={formFields}\r\n            updateFormFields={updateFormFields}\r\n            onHostGame={onHostGame} />\r\n    );\r\n}","import React, { useContext, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport CreateSetup from \"./CreateSetup\";\r\nimport { SiteInfoContext } from \"../../../Contexts\";\r\nimport { useForm } from \"../../../components/Form\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\n\r\nexport default function CreateSplitDecisionSetup() {\r\n\tconst gameType = \"Split Decision\";\r\n\tconst location = useLocation();\r\n\tconst params = new URLSearchParams(location.search);\r\n\tconst errorAlert = useErrorAlert();\r\n\tconst [formFields, updateFormFields, resetFormFields] = useForm([\r\n\t\t{\r\n\t\t\tlabel: \"Setup Name\",\r\n\t\t\tref: \"name\",\r\n\t\t\ttype: \"text\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Initial Swap Amount\",\r\n\t\t\tref: \"swapAmt\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"1\",\r\n\t\t\tmin: \"1\",\r\n\t\t\tmax: \"24\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Round Amount\",\r\n\t\t\tref: \"aroundAmt\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: 3,\r\n\t\t\tmin: 2,\r\n\t\t\tmax: 10\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Whispers\",\r\n\t\t\tref: \"whispers\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Whisper Leak Percentage\",\r\n\t\t\tref: \"leakPercentage\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"5\",\r\n\t\t\tmin: \"0\",\r\n\t\t\tmax: \"100\",\r\n\t\t\tshowIf: \"whispers\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Closed Roles\",\r\n\t\t\tref: \"closed\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Unique Roles\",\r\n\t\t\tref: \"unique\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Blue Count\",\r\n\t\t\tref: \"count-Blue\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"4\",\r\n\t\t\tmin: \"1\",\r\n\t\t\tmax: \"50\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Red Count\",\r\n\t\t\tref: \"count-Red\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"4\",\r\n\t\t\tmin: \"1\",\r\n\t\t\tmax: \"50\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Independent Count\",\r\n\t\t\tref: \"count-Independent\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"1\",\r\n\t\t\tmin: \"0\",\r\n\t\t\tmax: \"50\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t}\r\n\t]);\r\n\tconst formFieldValueMods = {};\r\n\r\n\tconst siteInfo = useContext(SiteInfoContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Create Split Decision Setup | BeyondMafia\";\r\n\t}, []);\r\n\r\n\tfunction onCreateSetup(roleData, editing, setRedirect) {\r\n\t\taxios.post(\"/setup/create\", {\r\n\t\t\tgameType: gameType,\r\n\t\t\troles: roleData.roles,\r\n\t\t\tclosed: roleData.closed,\r\n\t\t\tname: formFields[0].value,\r\n\t\t\tstartState: \"Round\",\r\n\t\t\tswapAmt: Number(formFields[1].value),\r\n\t\t\troundAmt: Number(formFields[2].value),\r\n\t\t\twhispers: formFields[3].value,\r\n\t\t\tleakPercentage: Number(formFields[4].value),\r\n\t\t\tunique: formFields[6].value,\r\n\t\t\tcount: {\r\n\t\t\t\t\"Red\": Number(formFields[7].value),\r\n\t\t\t\t\"Blue\": Number(formFields[8].value),\r\n\t\t\t\t\"Independent\": Number(formFields[9].value)\r\n\t\t\t},\r\n\t\t\tediting: editing,\r\n\t\t\tid: params.get(\"edit\")\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tsiteInfo.showAlert(`${editing ? \"Edited\" : \"Created\"} setup '${formFields[0].value}'`, \"success\");\r\n\t\t\t\tsetRedirect(res.data);\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<CreateSetup\r\n\t\t\tgameType={gameType}\r\n\t\t\tformFields={formFields}\r\n\t\t\tupdateFormFields={updateFormFields}\r\n\t\t\tresetFormFields={resetFormFields}\r\n\t\t\tclosedField={formFields[5]}\r\n\t\t\tformFieldValueMods={formFieldValueMods}\r\n\t\t\tonCreateSetup={onCreateSetup} />\r\n\t);\r\n}","\r\nimport React, { useEffect } from \"react\";\r\n\r\nimport { RoleSearch } from \"../../../components/Roles\";\r\nimport { PanelGrid } from \"../../../components/Basic\";\r\n\r\nimport \"../../../css/learn.css\"\r\n\r\nexport default function LearnSplitDecision(props) {\r\n\tconst gameType = \"Split Decision\";\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Learn Split Decision | BeyondMafia\";\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"span-panel main\">\r\n\t\t\t<div className=\"learn\">\r\n\t\t\t\t<div className=\"heading\">\r\n\t\t\t\t\tSynopsis\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"paragraphs\">\r\n\t\t\t\t\t<div className=\"paragraph\">\r\n\t\t\t\t\t\tBased on the card game <a href=\"https://www.tuesdayknightgames.com/tworoomsandaboom\" target=\"_blank\">2 Rooms and a Boom</a> by Tudesday Knight Games.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"paragraph\">\r\n\t\t\t\t\t\tIn Split Decision, all players are randomly a split among two rooms, as well as split among two teams: Red and Blue. One player is assigned the role of President, and another is the Bomber.\r\n\t\t\t\t\t\tThe game plays over a series of rounds, and in each round each room will elect a leader. Those leaders will then meet together and choose one or more players (the hostages) to swap between the rooms for the next round.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"paragraph\">\r\n\t\t\t\t\t\tAs the game progresses the rounds will get shorter and the number of players swapped between rooms will decrease.\r\n\t\t\t\t\t\tIt is the goal of the Red team for the President and the Bomber to end up in the same room after the last round.\r\n\t\t\t\t\t\tIt is the goal of the Blue team for them to end up in different rooms.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"heading\">\r\n\t\t\t\t\tRoles\r\n\t\t\t\t</div>\r\n\t\t\t\t<RoleSearch gameType={gameType} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport Host from \"./Host\";\r\nimport { useForm } from \"../../../components/Form\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\nimport { SiteInfoContext } from \"../../../Contexts\";\r\nimport { Lobbies } from \"../../../Constants\";\r\n\r\nimport \"../../../css/host.css\"\r\n\r\nexport default function HostResistance() {\r\n    const gameType = \"Resistance\";\r\n    const [selSetup, setSelSetup] = useState({});\r\n    const [redirect, setRedirect] = useState(false);\r\n    const siteInfo = useContext(SiteInfoContext);\r\n    const errorAlert = useErrorAlert();\r\n    const [formFields, updateFormFields] = useForm([\r\n        {\r\n            label: \"Setup\",\r\n            ref: \"setup\",\r\n            type: \"text\",\r\n            disabled: true,\r\n        },\r\n        {\r\n            label: \"Lobby\",\r\n            ref: \"lobby\",\r\n            type: \"select\",\r\n            value: localStorage.getItem(\"lobby\") || \"Main\",\r\n            options: Lobbies.map(lobby => ({ label: lobby, value: lobby })),\r\n        },\r\n        {\r\n            label: \"Private\",\r\n            ref: \"private\",\r\n            type: \"boolean\"\r\n        },\r\n        {\r\n            label: \"Allow Guests\",\r\n            ref: \"guests\",\r\n            type: \"boolean\"\r\n        },\r\n        {\r\n            label: \"Spectating\",\r\n            ref: \"spectating\",\r\n            type: \"boolean\"\r\n        },\r\n        // {\r\n        //     label: \"Voice Chat\",\r\n        //     ref: \"voiceChat\",\r\n        //     type: \"boolean\"\r\n        // },\r\n        {\r\n            label: \"Scheduled\",\r\n            ref: \"scheduled\",\r\n            type: \"boolean\"\r\n        },\r\n        {\r\n            label: \"Ready Check\",\r\n            ref: \"readyCheck\",\r\n            type: \"boolean\"\r\n        },\r\n        {\r\n            label: \"Start Date\",\r\n            ref: \"startDate\",\r\n            type: \"datetime-local\",\r\n            showIf: \"scheduled\",\r\n            value: Date.now() + (6 * 60 * 1000),\r\n            min: Date.now() + (6 * 60 * 1000),\r\n            max: Date.now() + (4 * 7 * 24 * 60 * 60 * 1000)\r\n        },\r\n        {\r\n            label: \"Team Selection Length (minutes)\",\r\n            ref: \"teamSelLength\",\r\n            type: \"number\",\r\n            value: 2,\r\n            min: 1,\r\n            max: 5\r\n        },\r\n        {\r\n            label: \"Team Approval Length (minutes)\",\r\n            ref: \"teamApprovalLength\",\r\n            type: \"number\",\r\n            value: 0.5,\r\n            min: 0.1,\r\n            max: 2,\r\n            step: 0.1\r\n        },\r\n        {\r\n            label: \"Mission Length (minutes)\",\r\n            ref: \"missionLength\",\r\n            type: \"number\",\r\n            value: 0.5,\r\n            min: 0.1,\r\n            max: 1,\r\n            step: 0.1\r\n        },\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        document.title = \"Host Resistance | BeyondMafia\";\r\n    }, []);\r\n\r\n    function onHostGame() {\r\n        var scheduled = formFields[6].value;\r\n\r\n        if (selSetup.id)\r\n            axios.post(\"/game/host\", {\r\n                gameType: gameType,\r\n                setup: selSetup.id,\r\n                lobby: getFormFieldValue(\"lobby\"),\r\n                private: getFormFieldValue(\"private\"),\r\n                guests: getFormFieldValue(\"guests\"),\r\n                spectating: getFormFieldValue(\"spectating\"),\r\n                // voiceChat: getFormFieldValue(\"voiceChat\"),\r\n                scheduled: scheduled && (new Date(getFormFieldValue(\"startDate\"))).getTime(),\r\n                readyCheck: getFormFieldValue(\"readyCheck\"),\r\n                stateLengths: {\r\n                    \"Team Selection\": getFormFieldValue(\"teamSelLength\"),\r\n                    \"Team Approval\": getFormFieldValue(\"teamApprovalLength\"),\r\n                    \"Mission\": getFormFieldValue(\"missionLength\"),\r\n                }\r\n            })\r\n                .then(res => {\r\n                    if (scheduled) {\r\n                        siteInfo.showAlert(`Game scheduled.`, \"success\");\r\n                        setRedirect(\"/\");\r\n                    }\r\n                    else\r\n                        setRedirect(`/game/${res.data}`)\r\n                })\r\n                .catch(errorAlert);\r\n        else\r\n            errorAlert(\"You must choose a setup\");\r\n    }\r\n\r\n    function getFormFieldValue(ref) {\r\n        for (let field of formFields)\r\n            if (field.ref == ref)\r\n                return field.value;\r\n    }\r\n\r\n    if (redirect)\r\n        return <Redirect to={redirect} />\r\n\r\n    return (\r\n        <Host\r\n            gameType={gameType}\r\n            selSetup={selSetup}\r\n            setSelSetup={setSelSetup}\r\n            formFields={formFields}\r\n            updateFormFields={updateFormFields}\r\n            onHostGame={onHostGame} />\r\n    );\r\n}","import React, { useContext, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport CreateSetup from \"./CreateSetup\";\r\nimport { SiteInfoContext } from \"../../../Contexts\";\r\nimport { useForm } from \"../../../components/Form\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\n\r\nexport default function CreateResistanceSetup() {\r\n\tconst gameType = \"Resistance\";\r\n\tconst location = useLocation();\r\n\tconst params = new URLSearchParams(location.search);\r\n\tconst errorAlert = useErrorAlert();\r\n\tconst [formFields, updateFormFields, resetFormFields] = useForm([\r\n\t\t{\r\n\t\t\tlabel: \"Setup Name\",\r\n\t\t\tref: \"name\",\r\n\t\t\ttype: \"text\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"First Team Size\",\r\n\t\t\tref: \"firstTeamSize\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"2\",\r\n\t\t\tmin: \"2\",\r\n\t\t\tmax: \"49\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Last Team Size\",\r\n\t\t\tref: \"lastTeamSize\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"4\",\r\n\t\t\tmin: \"2\",\r\n\t\t\tmax: \"49\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Number of Missions\",\r\n\t\t\tref: \"numMissions\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"5\",\r\n\t\t\tmin: \"2\",\r\n\t\t\tmax: \"10\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Team Formation Attempts\",\r\n\t\t\tref: \"teamFailLimit\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"5\",\r\n\t\t\tmin: \"1\",\r\n\t\t\tmax: \"49\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Whispers\",\r\n\t\t\tref: \"whispers\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Whisper Leak Percentage\",\r\n\t\t\tref: \"leakPercentage\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"5\",\r\n\t\t\tmin: \"0\",\r\n\t\t\tmax: \"100\",\r\n\t\t\tshowIf: \"whispers\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Closed Roles\",\r\n\t\t\tref: \"closed\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Unique Roles\",\r\n\t\t\tref: \"unique\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Resistance Count\",\r\n\t\t\tref: \"count-Resistance\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"3\",\r\n\t\t\tmin: \"2\",\r\n\t\t\tmax: \"49\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Spies Count\",\r\n\t\t\tref: \"count-Spies\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"2\",\r\n\t\t\tmin: \"1\",\r\n\t\t\tmax: \"49\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t},\r\n\t]);\r\n\tconst formFieldValueMods = {};\r\n\r\n\tconst siteInfo = useContext(SiteInfoContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Create Resistance Setup | BeyondMafia\";\r\n\t}, []);\r\n\r\n\tfunction onCreateSetup(roleData, editing, setRedirect) {\r\n\t\taxios.post(\"/setup/create\", {\r\n\t\t\tgameType: gameType,\r\n\t\t\troles: roleData.roles,\r\n\t\t\tclosed: roleData.closed,\r\n\t\t\tname: formFields[0].value,\r\n\t\t\tstartState: \"Team Selection\",\r\n\t\t\tfirstTeamSize: Number(formFields[1].value),\r\n\t\t\tlastTeamSize: Number(formFields[2].value),\r\n\t\t\tnumMissions: Number(formFields[3].value),\r\n\t\t\tteamFailLimit: Number(formFields[4].value),\r\n\t\t\twhispers: formFields[5].value,\r\n\t\t\tleakPercentage: Number(formFields[6].value),\r\n\t\t\tunique: formFields[8].value,\r\n\t\t\tcount: {\r\n\t\t\t\t\"Resistance\": Number(formFields[9].value),\r\n\t\t\t\t\"Spies\": Number(formFields[10].value),\r\n\t\t\t},\r\n\t\t\tediting: editing,\r\n\t\t\tid: params.get(\"edit\")\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tsiteInfo.showAlert(`${editing ? \"Edited\" : \"Created\"} setup '${formFields[0].value}'`, \"success\");\r\n\t\t\t\tsetRedirect(res.data);\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<CreateSetup\r\n\t\t\tgameType={gameType}\r\n\t\t\tformFields={formFields}\r\n\t\t\tupdateFormFields={updateFormFields}\r\n\t\t\tresetFormFields={resetFormFields}\r\n\t\t\tclosedField={formFields[7]}\r\n\t\t\tformFieldValueMods={formFieldValueMods}\r\n\t\t\tonCreateSetup={onCreateSetup} />\r\n\t);\r\n}","\r\nimport React, { useEffect } from \"react\";\r\n\r\nimport { RoleSearch } from \"../../../components/Roles\";\r\nimport { PanelGrid } from \"../../../components/Basic\";\r\n\r\nimport \"../../../css/learn.css\"\r\n\r\nexport default function LearnResistance(props) {\r\n\tconst gameType = \"Resistance\";\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Learn Resistance | BeyondMafia\";\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"span-panel main\">\r\n\t\t\t<div className=\"learn\">\r\n\t\t\t\t<div className=\"heading\">\r\n\t\t\t\t\tSynopsis\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"paragraphs\">\r\n\t\t\t\t\t<div className=\"paragraph\">\r\n\t\t\t\t\t\tBased on the card game <a href=\"https://www.boardgamegeek.com/boardgame/41114/resistance\" target=\"_blank\">The Resistance</a> by Don Eskridge.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"paragraph\">\r\n\t\t\t\t\t\tIn Resistance, a group of rebels is trying to overthrow the government by completing a series of missions.\r\n\t\t\t\t\t\tHowever, the government has caught word of the plan and has recruited spies to inflitrate the resistance and sabotage the missions.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"paragraph\">\r\n\t\t\t\t\t\tAt the beginning of each mission a player is selected as the leader and must recruit several group members to the team.\r\n\t\t\t\t\t\tAll players vote on the selected team and if the majority approve then the mission will proceed. Otherwise, a new leader is chosen to make a new team.\r\n\t\t\t\t\t\tIf several leaders are unable to form a team then that mission automatically fails.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"paragraph\">\r\n\t\t\t\t\t\tDuring a mission the members of the teams who are spies can choose to either make the mission succeed or fail.\r\n\t\t\t\t\t\tIf at least one team member opts for it to fail then the entire mission will fail, otherwise it will succeed.\r\n\t\t\t\t\t\tThe game continues until a certain number of missions succeed or fail, with the Resistance and the Spies winning respectively.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"heading\">\r\n\t\t\t\t\tRoles\r\n\t\t\t\t</div>\r\n\t\t\t\t<RoleSearch gameType={gameType} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport Host from \"./Host\";\r\nimport { useForm } from \"../../../components/Form\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\nimport { SiteInfoContext } from \"../../../Contexts\";\r\nimport { Lobbies } from \"../../../Constants\";\r\n\r\nimport \"../../../css/host.css\"\r\n\r\nexport default function HostMafia() {\r\n    const gameType = \"One Night\";\r\n    const [selSetup, setSelSetup] = useState({});\r\n    const [redirect, setRedirect] = useState(false);\r\n    const siteInfo = useContext(SiteInfoContext);\r\n    const errorAlert = useErrorAlert();\r\n    const [formFields, updateFormFields] = useForm([\r\n        {\r\n            label: \"Setup\",\r\n            ref: \"setup\",\r\n            type: \"text\",\r\n            disabled: true,\r\n        },\r\n        {\r\n            label: \"Lobby\",\r\n            ref: \"lobby\",\r\n            type: \"select\",\r\n            value: localStorage.getItem(\"lobby\") || \"Main\",\r\n            options: Lobbies.map(lobby => ({ label: lobby, value: lobby })),\r\n        },\r\n        {\r\n            label: \"Private\",\r\n            ref: \"private\",\r\n            type: \"boolean\"\r\n        },\r\n        {\r\n            label: \"Allow Guests\",\r\n            ref: \"guests\",\r\n            type: \"boolean\"\r\n        },\r\n        {\r\n            label: \"Spectating\",\r\n            ref: \"spectating\",\r\n            type: \"boolean\"\r\n        },\r\n        // {\r\n        //     label: \"Voice Chat\",\r\n        //     ref: \"voiceChat\",\r\n        //     type: \"boolean\"\r\n        // },\r\n        {\r\n            label: \"Scheduled\",\r\n            ref: \"scheduled\",\r\n            type: \"boolean\"\r\n        },\r\n        {\r\n            label: \"Ready Check\",\r\n            ref: \"readyCheck\",\r\n            type: \"boolean\"\r\n        },\r\n        {\r\n            label: \"Start Date\",\r\n            ref: \"startDate\",\r\n            type: \"datetime-local\",\r\n            showIf: \"scheduled\",\r\n            value: Date.now() + (6 * 60 * 1000),\r\n            min: Date.now() + (6 * 60 * 1000),\r\n            max: Date.now() + (4 * 7 * 24 * 60 * 60 * 1000)\r\n        },\r\n        {\r\n            label: \"Day Length (minutes)\",\r\n            ref: \"dayLength\",\r\n            type: \"number\",\r\n            value: 10,\r\n            min: 1,\r\n            max: 30\r\n        },\r\n        {\r\n            label: \"Night Length (minutes)\",\r\n            ref: \"nightLength\",\r\n            type: \"number\",\r\n            value: 2,\r\n            min: 1,\r\n            max: 10\r\n        }\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        document.title = \"Host One Night | BeyondMafia\";\r\n    }, []);\r\n\r\n    function onHostGame() {\r\n        var scheduled = formFields[6].value;\r\n\r\n        if (selSetup.id)\r\n            axios.post(\"/game/host\", {\r\n                gameType: gameType,\r\n                setup: selSetup.id,\r\n                lobby: getFormFieldValue(\"lobby\"),\r\n                private: getFormFieldValue(\"private\"),\r\n                guests: getFormFieldValue(\"guests\"),\r\n                spectating: getFormFieldValue(\"spectating\"),\r\n                // voiceChat: getFormFieldValue(\"voiceChat\"),\r\n                scheduled: scheduled && (new Date(getFormFieldValue(\"startDate\"))).getTime(),\r\n                readyCheck: getFormFieldValue(\"readyCheck\"),\r\n                stateLengths: {\r\n                    \"Day\": getFormFieldValue(\"dayLength\"),\r\n                    \"Night\": getFormFieldValue(\"nightLength\")\r\n                }\r\n            })\r\n                .then(res => {\r\n                    if (scheduled) {\r\n                        siteInfo.showAlert(`Game scheduled.`, \"success\");\r\n                        setRedirect(\"/\");\r\n                    }\r\n                    else\r\n                        setRedirect(`/game/${res.data}`);\r\n                })\r\n                .catch(errorAlert);\r\n        else\r\n            errorAlert(\"You must choose a setup\");\r\n    }\r\n\r\n    function getFormFieldValue(ref) {\r\n        for (let field of formFields)\r\n            if (field.ref == ref)\r\n                return field.value;\r\n    }\r\n\r\n    if (redirect)\r\n        return <Redirect to={redirect} />\r\n\r\n    return (\r\n        <Host\r\n            gameType={gameType}\r\n            selSetup={selSetup}\r\n            setSelSetup={setSelSetup}\r\n            formFields={formFields}\r\n            updateFormFields={updateFormFields}\r\n            onHostGame={onHostGame} />\r\n    );\r\n}","import React, { useContext, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport CreateSetup from \"./CreateSetup\";\r\nimport { SiteInfoContext } from \"../../../Contexts\";\r\nimport { useForm } from \"../../../components/Form\";\r\nimport { useErrorAlert } from \"../../../components/Alerts\";\r\n\r\nexport default function CreateOneNightSetup() {\r\n\tconst gameType = \"One Night\";\r\n\tconst location = useLocation();\r\n\tconst params = new URLSearchParams(location.search);\r\n\tconst errorAlert = useErrorAlert();\r\n\tconst [formFields, updateFormFields, resetFormFields] = useForm([\r\n\t\t{\r\n\t\t\tlabel: \"Setup Name\",\r\n\t\t\tref: \"name\",\r\n\t\t\ttype: \"text\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Whispers\",\r\n\t\t\tref: \"whispers\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Whisper Leak Percentage\",\r\n\t\t\tref: \"leakPercentage\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"5\",\r\n\t\t\tmin: \"0\",\r\n\t\t\tmax: \"100\",\r\n\t\t\tshowIf: \"whispers\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Must Act\",\r\n\t\t\tref: \"mustAct\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Votes Invisible\",\r\n\t\t\tref: \"votesInvisible\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Excess Roles\",\r\n\t\t\tref: \"excessRoles\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"3\",\r\n\t\t\tmin: \"2\",\r\n\t\t\tmax: \"10\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Closed Roles\",\r\n\t\t\tref: \"closed\",\r\n\t\t\ttype: \"boolean\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Unique Roles\",\r\n\t\t\tref: \"unique\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Village Count\",\r\n\t\t\tref: \"count-Village\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"7\",\r\n\t\t\tmin: \"0\",\r\n\t\t\tmax: \"50\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Werewolves Count\",\r\n\t\t\tref: \"count-Werewolves\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"0\",\r\n\t\t\tmin: \"0\",\r\n\t\t\tmax: \"50\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Independent Count\",\r\n\t\t\tref: \"count-Independent\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalue: \"2\",\r\n\t\t\tmin: \"0\",\r\n\t\t\tmax: \"50\",\r\n\t\t\tshowIf: \"closed\"\r\n\t\t}\r\n\t]);\r\n\tconst formFieldValueMods = {\r\n\t\tstartState: [\r\n\t\t\tvalue => value == \"Day\"\r\n\t\t]\r\n\t};\r\n\r\n\tconst siteInfo = useContext(SiteInfoContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Create One Night Setup | BeyondMafia\";\r\n\t}, []);\r\n\r\n\tfunction onCreateSetup(roleData, editing, setRedirect) {\r\n\t\taxios.post(\"/setup/create\", {\r\n\t\t\tgameType: gameType,\r\n\t\t\troles: roleData.roles,\r\n\t\t\tclosed: roleData.closed,\r\n\t\t\tname: formFields[0].value,\r\n\t\t\twhispers: formFields[1].value,\r\n\t\t\tleakPercentage: Number(formFields[2].value),\r\n\t\t\tmustAct: formFields[3].value,\r\n\t\t\tvotesInvisible: formFields[4].value,\r\n\t\t\texcessRoles: formFields[5].value,\r\n\t\t\tunique: formFields[7].value,\r\n\t\t\tcount: {\r\n\t\t\t\t\"Village\": Number(formFields[8].value),\r\n\t\t\t\t\"Werewolves\": Number(formFields[9].value),\r\n\t\t\t\t\"Independent\": Number(formFields[10].value)\r\n\t\t\t},\r\n\t\t\tediting: editing,\r\n\t\t\tid: params.get(\"edit\")\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tsiteInfo.showAlert(`${editing ? \"Edited\" : \"Created\"} setup '${formFields[0].value}'`, \"success\");\r\n\t\t\t\tsetRedirect(res.data);\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<CreateSetup\r\n\t\t\tgameType={gameType}\r\n\t\t\tformFields={formFields}\r\n\t\t\tupdateFormFields={updateFormFields}\r\n\t\t\tresetFormFields={resetFormFields}\r\n\t\t\tclosedField={formFields[6]}\r\n\t\t\tformFieldValueMods={formFieldValueMods}\r\n\t\t\tonCreateSetup={onCreateSetup} />\r\n\t);\r\n}","\r\nimport React, { useEffect } from \"react\";\r\n\r\nimport { RoleSearch } from \"../../../components/Roles\";\r\nimport { PanelGrid } from \"../../../components/Basic\";\r\n\r\nimport \"../../../css/learn.css\"\r\n\r\nexport default function LearnOneNight(props) {\r\n\tconst gameType = \"One Night\";\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Learn One Night | BeyondMafia\";\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"span-panel main\">\r\n\t\t\t<div className=\"learn\">\r\n\t\t\t\t<div className=\"heading\">\r\n\t\t\t\t\tSynopsis\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"paragraphs\">\r\n\t\t\t\t\t<div className=\"paragraph\">\r\n\t\t\t\t\t\tBased on <a href=\"https://beziergames.com/collections/one-night-ultimate-werewolf\" target=\"_blank\">One Night Ultimate Werewolf</a> by Bezier Games.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"paragraph\">\r\n\t\t\t\t\t\tOne Night is a game of logical deduction similar to Mafia, but with only one Night and one Day phase.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"paragraph\">\r\n\t\t\t\t\t\tThe Village side must kill one of the Werewolves to win, and Werewolves must kill one of the village. The Village also loses if\r\n\t\t\t\t\t\tthere are no Werewolves present but they kill a Village member.\r\n\t\t\t\t\t\tThe one night is typically eventful; the role you are given at the beginning of the night may not be the card you end up with.\r\n\t\t\t\t\t\tActions will all take place at once at the end of the night. The order of events is given by times in the role descriptions.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"heading\">\r\n\t\t\t\t\tRoles\r\n\t\t\t\t</div>\r\n\t\t\t\t<RoleSearch gameType={gameType} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport Host from \"./Host\";\nimport { useForm } from \"../../../components/Form\";\nimport { useErrorAlert } from \"../../../components/Alerts\";\nimport { SiteInfoContext } from \"../../../Contexts\";\nimport { Lobbies } from \"../../../Constants\";\n\nimport \"../../../css/host.css\"\n\nexport default function HostJotto() {\n    const gameType = \"Jotto\";\n    const [selSetup, setSelSetup] = useState({});\n    const [redirect, setRedirect] = useState(false);\n    const siteInfo = useContext(SiteInfoContext);\n    const errorAlert = useErrorAlert();\n    const [formFields, updateFormFields] = useForm([\n        {\n            label: \"Setup\",\n            ref: \"setup\",\n            type: \"text\",\n            disabled: true,\n        },\n        {\n            label: \"Lobby\",\n            ref: \"lobby\",\n            type: \"select\",\n            value: \"Games\",\n            options: [{ label: \"Games\", value: \"Games\" }],\n        },\n        {\n            label: \"Private\",\n            ref: \"private\",\n            value: false,\n            type: \"boolean\",\n        },\n        {\n            label: \"Allow Guests\",\n            ref: \"guests\",\n            value: false,\n            type: \"boolean\",\n        },\n        {\n            label: \"Spectating\",\n            ref: \"spectating\",\n            value: false,\n            type: \"boolean\",\n        },\n        {\n            label: \"Word Selection Length (minutes)\",\n            ref: \"choosingLength\",\n            type: \"number\",\n            value: 2,\n            min: 1,\n            max: 5\n        },\n        {\n            label: \"Word Guessing Length (minutes)\",\n            ref: \"guessingLength\",\n            type: \"number\",\n            value: 2,\n            min: 1,\n            max: 5\n        }\n    ]);\n\n    useEffect(() => {\n        document.title = \"Host Jotto | BeyondMafia\";\n    }, []);\n\n    function onHostGame() {\n        var lobby = \"Games\";\n        axios.post(\"/game/host\", {\n            gameType: gameType,\n            lobby: lobby,\n            setup: selSetup.id,\n            private: getFormFieldValue(\"private\"),\n            guests: getFormFieldValue(\"guests\"),\n            spectating: getFormFieldValue(\"spectating\"),\n            readyCheck: false,\n            stateLengths: {\n                \"Choose Word\": getFormFieldValue(\"choosingLength\"),\n                \"Guess Word\": getFormFieldValue(\"guessingLength\")\n            },\n        })\n            .then(res => {\n                setRedirect(`/game/${res.data}`);\n            })\n            .catch(errorAlert);\n    }\n\n    function getFormFieldValue(ref) {\n        for (let field of formFields)\n            if (field.ref == ref)\n                return field.value;\n    }\n\n    if (redirect)\n        return <Redirect to={redirect} />\n\n    return (\n        <Host\n            gameType={gameType}\n            selSetup={selSetup}\n            setSelSetup={setSelSetup}\n            formFields={formFields}\n            updateFormFields={updateFormFields}\n            onHostGame={onHostGame} />\n    );\n}","import React, { useContext, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport CreateSetup from \"./CreateSetup\";\nimport { SiteInfoContext } from \"../../../Contexts\";\nimport { useForm } from \"../../../components/Form\";\nimport { useErrorAlert } from \"../../../components/Alerts\";\n\nexport default function CreateJottoSetup() {\n    const gameType = \"Jotto\";\n    const location = useLocation();\n    const params = new URLSearchParams(location.search);\n    const errorAlert = useErrorAlert();\n    const [formFields, updateFormFields, resetFormFields] = useForm([\n\t\t{\n\t\t\tlabel: \"Setup Name\",\n\t\t\tref: \"name\",\n\t\t\ttype: \"text\"\n\t\t}\n    ]);\n\n    const formFieldValueMods = {};\n\n    const siteInfo = useContext(SiteInfoContext);\n\n    useEffect(() => {\n        document.title = \"Create Jotto Setup | BeyondMafia\";\n    }, []);\n\n    function onCreateSetup(roleData, editing, setRedirect) {\n        axios.post(\"/setup/create\", {\n            gameType: gameType,\n            roles: roleData.roles,\n            name: \"Standard Jotto\",\n            startState: \"Choose Word\",\n            count: {},\n            leakPercentage: 100,\n            editing: editing,\n            id: params.get(\"edit\")\n        })\n            .then(res => {\n                siteInfo.showAlert(`${editing ? \"Edited\" : \"Created\"} setup '${formFields[0].value}'`, \"success\");\n                setRedirect(res.data);\n            })\n            .catch(errorAlert);\n    }\n\n    return (\n        <CreateSetup\n            gameType={gameType}\n            formFields={formFields}\n            updateFormFields={updateFormFields}\n            resetFormFields={resetFormFields}\n            closedField={{\"value\": true}}\n            formFieldValueMods={formFieldValueMods}\n            onCreateSetup={onCreateSetup} />\n    );\n}","\nimport React, { useEffect } from \"react\";\n\nimport { RoleSearch } from \"../../../components/Roles\";\n\nimport \"../../../css/learn.css\";\n\nexport default function LearnJotto(props) {\n\tconst gameType = \"Jotto\";\n\n\tuseEffect(() => {\n\t\tdocument.title = \"Learn Mafia | BeyondMafia\";\n\t}, []);\n\n\treturn (\n\t\t<div className=\"span-panel main\">\n\t\t\t<div className=\"learn\">\n\t\t\t\t<div className=\"heading\">\n\t\t\t\t\tSynopsis\n\t\t\t\t</div>\n\t\t\t\t<div className=\"paragraphs\">\n\t\t\t\t\t<div className=\"paragraph\">\n\t\t\t\t\t\tWIP\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"heading\">\n\t\t\t\t\tRoles\n\t\t\t\t</div>\n\t\t\t\t<RoleSearch gameType={gameType} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Route, Switch, Redirect, useLocation, useHistory } from \"react-router-dom\";\r\n\r\nimport Join from \"./Join\";\r\n\r\nimport HostMafia from \"./Host/HostMafia\";\r\nimport CreateMafiaSetup from \"./CreateSetup/CreateMafiaSetup\";\r\nimport LearnMafia from \"./Learn/LearnMafia\";\r\n\r\nimport HostSplitDecision from \"./Host/HostSplitDecision\";\r\nimport CreateSplitDecisionSetup from \"./CreateSetup/CreateSplitDecisionSetup\";\r\nimport LearnSplitDecision from \"./Learn/LearnSplitDecision\";\r\n\r\nimport HostResistance from \"./Host/HostResistance\";\r\nimport CreateResistanceSetup from \"./CreateSetup/CreateResistanceSetup\";\r\nimport LearnResistance from \"./Learn/LearnResistance\";\r\n\r\nimport HostOneNight from \"./Host/HostOneNight\";\r\nimport CreateOneNightSetup from \"./CreateSetup/CreateOneNightSetup\";\r\nimport LearnOneNight from \"./Learn/LearnOneNight\";\r\n\r\nimport HostJotto from \"./Host/HostJotto\";\r\nimport CreateJottoSetup from \"./CreateSetup/CreateJottoSetup\";\r\nimport LearnJotto from \"./Learn/LearnJotto\";\r\n\r\nimport { SubNav } from \"../../components/Nav\";\r\nimport { GameTypes } from \"../../Constants\";\r\nimport { UserContext } from \"../../Contexts\";\r\n\r\nimport \"../../css/play.css\";\r\n\r\nexport default function Play(props) {\r\n    const defaultGameType = \"Mafia\";\r\n\r\n    const user = useContext(UserContext);\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    const params = new URLSearchParams(location.search);\r\n    const inLobby = location.pathname == \"/play\";\r\n    const [gameType, setGameType] = useState(params.get(\"game\") || localStorage.getItem(\"gameType\") || defaultGameType);\r\n\r\n    const links = [\r\n        {\r\n            text: \"Play\",\r\n            path: \"/play\",\r\n            exact: true\r\n        },\r\n        {\r\n            text: \"Host\",\r\n            path: `/play/host`,\r\n            hide: !user.loggedIn\r\n        },\r\n        {\r\n            text: \"Create Setup\",\r\n            path: `/play/create`,\r\n            hide: !user.loggedIn\r\n        },\r\n        {\r\n            text: \"Learn\",\r\n            path: `/play/learn`\r\n        }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(\"gameType\", gameType);\r\n\r\n        if (!inLobby && !params.get(\"edit\") && params.get(\"game\") != gameType)\r\n            history.push(location.pathname + `?game=${gameType}`);\r\n    }, [location.pathname, gameType]);\r\n\r\n    function onFilterGameType(gameType) {\r\n        setGameType(gameType);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <SubNav\r\n                links={links}\r\n                showFilter={!inLobby}\r\n                filterSel={gameType}\r\n                filterOptions={GameTypes}\r\n                onFilter={onFilterGameType}\r\n                filterIcon={<i className=\"fas fa-gamepad\" />} />\r\n            <div className=\"inner-content play\">\r\n                <Switch>\r\n                    <Route exact path=\"/play\" render={() => <Join />} />\r\n                    <Route\r\n                        exact\r\n                        path=\"/play/host\"\r\n                        render={\r\n                            () => {\r\n                                switch (gameType) {\r\n                                    case \"Mafia\":\r\n                                        return <HostMafia />;\r\n                                    case \"Split Decision\":\r\n                                        return <HostSplitDecision />;\r\n                                    case \"Resistance\":\r\n                                        return <HostResistance />;\r\n                                    case \"One Night\":\r\n                                        return <HostOneNight />;\r\n                                    case \"Jotto\":\r\n                                        return <HostJotto />;\r\n                                    default:\r\n                                        setGameType(defaultGameType);\r\n                                        return <></>;\r\n                                }\r\n                            }\r\n                        } />\r\n\r\n                    <Route\r\n                        exact\r\n                        path=\"/play/create\"\r\n                        render={\r\n                            () => {\r\n                                switch (gameType) {\r\n                                    case \"Mafia\":\r\n                                        return <CreateMafiaSetup />;\r\n                                    case \"Split Decision\":\r\n                                        return <CreateSplitDecisionSetup />;\r\n                                    case \"Resistance\":\r\n                                        return <CreateResistanceSetup />;\r\n                                    case \"One Night\":\r\n                                        return <CreateOneNightSetup />;\r\n                                    case \"Jotto\":\r\n                                        return <CreateJottoSetup />;\r\n                                    default:\r\n                                        setGameType(defaultGameType);\r\n                                        return <></>;\r\n                                }\r\n                            }\r\n                        } />\r\n\r\n                    <Route\r\n                        exact\r\n                        path=\"/play/learn\"\r\n                        render={\r\n                            () => {\r\n                                switch (gameType) {\r\n                                    case \"Mafia\":\r\n                                        return <LearnMafia />;\r\n                                    case \"Split Decision\":\r\n                                        return <LearnSplitDecision />;\r\n                                    case \"Resistance\":\r\n                                        return <LearnResistance />;\r\n                                    case \"One Night\":\r\n                                        return <LearnOneNight />;\r\n                                    case \"Jotto\":\r\n                                        return <LearnJotto />;\r\n                                    default:\r\n                                        setGameType(defaultGameType);\r\n                                        return <></>;\r\n                                }\r\n                            }\r\n                        } />\r\n\r\n                    <Route render={() => <Redirect to=\"/play\" />} />\r\n                </Switch>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport function TopBarLink(props) {\r\n    const active = props.sel.toLowerCase() == props.text.toLowerCase();\r\n\r\n    return (\r\n        <div\r\n            className={`top-link ${active ? \"active\" : \"\"}`}\r\n            onClick={props.onClick}>\r\n            {props.text}\r\n        </div>\r\n    );\r\n}","import React, { useState, useContext, useRef } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { UserContext, SiteInfoContext, PopoverContext } from \"../Contexts\";\r\nimport { ButtonGroup, SearchBar } from \"./Nav\";\r\nimport { useErrorAlert } from \"./Alerts\";\r\nimport { hyphenDelimit } from \"../utils\";\r\nimport { Alignments } from \"../Constants\";\r\nimport LoadingPage from \"../pages/Loading\";\r\nimport { TopBarLink } from \"../pages/Play/Play\";\r\n\r\nexport function RoleCount(props) {\r\n\tconst roleRef = useRef();\r\n\tconst popover = useContext(PopoverContext);\r\n\r\n\t// Display predicted icon\r\n\tconst isRolePrediction = props.isRolePrediction;\r\n\t// Choose from list of icons to predict from\r\n\tconst makeRolePrediction = props.makeRolePrediction;\r\n\r\n\tvar roleName, modifier;\r\n\r\n\tif (typeof props.role == \"string\") {\r\n\t\troleName = props.role.split(\":\")[0];\r\n\t\tmodifier = props.role.split(\":\")[1];\r\n\t}\r\n\telse if (props.role) {\r\n\t\troleName = props.role.name;\r\n\t\tmodifier = props.role.modifier;\r\n\t}\r\n\r\n\tif (isRolePrediction) {\r\n\t\tmodifier = \"Unknown\";\r\n\t}\r\n\r\n\tfunction onRoleClick() {\r\n\t\tif (props.onClick)\r\n\t\t\tprops.onClick();\r\n\r\n\t\tif (makeRolePrediction) {\r\n\t\t\tmakeRolePrediction(roleName);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!roleName || !props.showPopover || roleName === \"null\")\r\n\t\t\treturn;\r\n\r\n\t\tpopover.onClick(\r\n\t\t\t`/roles/${props.gameType}/${roleName}`,\r\n\t\t\t\"role\",\r\n\t\t\troleRef.current,\r\n\t\t\troleName\r\n\t\t);\r\n\t}\r\n\r\n\tfunction onRoleMouseEnter( event ) {\r\n\t\tif (props.onMouseEnter)\r\n\t\t\tprops.onMouseEnter();\r\n\r\n\t\tif (!roleName || !props.showSecondaryHover || roleName === \"null\")\r\n\t\t\treturn;\r\n\r\n\t\t// assumes that this is attached to a child in a popover\r\n\t\tpopover.onHover(\r\n\t\t\t`/roles/${props.gameType}/${roleName}`,\r\n\t\t\t\"role\",\r\n\t\t\troleRef.current,\r\n\t\t\troleName,\r\n\t\t\tnull,\r\n\t\t\tevent.clientY,\r\n\t\t);\r\n\t}\r\n\r\n\tif (!props.closed) {\r\n\t\tconst roleClass = roleName ? `${hyphenDelimit(props.gameType)}-${hyphenDelimit(roleName)}` : \"null\";\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"role-count-wrap\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`role role-${roleClass} ${props.small ? \"small\" : \"\"} ${props.bg ? \"bg\" : \"\"}`}\r\n\t\t\t\t\ttitle={`${roleName || \"\"} ${modifier ? `(${modifier})` : \"\"}`}\r\n\t\t\t\t\tonClick={onRoleClick}\r\n\t\t\t\t\tonMouseEnter={onRoleMouseEnter}\r\n\t\t\t\t\tref={roleRef}>\r\n\t\t\t\t\t{modifier &&\r\n\t\t\t\t\t\t<div className={`modifier modifier-${props.gameType}-${hyphenDelimit(modifier)}`} />\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t\t{props.count > 0 &&\r\n\t\t\t\t\t<div className=\"super\">{props.count}</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\telse if (props.count > 0 || props.hideCount) {\r\n\t\treturn (\r\n\t\t\t<div className=\"role-count-wrap\">\r\n\t\t\t\t<i\r\n\t\t\t\t\tclassName={`fas fa-question i-${props.alignment}`}\r\n\t\t\t\t\tonClick={props.onClick} />\r\n\t\t\t\t{!props.hideCount &&\r\n\t\t\t\t\t<div className=\"super\">{props.count}</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\telse {\r\n\t\treturn <></>;\r\n\t}\r\n}\r\n\r\nexport function RoleSearch(props) {\r\n\tconst [roleListType, setRoleListType] = useState(Alignments[props.gameType][0]);\r\n\tconst [searchVal, setSearchVal] = useState(\"\");\r\n\tconst roleCellRefs = useRef([]);\r\n\tconst errorAlert = useErrorAlert();\r\n\tconst user = useContext(UserContext);\r\n\tconst siteInfo = useContext(SiteInfoContext);\r\n\tconst popover = useContext(PopoverContext);\r\n\r\n\tfunction onAlignNavClick(alignment) {\r\n\t\tsetSearchVal(\"\");\r\n\t\tsetRoleListType(alignment);\r\n\t}\r\n\r\n\tfunction onSearchInput(query) {\r\n\t\tsetSearchVal(query.toLowerCase());\r\n\r\n\t\tif (query != \"\" && roleListType.length > 0)\r\n\t\t\tsetRoleListType(\"\");\r\n\t\telse if (query == \"\" && roleListType.length == 0)\r\n\t\t\tsetRoleListType(Alignments[props.gameType][0]);\r\n\t}\r\n\r\n\tfunction onRoleCellClick(roleCellEl, role) {\r\n\t\tpopover.onClick(\r\n\t\t\t`/roles/${props.gameType}/${role.name}`,\r\n\t\t\t\"role\",\r\n\t\t\troleCellEl,\r\n\t\t\trole.name\r\n\t\t);\r\n\t}\r\n\r\n\tconst alignButtons = Alignments[props.gameType].map(type => (\r\n\t\t<TopBarLink\r\n\t\t\ttext={type}\r\n\t\t\tsel={roleListType}\r\n\t\t\tonClick={() => onAlignNavClick(type)}\r\n\t\t\tkey={type} />\r\n\t));\r\n\r\n\tif (!siteInfo.roles)\r\n\t\treturn <LoadingPage className=\"roles-loading\" />;\r\n\r\n\tconst roleCells = siteInfo.roles[props.gameType].map((role, i) => {\r\n\t\tif (\r\n\t\t\t!role.disabled &&\r\n\t\t\t(role.alignment == roleListType ||\r\n\t\t\t(searchVal.length > 0 && role.name.toLowerCase().indexOf(searchVal) != -1))\r\n\t\t) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"role-cell\" key={role.name}>\r\n\t\t\t\t\t{user.loggedIn && props.onAddClick &&\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\tclassName=\"add-role fa-plus-circle fas\"\r\n\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\tprops.onAddClick(role);\r\n\t\t\t\t\t\t\t}} />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"role-cell-content\"\r\n\t\t\t\t\t\tonClick={() => onRoleCellClick(roleCellRefs.current[i], role)}\r\n\t\t\t\t\t\tref={el => roleCellRefs.current[i] = el}>\r\n\t\t\t\t\t\t<RoleCount\r\n\t\t\t\t\t\t\trole={role.name}\r\n\t\t\t\t\t\t\tgameType={props.gameType} />\r\n\t\t\t\t\t\t{role.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className=\"role-list-container\">\r\n\t\t\t<div className=\"top-bar\">\r\n\t\t\t\t{alignButtons}\r\n\t\t\t\t<SearchBar\r\n\t\t\t\t\tvalue={searchVal}\r\n\t\t\t\t\tplaceholder=\"Role Name\"\r\n\t\t\t\t\tonInput={onSearchInput} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"role-list\">\r\n\t\t\t\t{roleCells}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useContext, useRef } from \"react\";\r\n\r\nimport { GameContext, PopoverContext, UserContext } from \"../Contexts\";\r\nimport { RoleCount } from \"./Roles\";\r\nimport { Alignments } from \"../Constants\";\r\nimport { filterProfanity } from \"./Basic\";\r\nimport { hyphenDelimit } from \"../utils\";\r\n\r\nimport \"../css/setup.css\"\r\nimport \"../css/roles.css\"\r\n\r\nexport default function Setup(props) {\r\n\tconst user = useContext(UserContext);\r\n\tconst popover = useContext(PopoverContext);\r\n\tconst setupRef = useRef();\r\n\tconst maxRolesCount = props.maxRolesCount || 5;\r\n\r\n\tvar roleCounts, multi;\r\n\tvar overSize = false;\r\n\r\n\tif (typeof props.setup.roles == \"string\")\r\n\t\tprops.setup.roles = JSON.parse(props.setup.roles);\r\n\r\n\tif (props.setup.closed) {\r\n\t\troleCounts = [];\r\n\r\n\t\tfor (let alignment of Alignments[props.setup.gameType]) {\r\n\t\t\troleCounts.push(\r\n\t\t\t\t<RoleCount\r\n\t\t\t\t\tclosed\r\n\t\t\t\t\talignment={alignment}\r\n\t\t\t\t\tcount={props.setup.count[alignment]}\r\n\t\t\t\t\tgameType={props.setup.gameType}\r\n\t\t\t\t\tkey={alignment} />\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tlet roleNames = Object.keys(props.setup.roles[0]);\r\n\t\tmulti = props.setup.roles.length > 1;\r\n\r\n\t\troleCounts = roleNames.map(role => (\r\n\t\t\t<RoleCount\r\n\t\t\t\tsmall\r\n\t\t\t\trole={role}\r\n\t\t\t\tcount={props.setup.roles[0][role]}\r\n\t\t\t\tgameType={props.setup.gameType}\r\n\t\t\t\tkey={role} />\r\n\t\t));\r\n\r\n\t\tif (roleCounts.length > maxRolesCount) {\r\n\t\t\troleCounts = roleCounts.slice(0, maxRolesCount);\r\n\t\t\toverSize = true;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onClick() {\r\n\t\tpopover.onClick(\r\n\t\t\t`/setup/${props.setup.id}`,\r\n\t\t\t\"setup\",\r\n\t\t\tsetupRef.current,\r\n\t\t\tfilterProfanity(props.setup.name, user.settings),\r\n\t\t\tdata => data.roles = JSON.parse(data.roles)\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"setup\" ref={setupRef} onClick={onClick}>\r\n\t\t\t<GameIcon gameType={props.setup.gameType} />\r\n\t\t\t{multi &&\r\n\t\t\t\t<i className=\"multi-setup-icon fas fa-list-alt\" />\r\n\t\t\t}\r\n\t\t\t{roleCounts}\r\n\t\t\t{overSize &&\r\n\t\t\t\t<i className=\"fas fa-ellipsis-h\" />\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function SmallRoleList(props) {\r\n\tvar roles;\r\n\r\n\tif (Array.isArray(props.roles)) {\r\n\t\troles = props.roles.map(role => (\r\n\t\t\t<RoleCount\r\n\t\t\t\tsmall\r\n\t\t\t\trole={role}\r\n\t\t\t\tmakeRolePrediction={props.makeRolePrediction}\r\n\t\t\t\tkey={role || \"null\"}\r\n\t\t\t\tshowSecondaryHover\r\n\t\t\t\tgameType={props.gameType} />\r\n\t\t));\r\n\r\n\t}\r\n\t\t\r\n\telse\r\n\t\troles = Object.keys(props.roles).map(role => (\r\n\t\t\t<RoleCount\r\n\t\t\t\trole={role}\r\n\t\t\t\tcount={props.roles[role]}\r\n\t\t\t\tsmall={true}\r\n\t\t\t\tgameType={props.gameType}\r\n\t\t\t\tshowSecondaryHover\r\n\t\t\t\tkey={role} />\r\n\t\t));\r\n\r\n\treturn (\r\n\t\t<div className=\"small-role-list\">{roles}</div>\r\n\t);\r\n}\r\n\r\nexport function GameIcon(props) {\r\n\tconst gameType = hyphenDelimit(props.gameType);\r\n\treturn <div className={`game-icon ${gameType}`}></div>;\r\n}\r\n\r\nexport function GameStateIcon(props) {\r\n\tvar iconName;\r\n\r\n\tif (props.state == \"Day\")\r\n\t\ticonName = \"sun\";\r\n\telse if (props.state == \"Night\")\r\n\t\ticonName = \"moon\";\r\n\r\n\treturn <i className={`fa-${iconName} fas state-icon`} />\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Redirect, useParams, useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\r\nimport { Doughnut } from \"react-chartjs-2\";\r\n\r\nimport { UserContext, SiteInfoContext } from \"../../Contexts\";\r\nimport { Avatar, Badges, NameWithAvatar, YouTubeEmbed} from \"./User\";\r\nimport { HiddenUpload, TextEditor } from \"../../components/Form\";\r\nimport LoadingPage from \"../Loading\";\r\nimport Setup from \"../../components/Setup\";\r\nimport { GameRow } from \"../Play/Join\";\r\nimport { Time, filterProfanity } from \"../../components/Basic\";\r\nimport { useErrorAlert } from \"../../components/Alerts\";\r\nimport { getPageNavFilterArg, PageNav } from \"../../components/Nav\";\r\nimport { RatingThresholds, RequiredTotalForStats } from \"../../Constants\";\r\nimport { capitalize } from \"../../utils\";\r\nimport Comments from \"../Community/Comments\";\r\n\r\nimport \"../../css/user.css\";\r\nimport { Modal } from \"../../components/Modal\";\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\nexport default function Profile() {\r\n    const [profileLoaded, setProfileLoaded] = useState(false);\r\n    const [name, setName] = useState();\r\n    const [avatar, setAvatar] = useState();\r\n    const [banner, setBanner] = useState();\r\n    const [bio, setBio] = useState(\"\");\r\n    const [oldBio, setOldBio] = useState();\r\n    const [editingBio, setEditingBio] = useState(false);\r\n    const [isFriend, setIsFriend] = useState(false);\r\n    const [settings, setSettings] = useState({});\r\n    const [accounts, setAccounts] = useState({});\r\n    const [recentGames, setRecentGames] = useState([]);\r\n    const [createdSetups, setCreatedSetups] = useState([]);\r\n    const [bustCache, setBustCache] = useState(false);\r\n    const [friendsPage, setFriendsPage] = useState(1);\r\n    const [maxFriendsPage, setMaxFriendsPage] = useState(1);\r\n    const [friends, setFriends] = useState([]);\r\n    const [friendRequests, setFriendRequests] = useState([]);\r\n    const [stats, setStats] = useState();\r\n    const [groups, setGroups] = useState([]);\r\n    const [showStatsModal, setShowStatsModal] = useState(false);\r\n    const [embedId, setEmbedId] = useState(\"\");\r\n    const [autoplay, setAutoplay] = useState(false);\r\n\r\n    const user = useContext(UserContext);\r\n    const siteInfo = useContext(SiteInfoContext);\r\n    const history = useHistory();\r\n    const errorAlert = useErrorAlert();\r\n    const { userId } = useParams();\r\n\r\n    const isSelf = userId == user.id;\r\n    const isBlocked = !isSelf && user.blockedUsers.indexOf(userId) != -1;\r\n\r\n    useEffect(() => {\r\n        if (bustCache)\r\n            setBustCache(false);\r\n    }, [bustCache]);\r\n\r\n    useEffect(() => {\r\n        setEditingBio(false);\r\n\r\n        if (userId) {\r\n            setProfileLoaded(false);\r\n            let youtubeRegex = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&\\?]{11}).*/;\r\n\r\n            axios.get(`/user/${userId}/profile`)\r\n                .then(res => {\r\n                    setProfileLoaded(true);\r\n                    setName(res.data.name);\r\n                    setAvatar(res.data.avatar);\r\n                    setBanner(res.data.banner);\r\n                    setBio(filterProfanity(res.data.bio, user.settings, \"\\\\*\") || \"\");\r\n                    setIsFriend(res.data.isFriend);\r\n                    setSettings(res.data.settings);\r\n                    setAccounts(res.data.accounts || {});\r\n                    setRecentGames(res.data.games);\r\n                    setCreatedSetups(res.data.setups);\r\n                    setMaxFriendsPage(res.data.maxFriendsPage);\r\n                    setFriendRequests(res.data.friendRequests);\r\n                    setFriendsPage(1);\r\n                    setStats(res.data.stats);\r\n                    setGroups(res.data.groups);\r\n                    setEmbedId(\"\");\r\n                    setAutoplay(false);\r\n\r\n                    if(res.data.settings.youtube !== undefined) {\r\n                        var videoMatches = res.data.settings.youtube.match(youtubeRegex) ?? \"\";\r\n                        if (videoMatches && videoMatches.length >= 7) {\r\n                            setEmbedId(videoMatches[7]);\r\n                        }\r\n                        setAutoplay(res.data.settings.autoplay);\r\n                    }\r\n\r\n                    document.title = `${res.data.name}'s Profile | BeyondMafia`;\r\n                })\r\n                .catch(e => {\r\n                    errorAlert(e);\r\n                    history.push(\"/play\");\r\n                });\r\n\r\n            axios.get(`/user/${userId}/friends`)\r\n                .then((res) => {\r\n                    setFriends(res.data);\r\n                })\r\n                .catch(errorAlert);\r\n        }\r\n    }, [userId]);\r\n\r\n    function onEditBanner(files, type) {\r\n        if (!user.itemsOwned.customProfile) {\r\n            errorAlert(\"You must purchase profile customization with coins from the Shop.\");\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    function onFileUpload(files, type) {\r\n        if (files.length) {\r\n            const formData = new FormData();\r\n            formData.append(\"image\", files[0]);\r\n\r\n            for (let el of document.getElementsByClassName(\"hidden-upload\"))\r\n                el.value = \"\";\r\n\r\n            axios.post(`/user/${type}`, formData)\r\n                .then(res => {\r\n                    switch (type) {\r\n                        case \"avatar\":\r\n                            setAvatar(true);\r\n                            siteInfo.clearCache();\r\n                            break;\r\n                        case \"banner\":\r\n                            setBanner(true);\r\n                            siteInfo.clearCache();\r\n                            break;\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    if (e.response == null || e.response.status == 413)\r\n                        errorAlert(\"File too large, must be less than 2 MB.\");\r\n                    else\r\n                        errorAlert(e);\r\n                });\r\n        }\r\n    }\r\n\r\n    function onFriendUserClick() {\r\n        if (isFriend) {\r\n            var shouldUnfriend = window.confirm(\"Are you sure you wish to unfriend or cancel your friend request?\");\r\n            if (!shouldUnfriend)\r\n                return;\r\n        }\r\n\r\n        axios.post(\"/user/friend\", { user: userId })\r\n            .then((res) => {\r\n                setIsFriend(!isFriend);\r\n                siteInfo.showAlert(res.data, \"success\");\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    function onDeleteFriend(friendId) {\r\n        return () => {\r\n            var shouldUnfriend = window.confirm(\"Are you sure you wish to delete this friend?\");\r\n            if (!shouldUnfriend)\r\n                return;\r\n            \r\n            axios.post(\"/user/friend\", { user: friendId })\r\n                .then((res) => {\r\n                    setIsFriend(false);\r\n                    siteInfo.showAlert(res.data, \"success\");\r\n                })\r\n                .catch(errorAlert);\r\n        }\r\n    }\r\n\r\n    function onBlockUserClick() {\r\n        if (!isBlocked) {\r\n            var shouldBlock = window.confirm(\"Are you sure you wish to block this user?\");\r\n            if (!shouldBlock)\r\n                return;\r\n        }\r\n\r\n        axios.post(\"/user/block\", { user: userId })\r\n            .then(() => {\r\n                user.blockUserToggle(userId);\r\n\r\n                if (isBlocked)\r\n                    siteInfo.showAlert(\"User unblocked.\", \"success\");\r\n                else\r\n                    siteInfo.showAlert(\"User blocked.\", \"success\");\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    function onBioClick() {\r\n        setEditingBio(isSelf);\r\n        setOldBio(bio);\r\n    }\r\n\r\n    function onEditBio(e) {\r\n        axios.post(`/user/bio`, { bio: bio })\r\n            .then(() => {\r\n                setEditingBio(false);\r\n                setBio(filterProfanity(bio, user.settings, \"\\\\*\"));\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    function onCancelEditBio(e) {\r\n        e.stopPropagation();\r\n        setEditingBio(false);\r\n        setBio(oldBio);\r\n    }\r\n\r\n    function onAcceptFriend(_userId) {\r\n        axios.post(\"/user/friend\", { user: _userId })\r\n            .then((res) => {\r\n                var newFriendRequests = friendRequests.slice().filter(u => u.id != _userId);\r\n                setFriendRequests(newFriendRequests);\r\n                siteInfo.showAlert(res.data, \"success\");\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    function onRejectFriend(_userId) {\r\n        axios.post(\"/user/friend/reject\", { user: _userId })\r\n            .then((res) => {\r\n                var newFriendRequests = friendRequests.slice().filter(u => u.id != _userId);\r\n                setFriendRequests(newFriendRequests);\r\n                siteInfo.showAlert(res.data, \"success\");\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    function onFriendsPageNav(page) {\r\n        var filterArg = getPageNavFilterArg(page, friendsPage, friends, \"lastActive\");\r\n\r\n        if (filterArg == null)\r\n            return;\r\n\r\n        axios.get(`/user/${userId}/friends?${filterArg}`)\r\n            .then(res => {\r\n                if (res.data.length) {\r\n                    setFriends(res.data);\r\n                    setFriendsPage(page);\r\n                }\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    const panelStyle = {};\r\n    const bannerStyle = {};\r\n\r\n    if (settings.backgroundColor)\r\n        panelStyle.backgroundColor = settings.backgroundColor;\r\n\r\n    if (banner)\r\n        bannerStyle.backgroundImage = `url(/uploads/${userId}_banner.jpg?t=${siteInfo.cacheVal})`;\r\n\r\n    if (settings.bannerFormat == \"stretch\")\r\n        bannerStyle.backgroundSize = \"100% 100%\";\r\n\r\n    var ratings = [];\r\n    var totalGames = 0;\r\n\r\n    if (stats && stats[\"Mafia\"] && stats[\"Mafia\"].all) {\r\n        var mafiaStats = stats[\"Mafia\"].all;\r\n        totalGames = (mafiaStats?.wins?.total + mafiaStats?.abandons?.total) || 0;\r\n\r\n        ratings = Object.keys(RatingThresholds).map(statName => {\r\n            var stat = mafiaStats[statName];\r\n\r\n            if (RatingThresholds[statName] == null)\r\n                return <></>;\r\n            else if (totalGames < RequiredTotalForStats)\r\n                stat = \"-\";\r\n            else if (statName == \"wins\")\r\n                stat = `${Math.round((stat.count / totalGames) * 100)}%`;\r\n            else {\r\n                var letter = \"F\";\r\n                var letters = Object.keys(RatingThresholds[statName]).reverse();\r\n                var i = 0;\r\n\r\n                switch (statName) {\r\n                    case \"reads\":\r\n                    case \"survival\":\r\n                        if (stat.total > 0)\r\n                            stat = stat.count / stat.total;\r\n                        else\r\n                            stat = \"-\";\r\n                        break;\r\n                }\r\n\r\n                if (stat != \"-\") {\r\n                    while (stat >= RatingThresholds[statName][letters[i]] && i < letters.length)\r\n                        letter = letters[i++];\r\n\r\n                    stat = letter;\r\n                }\r\n            }\r\n\r\n            return (\r\n                <div className=\"rating\" key={statName}>\r\n                    <div className=\"name\">\r\n                        {capitalize(statName)}\r\n                    </div>\r\n                    <div className=\"score\">\r\n                        {stat}\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n\r\n    const pieChartData = {\r\n        labels: [\"Wins\", \"Losses\", \"Abandons\", \"Broken\"],\r\n        datasets: [{\r\n            label: \"Pie Chart\",\r\n            data: [\r\n                mafiaStats?.wins?.count,\r\n                mafiaStats?.wins?.total - mafiaStats?.wins?.count,\r\n                mafiaStats?.abandons?.count,\r\n                0  // Unsure if this is an accurate measure to track broken games. Using 0 for now.\r\n                // mafiaStats?.totalGames - mafiaStats?.wins?.total - mafiaStats?.abandons?.total\r\n            ],\r\n            backgroundColor: [\r\n                'rgb(120,240,140)',\r\n                'rgb(255,100,100)',\r\n                'rgb(180,180,180)',\r\n                'rgb(255,245,120)'\r\n            ],\r\n            hoverOffset: 10\r\n        }]\r\n\r\n    }\r\n\r\n    const recentGamesRows = recentGames.map(game => (\r\n        <GameRow\r\n            game={game}\r\n            type={game.status || \"Finished\"}\r\n            key={game.id}\r\n            small />\r\n    ));\r\n\r\n    const createdSetupRows = createdSetups.map(setup => (\r\n        <Setup setup={setup} key={setup.id} />\r\n    ));\r\n\r\n    const friendRequestRows = friendRequests.map(user => (\r\n        <div className=\"friend-request\" key={user.id}>\r\n            <NameWithAvatar\r\n                id={user.id}\r\n                name={user.name}\r\n                avatar={user.avatar} />\r\n            <div className=\"btns\">\r\n                <i\r\n                    className=\"fas fa-check\"\r\n                    onClick={() => onAcceptFriend(user.id)} />\r\n                <i\r\n                    className=\"fas fa-times\"\r\n                    onClick={() => onRejectFriend(user.id)} />\r\n            </div>\r\n        </div>\r\n    ));\r\n\r\n    const friendRows = friends.map(friend => (\r\n        <div className=\"friend\" key={friend.id}>\r\n            <div className=\"friend-avatar\">\r\n                <NameWithAvatar\r\n                    id={friend.id}\r\n                    name={friend.name}\r\n                    avatar={friend.avatar} />\r\n                {isSelf &&\r\n                    <div className=\"btns-wrapper\">\r\n                        <i className=\"fas fa-trash\"\r\n                            onClick={onDeleteFriend(friend.id)} />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div className=\"last-active\">\r\n                <Time\r\n                    minSec\r\n                    millisec={Date.now() - friend.lastActive}\r\n                    suffix=\" ago\" />\r\n            </div>\r\n        </div>\r\n    ));\r\n\r\n    if (user.loaded && !user.loggedIn && !userId)\r\n        return <Redirect to=\"/play\" />;\r\n\r\n    if (user.loaded && user.loggedIn && !userId)\r\n        return <Redirect to={`/user/${user.id}`} />;\r\n\r\n    if (!profileLoaded || !user.loaded)\r\n        return <LoadingPage />;\r\n\r\n    return (\r\n        <>\r\n            <div className=\"profile\">\r\n                {stats &&\r\n                    <StatsModal\r\n                        stats={stats}\r\n                        show={showStatsModal}\r\n                        setShow={setShowStatsModal} />\r\n                }\r\n                <div className=\"main-panel\" style={panelStyle}>\r\n                    <div className=\"banner\" style={bannerStyle}>\r\n                        {isSelf &&\r\n                            <HiddenUpload\r\n                                className=\"edit\"\r\n                                name=\"banner\"\r\n                                onClick={onEditBanner}\r\n                                onFileUpload={onFileUpload}>\r\n                                <i className=\"far fa-file-image\" />\r\n                            </HiddenUpload>\r\n                        }\r\n                    </div>\r\n                    <div className=\"user-info\">\r\n                        <div className=\"avi-name-row\">\r\n                            <div className=\"avi-name\">\r\n                                {!bustCache &&\r\n                                    <Avatar\r\n                                        large\r\n                                        id={userId}\r\n                                        hasImage={avatar}\r\n                                        bustCache={bustCache}\r\n                                        name={name}\r\n                                        edit={isSelf}\r\n                                        onUpload={onFileUpload} />\r\n                                }\r\n                                <div className=\"name\">\r\n                                    {name}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <Badges groups={groups} />\r\n                        {!isSelf && user.loggedIn &&\r\n                            <div className=\"options\">\r\n                                <i\r\n                                    className={`fas fa-user-plus ${isFriend ? \"sel\" : \"\"}`}\r\n                                    onClick={onFriendUserClick} />\r\n                                <i\r\n                                    className={`fas fa-ban ${isBlocked ? \"sel\" : \"\"}`}\r\n                                    onClick={onBlockUserClick}\r\n                                    title=\"Block user\" />\r\n                            </div>\r\n                        }\r\n                        <div className=\"accounts\">\r\n                            {accounts.discord && settings.showDiscord &&\r\n                                <div className=\"account-badge\">\r\n                                    <div className=\"icon discord-icon\" />\r\n                                    <div className=\"username-wrapper\">\r\n                                        <div className=\"username\">\r\n                                            {accounts.discord}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                            {accounts.twitch && settings.showTwitch &&\r\n                                <div className=\"account-badge\">\r\n                                    <div className=\"icon twitch-icon\" />\r\n                                    <div className=\"username-wrapper\">\r\n                                        <div className=\"username\">\r\n                                            {accounts.twitch}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                            {accounts.steam && settings.showSteam &&\r\n                                <div className=\"account-badge\">\r\n                                    <div className=\"icon steam-icon\" />\r\n                                    <div className=\"username-wrapper\">\r\n                                        <div className=\"username\">\r\n                                            {accounts.steam}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div\r\n                            className={`bio ${isSelf && !editingBio ? \"edit\" : \"\"}`}\r\n                            onClick={onBioClick}>\r\n                            {!editingBio &&\r\n                                <div className=\"md-content\">\r\n                                    <ReactMarkdown source={bio} />\r\n                                </div>\r\n                            }\r\n                            {editingBio &&\r\n                                <>\r\n                                    <TextEditor\r\n                                        value={bio}\r\n                                        onChange={setBio} />\r\n                                    <div className=\"buttons\">\r\n                                        <div className=\"btn btn-theme\" onClick={onEditBio}>Submit</div>\r\n                                        <div className=\"btn btn-theme-sec\" onClick={onCancelEditBio}>Cancel</div>\r\n                                    </div>\r\n                                </>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"side column\">\r\n                { <YouTubeEmbed\r\n                            embedId={embedId}\r\n                            autoplay={autoplay}></YouTubeEmbed> }\r\n                    {totalGames >= RequiredTotalForStats &&\r\n                        <div className=\"box-panel ratings\" style={panelStyle}>\r\n                            <div className=\"heading\">\r\n                                Mafia Ratings\r\n                            </div>\r\n                            <div className=\"content\">\r\n                                {ratings}\r\n                                <div className=\"expand-icon-wrapper\" onClick={() => setShowStatsModal(true)}>\r\n                                    <i className=\"fas fa-expand-arrows-alt\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    {totalGames > 0 &&\r\n                        <div className=\"box-panel pie-chart\" style={panelStyle}>\r\n                            <div className=\"heading\">\r\n                                Pie Chart\r\n                            </div>\r\n                            <div className=\"content\">\r\n                                <Doughnut data={pieChartData} />\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    <div className=\"box-panel recent-games\" style={panelStyle}>\r\n                        <div className=\"heading\">\r\n                            Recent Games\r\n                        </div>\r\n                        <div className=\"content\">\r\n                            {recentGamesRows}\r\n                            {recentGames.length == 0 &&\r\n                                \"No games\"\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    {friendRequests.length > 0 &&\r\n                        <div className=\"box-panel friend-requests\" style={panelStyle}>\r\n                            <div className=\"heading\">\r\n                                Friend Requests\r\n                            </div>\r\n                            <div className=\"content\">\r\n                                {friendRequestRows}\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    <div className=\"box-panel friends\" style={panelStyle}>\r\n                        <div className=\"heading\">\r\n                            Friends\r\n                        </div>\r\n                        <div className=\"content\">\r\n                            <PageNav\r\n                                inverted\r\n                                page={friendsPage}\r\n                                onNav={onFriendsPageNav} />\r\n                            {friendRows}\r\n                            {friends.length == 0 &&\r\n                                \"No friends yet\"\r\n                            }\r\n                            <PageNav\r\n                                inverted\r\n                                page={friendsPage}\r\n                                onNav={onFriendsPageNav} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"box-panel created-setups\" style={panelStyle}>\r\n                        <div className=\"heading\">\r\n                            Setups Created\r\n                        </div>\r\n                        <div className=\"content\">\r\n                            {createdSetupRows}\r\n                            {createdSetups.length == 0 &&\r\n                                \"No setups\"\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Comments location={userId} />\r\n        </>\r\n    );\r\n}\r\n\r\nfunction StatsModal(props) {\r\n    const [statsFilter, setStatsFilter] = useState(\"all\");\r\n    const [statsFilterQuery, setStatsFilterQuery] = useState(\"\");\r\n\r\n    const statsFilters = [\"all\", \"bySetup\", \"byRole\", \"byAlignment\"];\r\n    const statsFilterNames = { \"all\": \"All\", \"bySetup\": \"Setup\", \"byRole\": \"Role\", \"byAlignment\": \"Alignment\" };\r\n    const statsKeyNames = { \"totalGames\": \"Total Games\", \"wins\": \"Wins\", \"abandons\": \"Abandons\", \"reads\": \"Reads\", \"survival\": \"Village Vote Survival\" };\r\n\r\n    var statsRowNames;\r\n    var stats = props.stats[\"Mafia\"][statsFilter];\r\n\r\n    if (stats == null) {\r\n        stats = [];\r\n        statsRowNames = [];\r\n    }\r\n    if (statsFilter == \"all\") {\r\n        stats = [stats];\r\n        statsRowNames = [\"All\"];\r\n    }\r\n    else {\r\n        statsRowNames = Object.keys(stats)\r\n            .filter(key => key.toLowerCase().includes(statsFilterQuery));\r\n        stats = statsRowNames.map(key => stats[key]);\r\n        statsRowNames = statsRowNames.map(key => `${statsFilterNames[statsFilter]}: ${key}`);\r\n    }\r\n\r\n    const filterDropdownOptions = statsFilters.map(filter => (\r\n        <option key={filter} value={filter}>{statsFilterNames[filter]}</option>\r\n    ));\r\n\r\n    const statsRows = stats.map((statsObj, i) => {\r\n        let totalGames = statsObj.totalGames;\r\n        let totalGamesUnabandoned = statsObj.wins?.total + statsObj?.abandons?.total;\r\n        let statsList = Object.keys(statsObj).map(statKey => {\r\n            let statData = statsObj[statKey];\r\n\r\n            switch (statKey) {\r\n                case \"totalGames\":\r\n                    statData = <div className=\"stat-data\">{statData}</div>\r\n                    break;\r\n                case \"wins\":\r\n                case \"abandons\":\r\n                    statData = <div className=\"stat-data\">{statData.count}/{totalGamesUnabandoned}</div>\r\n                    break;\r\n                case \"reads\":\r\n                case \"survival\":\r\n                    statData = <div className=\"stat-data\">{statData.count}/{statData.total}</div>\r\n                    break;\r\n            }\r\n\r\n            return (\r\n                <div className=\"stat\" key={statKey}>\r\n                    <div className=\"stat-name\">\r\n                        {statsKeyNames[statKey]}\r\n                    </div>\r\n                    {statData}\r\n                </div>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className=\"stats-row\" key={statsRowNames[i]}>\r\n                <div className=\"stats-row-name\">\r\n                    {statsRowNames[i]}\r\n                </div>\r\n                <div className=\"stats-list\">\r\n                    {statsList}\r\n                </div>\r\n            </div>\r\n        );\r\n    });\r\n\r\n    const header = \"Ranked Stats\";\r\n\r\n    const content = (\r\n        <div className=\"stats-wrapper\">\r\n            <div className=\"filter\">\r\n                <select\r\n                    value={statsFilter}\r\n                    onChange={(e) => setStatsFilter(e.target.value)}>\r\n                    {filterDropdownOptions}\r\n                </select>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Query\"\r\n                    onChange={(e) => setStatsFilterQuery(e.target.value.toLowerCase())} />\r\n            </div>\r\n            <div className=\"stats\">\r\n                {statsRows}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const footer = (\r\n        <div className=\"control\">\r\n            <div\r\n                className=\"post btn btn-theme\"\r\n                onClick={() => props.setShow(false)}>\r\n                Close\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    function onCancel() {\r\n        props.setShow(false);\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            className=\"stats-modal\"\r\n            show={props.show}\r\n            onBgClick={onCancel}\r\n            header={header}\r\n            content={content}\r\n            footer={footer} />\r\n    );\r\n}","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport update from \"immutability-helper\";\r\n\r\nimport { UserContext, SiteInfoContext } from \"../../Contexts\";\r\nimport LoadingPage from \"../Loading\";\r\nimport Form, { useForm } from \"../../components/Form\";\r\nimport { useErrorAlert } from \"../../components/Alerts\";\r\n\r\nimport \"../../css/settings.css\";\r\nimport { setCaptchaVisible } from \"../../utils\";\r\n\r\nexport default function Settings(props) {\r\n\tconst [settingsLoaded, setSettingsLoaded] = useState(false);\r\n\tconst [accountsLoaded, setAccountsLoaded] = useState(false);\r\n\tconst [accounts, setAccounts] = useState({});\r\n\tconst history = useHistory();\r\n\tconst user = useContext(UserContext);\r\n\tconst siteInfo = useContext(SiteInfoContext);\r\n\tconst errorAlert = useErrorAlert();\r\n\r\n\tconst [siteFields, updateSiteFields] = useForm([\r\n\t\t{\r\n\t\t\tlabel: \"Referral URL\",\r\n\t\t\tref: \"referralURL\",\r\n\t\t\ttype: \"text\",\r\n\t\t\tvalue: (deps) => `${process.env.REACT_APP_URL}/auth/login?ref=${deps.user.id}`,\r\n\t\t\tfixed: true,\r\n\t\t\thighlight: true\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"DMs from Friends Only\",\r\n\t\t\tref: \"onlyFriendDMs\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Disable PG-13 Censor\",\r\n\t\t\tref: \"disablePg13Censor\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t\tshowIf: \"!disableAllCensors\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Disable All Censors\",\r\n\t\t\tref: \"disableAllCensors\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t\tshowIf: (deps) => deps.user.perms.disableAllCensors\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Hide Deleted Posts\",\r\n\t\t\tref: \"hideDeleted\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t\tshowIf: (deps) => deps.user.perms.viewDeleted\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Site Color Scheme\",\r\n\t\t\tref: \"siteColorScheme\",\r\n\t\t\ttype: \"select\",\r\n\t\t\toptions: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"Auto\",\r\n\t\t\t\t\tvalue: \"auto\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"Light\",\r\n\t\t\t\t\tvalue: \"light\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"Dark\",\r\n\t\t\t\t\tvalue: \"dark\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t]);\r\n\r\n\tconst [profileFields, updateProfileFields] = useForm([\r\n\t\t{\r\n\t\t\tlabel: \"Name\",\r\n\t\t\tref: \"username\",\r\n\t\t\ttype: \"text\",\r\n\t\t\tsaveBtn: \"Change\",\r\n\t\t\tsaveBtnDiffer: \"name\",\r\n\t\t\tsaveBtnOnClick: onUsernameSave,\r\n\t\t\tconfirm: \"Are you sure you wish to change your username?\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Birthday\",\r\n\t\t\tref: \"birthday\",\r\n\t\t\ttype: \"date\",\r\n\t\t\tsaveBtn: \"Change\",\r\n\t\t\tsaveBtnDiffer: \"bdayChanged\",\r\n\t\t\tdefault: Date.now(),\r\n\t\t\tsaveBtnOnClick: onBirthdaySave,\r\n\t\t\tconfirm: \"Are you sure you wish to change your birthday? Your birthday can only be changed ONCE per account.\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Show Discord\",\r\n\t\t\tref: \"showDiscord\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t\tshowIf: (deps) => deps.accounts.discord && deps.accounts.discord.id\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Show Twitch\",\r\n\t\t\tref: \"showTwitch\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t\tshowIf: (deps) => deps.accounts.twitch && deps.accounts.twitch.id\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: \"Show Google\",\r\n\t\t// \tref: \"showGoogle\",\r\n\t\t// \ttype: \"boolean\",\r\n\t\t// \tshowIf: (deps) => deps.accounts.google && deps.accounts.google.id\r\n\t\t// },\r\n\t\t{\r\n\t\t\tlabel: \"Show Steam\",\r\n\t\t\tref: \"showSteam\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t\tshowIf: (deps) => deps.accounts.steam && deps.accounts.steam.id\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Background Color\",\r\n\t\t\tref: \"backgroundColor\",\r\n\t\t\ttype: \"color\",\r\n\t\t\tdefault: \"#5357a5\",\r\n\t\t\tdisabled: (deps) => !deps.user.itemsOwned.customProfile\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Youtube video\",\r\n\t\t\tref: \"youtube\",\r\n\t\t\ttype: \"text\",\r\n\t\t\tsaveBtn: \"Change\",\r\n\t\t\tsaveBtnDiffer: \"youtube\",\r\n\t\t\tsaveBtnOnClick: onYoutubeSave,\r\n\t\t\tdefault: \"\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Autoplay video (will only work after playing once)\",\r\n\t\t\tref: \"autoplay\",\r\n\t\t\ttype: \"boolean\",\r\n\t\t\tshowIf: (deps) => deps.user.settings.youtube != null\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Banner Format\",\r\n\t\t\tref: \"bannerFormat\",\r\n\t\t\ttype: \"select\",\r\n\t\t\toptions: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"Tile\",\r\n\t\t\t\t\tvalue: \"tile\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"Stretch\",\r\n\t\t\t\t\tvalue: \"stretch\"\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tdisabled: (deps) => !deps.user.itemsOwned.customProfile\r\n\t\t}\r\n\t], [accounts]);\r\n\r\n\tconst [gameFields, updateGameFields] = useForm([\r\n\t\t{\r\n\t\t\tlabel: \"Name Color\",\r\n\t\t\tref: \"nameColor\",\r\n\t\t\ttype: \"color\",\r\n\t\t\tdefault: \"#000\",\r\n\t\t\tdisabled: (deps) => !deps.user.itemsOwned.textColors\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Text Color\",\r\n\t\t\tref: \"textColor\",\r\n\t\t\ttype: \"color\",\r\n\t\t\tdefault: \"#000\",\r\n\t\t\tdisabled: (deps) => !deps.user.itemsOwned.textColors\r\n\t\t}\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Settings | BeyondMafia\";\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user.loaded && user.loggedIn) {\r\n\t\t\tif (!settingsLoaded) {\r\n\t\t\t\taxios.get(\"/user/settings/data\")\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tlet siteFormFieldChanges = [];\r\n\t\t\t\t\t\tlet profileFormFieldChanges = [];\r\n\t\t\t\t\t\tlet gameFormFieldChanges = [];\r\n\r\n\t\t\t\t\t\tfor (let ref in res.data) {\r\n\t\t\t\t\t\t\tif (!res.data[ref]) continue;\r\n\r\n\t\t\t\t\t\t\tsiteFormFieldChanges.push({\r\n\t\t\t\t\t\t\t\tref: ref,\r\n\t\t\t\t\t\t\t\tprop: \"value\",\r\n\t\t\t\t\t\t\t\tvalue: res.data[ref]\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tprofileFormFieldChanges.push({\r\n\t\t\t\t\t\t\t\tref: ref,\r\n\t\t\t\t\t\t\t\tprop: \"value\",\r\n\t\t\t\t\t\t\t\tvalue: res.data[ref]\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tgameFormFieldChanges.push({\r\n\t\t\t\t\t\t\t\tref: ref,\r\n\t\t\t\t\t\t\t\tprop: \"value\",\r\n\t\t\t\t\t\t\t\tvalue: res.data[ref]\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tupdateSiteFields(siteFormFieldChanges);\r\n\t\t\t\t\t\tupdateProfileFields(profileFormFieldChanges);\r\n\t\t\t\t\t\tupdateGameFields(gameFormFieldChanges);\r\n\t\t\t\t\t\tsetSettingsLoaded(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(errorAlert);\r\n\t\t\t}\r\n\r\n\t\t\tif (!accountsLoaded) {\r\n\t\t\t\taxios.get(\"/user/accounts\")\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tsetAccounts(res.data);\r\n\t\t\t\t\t\tsetAccountsLoaded(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(errorAlert);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [user]);\r\n\r\n\tfunction onSettingChange(action, update) {\r\n\t\tif (action.prop == \"value\" && !action.localOnly) {\r\n\t\t\taxios.post(\"/user/settings/update\", {\r\n\t\t\t\tprop: action.ref,\r\n\t\t\t\tvalue: action.value\r\n\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tuser.updateSetting(action.ref, action.value);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(errorAlert);\r\n\t\t}\r\n\r\n\t\tupdate(action);\r\n\t}\r\n\r\n\tfunction onBirthdaySave(date, deps) {\r\n\t\taxios.post(\"/user/birthday\", { date })\r\n\t\t\t.then(res => {\r\n\t\t\t\tdeps.siteInfo.showAlert(\"Birthday set\", \"success\");\r\n\r\n\t\t\t\tdeps.user.set(update(deps.user, {\r\n\t\t\t\t\tbirthday: { $set: date },\r\n\t\t\t\t\tbdayChanged: { $set: true }\r\n\t\t\t\t}));\r\n\t\t\t})\r\n\t\t\t.catch(deps.errorAlert);\r\n\t}\r\n\r\n\tfunction onUsernameSave(name, deps) {\r\n\t\tvar code = \"\";\r\n\r\n\t\tif (reservedNames.indexOf(name.toLowerCase()) != -1)\r\n\t\t\tcode = window.prompt(\"This name is reserved, please enter your reservation code.\");\r\n\r\n\t\taxios.post(\"/user/name\", { name, code })\r\n\t\t\t.then(res => {\r\n\t\t\t\tdeps.siteInfo.showAlert(\"Username changed\", \"success\");\r\n\r\n\t\t\t\tdeps.user.set(update(deps.user, {\r\n\t\t\t\t\tname: { $set: name },\r\n\t\t\t\t\titemsOwned: {\r\n\t\t\t\t\t\tnameChange: {\r\n\t\t\t\t\t\t\t$set: deps.user.itemsOwned.nameChange - 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t})\r\n\t\t\t.catch(deps.errorAlert);\r\n\t}\r\n\r\n\t function onYoutubeSave(link, deps){\r\n\t \taxios.post(\"/user/youtube\", {link})\r\n\t \t\t.then(res => {\r\n\t \t\t\tdeps.siteInfo.showAlert(\"Profile video changed\", \"success\");\r\n\t\t\t\t\r\n\t\t\t\tdeps.user.set(update(deps.user, {\r\n\t \t\t\t\tyoutube: { $set: link }\r\n\t \t\t\t}));\r\n\t \t\t})\r\n\t \t\t.catch(deps.errorAlert);\r\n\t }\r\n\r\n\tfunction onLogoutClick() {\r\n\t\taxios.post(\"/user/logout\")\r\n\t\t\t.then(res => {\r\n\t\t\t\tuser.clear();\r\n\t\t\t\tsetCaptchaVisible(true);\r\n\t\t\t\thistory.push(\"/\");\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tfunction onDeleteClick() {\r\n\t\tconst shouldDelete = window.confirm(\"Are you sure you wish to delete your account? This is irreversible.\");\r\n\r\n\t\tif (!shouldDelete)\r\n\t\t\treturn;\r\n\r\n\t\taxios.post(\"/user/delete\")\r\n\t\t\t.then(res => {\r\n\t\t\t\tuser.clear();\r\n\t\t\t\thistory.push(\"/\");\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tif (user.loaded && !user.loggedIn)\r\n\t\treturn <Redirect to=\"/play\" />;\r\n\r\n\tif (!settingsLoaded || !accountsLoaded || !user.loaded)\r\n\t\treturn <LoadingPage />\r\n\r\n\treturn (\r\n\t\t<div className=\"span-panel main settings\">\r\n\t\t\t<div className=\"heading\">\r\n\t\t\t\tSite\r\n\t\t\t</div>\r\n\t\t\t<Form\r\n\t\t\t\tfields={siteFields}\r\n\t\t\t\tdeps={{ user }}\r\n\t\t\t\tonChange={action => onSettingChange(action, updateSiteFields)} />\r\n\t\t\t<div className=\"heading\">\r\n\t\t\t\tProfile\r\n\t\t\t</div>\r\n\t\t\t<Form\r\n\t\t\t\tfields={profileFields}\r\n\t\t\t\tdeps={{ name: user.name, user, accounts, siteInfo, errorAlert }}\r\n\t\t\t\tonChange={action => onSettingChange(action, updateProfileFields)} />\r\n\t\t\t<div className=\"heading\">\r\n\t\t\t\tGame\r\n\t\t\t</div>\r\n\t\t\t<Form\r\n\t\t\t\tfields={gameFields}\r\n\t\t\t\tdeps={{ user }}\r\n\t\t\t\tonChange={action => onSettingChange(action, updateGameFields)} />\r\n\t\t\t<div className=\"heading\">\r\n\t\t\t\tAccounts\r\n\t\t\t</div>\r\n\t\t\t<div className=\"accounts-row\">\r\n\t\t\t\t<div className=\"accounts-column\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"btn btn-theme-sec logout\"\r\n\t\t\t\t\t\tonClick={onLogoutClick}>\r\n\t\t\t\t\t\tSign Out\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"btn delete-account\"\r\n\t\t\t\t\t\tonClick={onDeleteClick}>\r\n\t\t\t\t\t\tDelete Account\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst reservedNames = [\"Giga\", \"Giga13\", \"rend\", \"croned\", \"gameshowmaster\", \"gayshowmaster\", \"Golbolco\", \"damiandaniel72\", \"filko\", \"elizachikorita\", \"nyouhas\", \"Thisinthat\", \"jacobkrin\", \"nirkbocaj\", \"hima\", \"Rutab\", \"Nick\", \"kidneybeans\", \"emma\", \"baabaa\", \"DiSoRiEnTeD\", \"DiSo\", \"imasavage\", \"ducky\", \"Pranay7744\", \"Hugo\", \"Dasein\", \"SpaceTimeJumpa\", \"eadin\", \"jingahegami\", \"Kalakaua\", \"GoldenOne\", \"SamP4Palmer\", \"sevenseas\", \"GaryThompson\", \"lemonsun\", \"matt\", \"Transcend\", \"cozy\", \"winx\", \"Roxy\", \"Dawn\", \"mahugashaka\", \"koba\", \"DkKoba\", \"DarkB\", \"LeaderMafia\", \"Validor\", \"BrenTheDerg\", \"juke\", \"polly\", \"eric\", \"evolpz\", \"BradLand\", \"GoodQuestion\", \"Torreador\", \"Gamethroweador\", \"monkney\", \"monkey\", \"Furry\", \"Merlot\", \"Winnie\", \"arials\", \"arials92\", \"lesbian\", \"gays\", \"Mephistopheles\", \"Facilier\", \"MIKEISTKRIEG\", \"MIKEISTKRlEG\", \"JesseVentura\", \"nomsterrpengi\", \"kirbywithaknife\", \"kirbywithagun\", \"Super\", \"shady\", \"shady12\", \"cowboy\", \"Skittlez\", \"Moldyches\", \"Mizzmox\", \"Fro30\", \"Ngekop73\", \"ivana\", \"queen\", \"catlady\", \"mocha\", \"Rapsician\", \"Akari\", \"Sonrio\", \"Purple\", \"GardeningPapa\", \"davesprite\", \"sunburst\", \"RhaegarX\", \"Jennings\", \"ogwam\", \"bono\", \"Loser\", \"Winner\", \"talisker\", \"rigby\", \"CharlieBradbury\", \"KingEvin\", \"swan\", \"dream\", \"ERNurse\", \"lain\", \"jimmyjimjam\", \"starry\", \"muki\", \"starrydash\", \"Xinde\", \"sl0nderman\", \"starlysama\", \"lena\", \"nancy\", \"komaeda\", \"FLICKER\", \"Donut\", \"Mafia\", \"Mafsided\", \"PikachUwU\", \"Vaporeon\", \"marex\", \"feickoo\", \"DrSharky\", \"shwartz99\", \"gemrush\", \"sidnee\", \"MrSlipperyButt\", \"MrsSlipperyButt\", \"emsychum\", \"verum\", \"Disguiser\", \"Ryan\", \"CyanRyan\", \"SinB\", \"xray\", \"ShaggyRogers\", \"TheGreatCornholio\", \"RedRanger\", \"staypositivefriend\", \"FruityPebbles\", \"kimchi\", \"LeChuck\", \"Marty\", \"Joe_\", \"Kerry\", \"Miki\", \"Tristan117\", \"GoodBoiSweater\", \"Clair\", \"Hibiki\", \"viivii\", \"TheTurningRAY\", \"Frabel\", \"Wolf\", \"TheAsian\", \"Achilles\", \"ragefakar\", \"jets\", \"zoot\", \"EllaSantos\", \"Baya\", \"MeteorNate\", \"spookyaleks\", \"ohnoitsrepo\", \"Sona\", \"NinetyNineGhost\", \"ggnore2332\", \"Danny\", \"dannyred694\", \"flashbar\", \"emily\", \"bluscone\", \"Bebop\", \"morgan\", \"Zetonate\", \"johnmiller\", \"Reshoe7777777\", \"Chicken\", \"getdropkicked\", \"JigglyBuff\", \"ibeg\", \"khs131\", \"krista\", \"ania\", \"caitelatte\", \"celebrelatte\", \"Charge\", \"powerofdeath\", \"nightwing8782\", \"weaversden\", \"Valkyrie\", \"alex\", \"megan\", \"lana\", \"psy420\", \"anya\", \"SnowyB\", \"aphelios\", \"MasterCthulhu\", \"XrCyclone\", \"Cyclone\", \"sakin\", \"CooperD\", \"idah09h\", \"jeteon\", \"wink\", \"nicole\", \"sofia\", \"sofiiia\", \"Senty\", \"Sabi\", \"KutiPls\", \"Cream7\", \"Giga96\", \"arcbell\", \"admin\", \"administrator\", \"mod\", \"moderator\", \"lucid\", \"lucidrains\"];","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport update from \"immutability-helper\";\r\n\r\nimport LoadingPage from \"../Loading\";\r\nimport { useErrorAlert } from \"../../components/Alerts\";\r\nimport { UserContext, SiteInfoContext } from \"../../Contexts\";\r\n\r\nimport \"../../css/shop.css\";\r\n\r\nexport default function Shop(props) {\r\n\tconst [shopInfo, setShopInfo] = useState({ shopItems: [], balance: 0 });\r\n\tconst [loaded, setLoaded] = useState(false);\r\n\r\n\tconst user = useContext(UserContext);\r\n\tconst siteInfo = useContext(SiteInfoContext);\r\n\tconst errorAlert = useErrorAlert();\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Shop | BeyondMafia\";\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!user.loaded || !user.loggedIn)\r\n\t\t\treturn;\r\n\r\n\t\taxios.get(\"/shop/info\")\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetShopInfo(res.data);\r\n\t\t\t\tsetLoaded(true);\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}, [user.loaded]);\r\n\r\n\tfunction onBuyItem(index) {\r\n\t\tconst item = shopInfo.shopItems[index];\r\n\t\tconst shouldBuy = window.confirm(`Are you sure you wish to buy ${item.name} for ${item.price} coins?`);\r\n\r\n\t\tif (!shouldBuy)\r\n\t\t\treturn;\r\n\r\n\t\taxios.post(\"/shop/spendCoins\", { item: index })\r\n\t\t\t.then(() => {\r\n\t\t\t\tsiteInfo.showAlert(\"Item purchased.\", \"success\");\r\n\r\n\t\t\t\tsetShopInfo(update(shopInfo, {\r\n\t\t\t\t\tbalance: {\r\n\t\t\t\t\t\t$set: shopInfo.balance - item.price\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\r\n\t\t\t\tuser.set(update(user.state, {\r\n\t\t\t\t\titemsOwned: {\r\n\t\t\t\t\t\t[item.key]: {\r\n\t\t\t\t\t\t\t$set: user.itemsOwned[item.key] + 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tconst shopItems = shopInfo.shopItems.map((item, i) => (\r\n\t\t<div className=\"shop-item\" key={i}>\r\n\t\t\t<div className=\"name\">\r\n\t\t\t\t{item.name}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"desc\">\r\n\t\t\t\t{item.desc}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"bottom\">\r\n\t\t\t\t<div className=\"price\">\r\n\t\t\t\t\t<i className=\"fas fa-coins\" />\r\n\t\t\t\t\t{item.price} coins\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"owned\">\r\n\t\t\t\t\tOwned:\r\n\t\t\t\t\t<div className=\"amt\">\r\n\t\t\t\t\t\t{user.itemsOwned[item.key]}\r\n\t\t\t\t\t\t{item.limit != null &&\r\n\t\t\t\t\t\t\t` / ${item.limit}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`buy btn btn-theme`}\r\n\t\t\t\t\tdisabled={item.limit != null && user.itemsOwned[item.key] >= item.limit}\r\n\t\t\t\t\tonClick={() => onBuyItem(i)}>\r\n\t\t\t\t\tBuy\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t));\r\n\r\n\tif (user.loaded && !user.loggedIn)\r\n\t\treturn <Redirect to=\"/play\" />;\r\n\r\n\tif (!loaded)\r\n\t\treturn <LoadingPage />;\r\n\r\n\treturn (\r\n\t\t<div className=\"span-panel main shop\">\r\n\t\t\t<div className=\"top-bar\">\r\n\t\t\t\t<div className=\"balance\">\r\n\t\t\t\t\t<i className=\"fas fa-coins\" />\r\n\t\t\t\t\t{shopInfo.balance}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"shop-items\">\r\n\t\t\t\t{shopItems}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}","import React, { useState, useContext } from \"react\";\r\nimport { Link, Route, Switch, Redirect } from \"react-router-dom\";\r\nimport update from \"immutability-helper\";\r\n\r\nimport Profile from \"./Profile\";\r\nimport Settings from \"./Settings\";\r\nimport Shop from \"./Shop\";\r\nimport { UserContext, PopoverContext, SiteInfoContext } from \"../../Contexts\";\r\nimport { SubNav } from \"../../components/Nav\";\r\nimport { HiddenUpload } from \"../../components/Form\";\r\n\r\nimport \"../../css/user.css\"\r\nimport { adjustColor, flipTextColor } from \"../../utils\";\r\n\r\n\r\nexport function YouTubeEmbed(props) {\r\n\tconst embedId = props.embedId;\r\n\tvar autoplay = \"\";\r\n\tif (props.autoplay) {\r\n\t\tautoplay = 1;\r\n\t}\r\n\telse {\r\n\t\tautoplay = 0;\r\n\t}\r\n\tif (embedId !== null && embedId !== \"\") {\r\n\t\treturn (\r\n\t\t<div id=\"profile-video\" className=\"video-responsive\">\r\n\t\t\t<iframe\r\n\t\t\t\tsrc={`https://www.youtube.com/embed/${embedId}?autoplay=${autoplay}&mute=0`}\r\n\t\t\t\tallow=\"accelerometer; autoplay; clipboard-write; encrypted-media;\"\r\n\t\t\t\tallowFullScreen>\r\n\t\t\t</iframe>\r\n\t\t</div>);\r\n\t}\r\n\telse {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport default function User(props) {\r\n\tconst user = useContext(UserContext);\r\n\tconst links = [\r\n\t\t{\r\n\t\t\ttext: \"Profile\",\r\n\t\t\tpath: user.id ? `/user/${user.id}` : \"/user\",\r\n\t\t\texact: true,\r\n\t\t\thide: !user.loggedIn\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: \"Settings\",\r\n\t\t\tpath: \"/user/settings\",\r\n\t\t\thide: !user.loggedIn\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: \"Shop\",\r\n\t\t\tpath: \"/user/shop\",\r\n\t\t\thide: !user.loggedIn\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<SubNav links={links} />\r\n\t\t\t<div className=\"inner-content\">\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/user\" render={() => <Profile />} />\r\n\t\t\t\t\t<Route exact path=\"/user/settings\" render={() => <Settings />} />\r\n\t\t\t\t\t<Route exact path=\"/user/shop\" render={() => <Shop />} />\r\n\t\t\t\t\t<Route exact path=\"/user/:userId\" render={() => <Profile />} />\r\n\t\t\t\t\t<Route render={() => <Redirect to=\"/user\" />} />\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport function Avatar(props) {\r\n\tconst small = props.small;\r\n\tconst large = props.large;\r\n\tconst id = props.id;\r\n\tconst name = props.name;\r\n\tconst hasImage = props.hasImage;\r\n\tconst imageUrl = props.imageUrl;\r\n\tconst edit = props.edit;\r\n\tconst onUpload = props.onUpload;\r\n\tconst active = props.active;\r\n\tconst dead = props.dead;\r\n\r\n\tconst siteInfo = useContext(SiteInfoContext);\r\n\tconst style = {};\r\n\tconst colors = [\"#fff59d\", \"#ef9a9a\", \"#9fa8da\", \"#ce93d8\", \"#a5d6a7\", \"#f48fb1\", \"#ffcc80\", \"#90deea\", \"#80cbc4\"]; //yellow, red, blue, purple, green, pink, orange, cyan, teal\r\n\tvar size;\r\n\r\n\tif (small)\r\n\t\tsize = \"small\";\r\n\telse if (large)\r\n\t\tsize = \"large\";\r\n\telse\r\n\t\tsize = \"\";\r\n\r\n\tif (hasImage && !imageUrl && id) {\r\n\t\tstyle.backgroundImage = `url(/uploads/${id}_avatar.jpg?t=${siteInfo.cacheVal})`;\r\n\t}\r\n\telse if (hasImage && imageUrl) {\r\n\t\tstyle.backgroundImage = `url(${imageUrl})`;\r\n\t}\r\n\telse if (name) {\r\n\t\tvar rand = 0;\r\n\r\n\t\tfor (let i = 0; i < name.length; i++)\r\n\t\t\trand ^= name.charCodeAt(i);\r\n\r\n\t\trand ^= name.charCodeAt(1);\r\n\t\trand ^= rand << 13;\r\n\t\trand ^= rand >> 7;\r\n\t\trand ^= rand << 17;\r\n\t\trand = Math.abs(rand) / Math.pow(2, 31);\r\n\r\n\t\tstyle.backgroundColor = colors[Math.floor(rand * colors.length)];\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`avatar ${size} ${dead ? \"dead\" : \"\"} ${active ? \"active\" : \"\"}`}\r\n\t\t\tstyle={style}>\r\n\t\t\t{edit &&\r\n\t\t\t\t<HiddenUpload\r\n\t\t\t\t\tclassName=\"edit\"\r\n\t\t\t\t\tname=\"avatar\"\r\n\t\t\t\t\tonFileUpload={onUpload}>\r\n\t\t\t\t\t<i className=\"far fa-file-image\" />\r\n\t\t\t\t</HiddenUpload>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function NameWithAvatar(props) {\r\n\tconst id = props.id;\r\n\tconst name = props.name || \"[deleted]\";\r\n\tconst avatar = props.avatar;\r\n\tconst noLink = props.name ? props.noLink : true;\r\n\tconst color = props.color;\r\n\tconst newTab = props.newTab;\r\n\tconst small = props.small;\r\n\tconst active = props.active;\r\n\tconst groups = props.groups;\r\n\tconst dead = props.dead;\r\n\tconst popover = useContext(PopoverContext);\r\n\r\n\tvar userNameClassName = `user-name ${adjustColor(color)}`;\r\n\r\n\treturn (\r\n\t\t<Link\r\n\t\t\tclassName={`name-with-avatar ${noLink ? \"no-link\" : \"\"}`}\r\n\t\t\tto={`/user/${id}`}\r\n\t\t\ttarget={newTab ? \"_blank\" : \"\"}\r\n\t\t\tonClick={(e) => {\r\n\t\t\t\tpopover.setVisible(false);\r\n\r\n\t\t\t\tif (noLink)\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t}}>\r\n\t\t\t<Avatar\r\n\t\t\t\thasImage={avatar}\r\n\t\t\t\tid={id}\r\n\t\t\t\tname={name}\r\n\t\t\t\tsmall={small}\r\n\t\t\t\tdead={dead}\r\n\t\t\t\tactive={active} />\r\n\t\t\t<div className={userNameClassName} style={color ? { color: flipTextColor(color) } : {}}>{name}</div>\r\n\t\t\t{groups &&\r\n\t\t\t\t<Badges groups={groups} small={small} />\r\n\t\t\t}\r\n\t\t</Link>\r\n\t);\r\n}\r\n\r\nexport function StatusIcon(props) {\r\n\treturn (\r\n\t\t<div className={`status-icon ${props.status}`} />\r\n\t);\r\n}\r\n\r\nexport function Badges(props) {\r\n\tconst badges = props.groups\r\n\t\t.filter(g => g.badge)\r\n\t\t.sort((a, b) => a.rank - b.rank)\r\n\t\t.map(g => (\r\n\t\t\t<Badge\r\n\t\t\t\ticon={g.badge}\r\n\t\t\t\tcolor={g.badgeColor || \"black\"}\r\n\t\t\t\tname={g.name}\r\n\t\t\t\tkey={g.name} />\r\n\t\t));\r\n\r\n\treturn (\r\n\t\t<div className={`badge-list ${props.small ? \"small\" : \"\"}`}>\r\n\t\t\t{badges}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function Badge(props) {\r\n\treturn (\r\n\t\t<div className=\"badge\">\r\n\t\t\t<i\r\n\t\t\t\tclassName={`fas fa-${props.icon}`}\r\n\t\t\t\tstyle={{ color: props.color }}\r\n\t\t\t\ttitle={props.name} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function useUser() {\r\n\tconst [user, setUser] = useState({\r\n\t\tloggedIn: false,\r\n\t\tloaded: false,\r\n\t\tperms: {},\r\n\t\trank: 0,\r\n\t\tblockedUsers: [],\r\n\t\tsettings: {},\r\n\t\titemsOwned: {}\r\n\t});\r\n\r\n\tfunction clear() {\r\n\t\tsetUser({\r\n\t\t\tloggedIn: false,\r\n\t\t\tloaded: true,\r\n\t\t\tperms: {},\r\n\t\t\trank: 0,\r\n\t\t\tblockedUsers: []\r\n\t\t});\r\n\t}\r\n\r\n\tfunction blockUserToggle(userId) {\r\n\t\tvar userIndex = user.blockedUsers.indexOf(userId);\r\n\r\n\t\tif (userIndex == -1) {\r\n\t\t\tsetUser(update(user, {\r\n\t\t\t\tblockedUsers: {\r\n\t\t\t\t\t$push: [userId]\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetUser(update(user, {\r\n\t\t\t\tblockedUsers: {\r\n\t\t\t\t\t$splice: [[userIndex, 1]]\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updateSetting(prop, value) {\r\n\t\tsetUser(update(user, {\r\n\t\t\tsettings: {\r\n\t\t\t\t[prop]: {\r\n\t\t\t\t\t$set: value\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\r\n\treturn {\r\n\t\t...user,\r\n\t\tstate: user,\r\n\t\tset: setUser,\r\n\t\tblockUserToggle,\r\n\t\tupdateSetting,\r\n\t\tclear\r\n\t};\r\n}","import React, { useRef, useEffect, useCallback, useContext, useState, useReducer } from \"react\";\n\nimport { useSocketListeners, CombinedTextMeetingLayout, TopBar, PlayerList, Timer, SidePanelLayout, ActionButton } from \"./Game\";\nimport { NameWithAvatar } from \"../User/User\";\nimport { MaxTextInputLength, JottoLegalWords } from \"../../Constants\";\nimport { GameContext } from \"../../Contexts\";\nimport update from \"immutability-helper\";\n\nimport \"../../css/jotto.css\";\nimport \"../../css/jotto-mobile.css\";\n\nexport default function JottoGame(props) {\n  const game = useContext(GameContext);\n\n  const history = game.history;\n  const updateHistory = game.updateHistory;\n  const updatePlayers = game.updatePlayers;\n  const stateViewing = game.stateViewing;\n  const updateStateViewing = game.updateStateViewing;\n  const self = game.self;\n  const players = game.players;\n  const isSpectator = game.isSpectator;\n\n  const playBellRef = useRef(false);\n\n  const gameType = \"Jotto\";\n  const meetings = history.states[stateViewing] ? history.states[stateViewing].meetings : {};\n  const stateEvents = history.states[stateViewing] ? history.states[stateViewing].stateEvents : [];\n  const stateNames = [\"Choose Word\", \"Guess Word\"];\n  const audioFileNames = [];\n  const audioLoops = [];\n  const audioOverrides = [];\n  const audioVolumes = [];\n\n  const cheatSheetInit = [\"ABCDEFGHJIKLMNOPQRSTUVWXYZ\"].reduce((obj, letters) => {\n    for (let letter of letters) {\n        obj[letter] = \"none\";\n    }\n    return obj;\n  }, {});\n  const [jottoHistory, updateJottoHistory] = useReducer((jottoHistory, action) => {\n    let newJottoHistory;\n    \n    switch (action.type) {\n        case \"set\":\n            let stateIds = Object.keys(action.history).sort((a, b) => a - b);\n\n            // Convert History into JottoHistory\n            newJottoHistory = { states: {}, cheatsheet: { ...jottoHistory.cheatsheet}};\n            for (let state of stateIds) {\n                if (action.history[state].extraInfo) {\n                    newJottoHistory.states[state] = { ...action.history[state].extraInfo };\n                } else {\n                    newJottoHistory.states[state] = { guesses: {}, chosenWords: {}, opponents: {} };\n                }\n            }\n\n            newJottoHistory.currentState = -2;\n            if (stateIds[0] != -2)\n                newJottoHistory.currentState = stateIds[stateIds.length - 1];\n            break;\n        case \"addState\":\n            if (!jottoHistory.states[action.state.id]) {\n                let prevState;\n\n                if (action.state.id != -2)\n                    prevState = action.state.id - 1;\n                else\n                    prevState = Object.keys(jottoHistory.states).sort((a, b) => b - a)[0];\n\n                // Deep copy old guesses array (no need to deep copy guess objects)\n                let deepGuesses = {};\n                if (jottoHistory.states[prevState]) {\n                    for (let pid in jottoHistory.states[prevState].guesses) {\n                        deepGuesses[pid] = [ ...jottoHistory.states[prevState].guesses[pid] ];\n                    }\n                }\n\n                newJottoHistory = update(jottoHistory, {\n                    states: {\n                        [action.state.id]: {\n                            $set: {\n                                guesses: { ...deepGuesses },\n                                chosenWords: { ...jottoHistory.states[prevState].chosenWords }, \n                                opponents: { ...jottoHistory.states[prevState].opponents }\n                            }\n                        }\n                    },\n                    currentState: {\n                        $set: action.state.id\n                    }\n                });\n            }\n            else\n                newJottoHistory = jottoHistory;\n            break;\n        case \"jottoguess\":\n            if (jottoHistory.states[jottoHistory.currentState]) {\n\n                newJottoHistory = update(jottoHistory, {\n                    states: {\n                        [jottoHistory.currentState]: {\n                            guesses: {\n                                [action.info.playerId]: {\n                                    $push: [{\n                                        word: action.info.word,\n                                        score: action.info.score\n                                    }]\n                                }\n                            }\n                        }\n                    }\n                });\n            }\n            break;\n        case \"jottoreveal\":\n            if (jottoHistory.states[jottoHistory.currentState]) {\n                newJottoHistory = update(jottoHistory, {\n                    states: {\n                        [jottoHistory.currentState]: {\n                            chosenWords: {\n                                [action.info.playerId]: {\n                                    $set: action.info.word\n                                }\n                            }\n                        }\n                    }\n                });\n            }\n            break;\n        case \"jottoinit\":\n            if (jottoHistory.states[jottoHistory.currentState]) {\n                newJottoHistory = update(jottoHistory, {\n                    states: {\n                        [jottoHistory.currentState]: {\n                            guesses: {\n                                [action.info.playerId]: {\n                                    $set: []\n                                }\n                            },\n                            opponents: {\n                                [action.info.playerId]: {\n                                    $set: {\n                                        attackerId: action.info.attackerId,\n                                        targetId: action.info.targetId\n                                    }\n                                }\n                            }\n                        }\n                    }\n                });\n            }\n            break;\n        case \"cheatsheet\":\n            if (jottoHistory.cheatsheet[action.info.letter]) {\n                newJottoHistory = update(jottoHistory, {\n                    cheatsheet: {\n                        [action.info.letter]: {\n                            $set: action.info.class\n                        }\n                    }\n                });\n            }\n            break;\n        case \"cheatsheetall\":\n            const cheatSheet = [\"ABCDEFGHJIKLMNOPQRSTUVWXYZ\"].reduce((obj, letters) => {\n                for (let letter of letters) {\n                    obj[letter] = action.info.class;\n                }\n                return obj;\n            }, {});\n\n            newJottoHistory = update(jottoHistory, {\n                cheatsheet: {\n                    $set: cheatSheet\n                }\n            });\n            break;\n    }\n\n    return newJottoHistory || jottoHistory;\n\n  }, { states: {}, cheatsheet: cheatSheetInit});;\n  \n  // Make player view current state when it changes\n  useEffect(() => {\n    updateStateViewing({ type: \"current\" });\n  }, [history.currentState]);\n\n  useEffect(() => {\n    game.loadAudioFiles(audioFileNames, audioLoops, audioOverrides, audioVolumes);\n\n    // Make game review start at pregame\n    if (game.review)\n      updateStateViewing({ type: \"first\" });\n  }, []);\n\n  useSocketListeners(socket => {\n    socket.on(\"history\", history => {\n        updateJottoHistory({type: \"set\", history});\n    });\n    socket.on(\"state\", state => {\n        updateJottoHistory({type: \"addState\", state});\n    });\n\n    socket.on(\"state\", state => {\n      if (playBellRef.current)\n        game.playAudio(\"bell\");\n\n      playBellRef.current = true;\n    });\n\n    // Receive guesses\n    socket.on(\"jottoguess\", info => {\n        updateJottoHistory({ type: \"jottoguess\", info });\n    });\n\n    // Reveal chosenWords\n    socket.on(\"jottoreveal\", info => {\n        updateJottoHistory({ type: \"jottoreveal\", info });\n    });\n\n    // Receive opponents\n    socket.on(\"jottoinit\", info => {\n        updateJottoHistory({ type: \"jottoinit\", info });\n    });\n  }, game.socket);\n\n  return (\n    <>\n      <TopBar\n        gameType={gameType}\n        setup={game.setup}\n        history={history}\n        stateViewing={stateViewing}\n        updateStateViewing={updateStateViewing}\n        players={players}\n        socket={game.socket}\n        options={game.options}\n        spectatorCount={game.spectatorCount}\n        setLeave={game.setLeave}\n        finished={game.finished}\n        review={game.review}\n        setShowSettingsModal={game.setShowSettingsModal}\n        setRehostId={game.setRehostId}\n        dev={game.dev}\n        gameName={\n          <div className=\"game-name\">\n            <span>J</span>otto\n          </div>\n        }\n        timer={\n          <Timer\n            timers={game.timers}\n            history={history} />\n        } />\n      <SidePanelLayout\n        settings={game.settings}\n        gameType={gameType}\n        leftPanelContent={\n          <>\n            <CombinedTextMeetingLayout\n              socket={game.socket}\n              history={history}\n              updateHistory={updateHistory}\n              players={players}\n              stateViewing={stateViewing}\n              settings={game.settings}\n              filters={game.speechFilters}\n              options={game.options}\n              agoraClient={game.agoraClient}\n              localAudioTrack={game.localAudioTrack}\n              setActiveVoiceChannel={game.setActiveVoiceChannel}\n              muted={game.muted}\n              setMuted={game.setMuted}\n              deafened={game.deafened}\n              setDeafened={game.setDeafened} />\n          </>\n        }\n        mainPanelContent={\n          <>\n            {stateViewing == -1 &&\n                <PlayerList\n                    players={players}\n                    history={history}\n                    gameType={gameType}\n                    stateViewing={stateViewing}\n                    activity={game.activity} />\n            }\n            {stateViewing != -1 &&\n                <JottoLayout \n                    game={game}\n                    socket={game.socket}\n                    meetings={meetings}\n                    players={players}\n                    self={self}\n                    history={history}\n                    jottoHistory={jottoHistory}\n                    updateJottoHistory={updateJottoHistory} \n                    stateViewing={stateViewing}\n                    review={game.review}\n                    isSpectator={game.isSpectator}\n                    activity={game.activity}\n                />\n            }\n          </>\n        } />\n    </>\n  );\n}\n\nfunction JottoLayout(props) {\n    let playerColumns = [];\n    let selfId = props.self;\n\n    const omniscient = props.review || props.isSpectator;\n    let source = omniscient\n        ? props.history.states[props.stateViewing].extraInfo \n        : props.jottoHistory.states[props.stateViewing];\n    // Don't show columns on Choose Word\n    if (source && props.stateViewing != 0) {\n        const opponents = source.opponents;\n        const guesses = source.guesses;\n        const chosenWords = source.chosenWords;\n        if (guesses && chosenWords) {\n            for (let pid in props.players) {\n                if (!opponents[pid]) { continue; }\n\n                // If not review or postgame, skip if not self or self's attacker\n                if (!(omniscient || props.stateViewing === -2)) {\n                    if (!opponents[selfId]) { continue; }\n                    if (pid !== selfId && pid !== opponents[selfId].attackerId) { continue; }\n                }\n\n                let tid = opponents[pid].targetId;\n\n                // Get player's guesses as JottoGuess elements (reverse to make most recent at top)\n                let playerGuesses = guesses[pid].map((guess, i) => {\n                    return (\n                        <JottoGuess \n                            key={i}\n                            guess={guess}\n                        />\n                    );\n                })\n                .reverse();\n\n                // Get opponent's answer\n                let opponentAnswer = \"\";\n                if (chosenWords[tid]) {\n                    opponentAnswer = chosenWords[tid];\n                }\n\n                let answerLabel  = props.players[tid].name + \"'s Word\";\n                let guessesLabel = props.players[pid].name + \"'s Guesses\";\n\n                if (selfId) {\n                    if (selfId == tid)\n                        answerLabel = \"Your Word\";\n                    if (selfId == pid)\n                        guessesLabel = \"Your Guesses\";\n                }\n\n                const targetPlayer = props.players[tid];\n                playerColumns.push((\n                    <React.Fragment key={pid}>\n                        <div className=\"jotto-column-wrapper\">\n                            <NameWithAvatar\n                                id={targetPlayer.userId}\n                                name={targetPlayer.name}\n                                avatar={targetPlayer.avatar}\n                                color={targetPlayer.nameColor}\n                                active={props.activity.speaking[targetPlayer.id]}\n                                noLink\n                                newTab />\n                            <div className=\"jotto-answer-display\">\n                                <JottoAnswer word={opponentAnswer} />\n                            </div>\n                            <span>{guessesLabel}</span>\n                            <div className=\"jotto-guess-display\">\n                                {playerGuesses}\n                            </div>\n                        </div>\n                    </React.Fragment>\n                ));\n            }\n\n            // Put self guesses at left if applicable\n            playerColumns.sort(function (a, b) {\n                const aIsSelf = a.key == selfId;\n                const bIsSelf = b.key == selfId;\n                return aIsSelf ? -1 : bIsSelf ?  1 : 0;\n            });\n        }\n    }\n\n    return (\n        <>\n            <div className=\"jotto-layout-title\">\n                {\"Jotto\"}\n            </div>\n            <div className=\"jotto-layout\">\n                {playerColumns[0]}\n                {!(playerColumns.length > 2) &&\n                    <JottoActionList\n                        socket={props.socket}\n                        meetings={props.meetings}\n                        players={props.players}\n                        self={props.self}\n                        history={props.history}\n                        jottoHistory={props.jottoHistory}\n                        updateJottoHistory={props.updateJottoHistory} \n                        stateViewing={props.stateViewing}\n                        review={props.review}\n                        isSpectator={props.isSpectator}/>\n                }\n                {playerColumns.slice(1)}\n            </div>\n        </>\n    );\n}\n\n\nfunction JottoAnswer(props) {\n    let word = props.word;\n\n    let wordArray = word.split(\"\");\n    while (wordArray.length < 5) {\n        wordArray.push(\"\");\n    }\n    return (\n        <>\n            <JottoWord wordArray={wordArray} />\n        </>\n    )\n}\n\nfunction JottoInput(props) {\n    let word = props.word;\n    let handleOnChange = props.handleOnChange;\n\n    function forceNoCursorMove(e) {\n        if (e.keyCode === 37 ||\n                e.keyCode === 38 ||\n                e.keyCode === 39 ||\n                e.keyCode === 40) {\n            e.preventDefault();\n        }\n    }\n\n    function forceCursorEnd(e) {\n        e.preventDefault();\n        e.target.focus();\n        e.target.setSelectionRange(word.length, word.length);\n    }\n\n    const jottoInput = useCallback((e) => {\n        if (e) {\n            e.focus();\n            e.click();\n        }\n    }, [])\n\n    let wordArray = word.split(\"\");\n    while (wordArray.length < 5) {\n        wordArray.push(\"\");\n    }\n    return (\n        <>\n            <div className=\"jotto-input-container\">\n                <JottoWord wordArray={wordArray} />\n                <input\n                    type=\"text\" \n                    value={word} \n                    onKeyDown={forceNoCursorMove}\n                    onMouseDown={forceCursorEnd}\n                    className=\"jotto-input\" \n                    onChange={handleOnChange}\n                    ref={jottoInput}/>\n            </div>\n        </>\n    )\n}\n\nfunction JottoGuess(props) {\n    let guess = props.guess;\n    let word = guess.word;\n    let score = guess.score;\n    \n    function getScoreLevel() {\n        let level = \"\";\n        switch(score) {\n            case 1:\n            case 2:\n                level = \"low\";\n                break;\n            case 3:\n                level = \"medium\";\n                break;\n            case 4:\n                level = \"high\";\n                break;\n            case 5:\n                level = \"max\";\n                break;\n            case 6:\n                level = \"winner\";\n                break;\n        }\n        return level;\n    }\n\n    word = word.split(\"\");\n    return (\n        <>\n            <div className=\"jotto-guess\">\n                <JottoWord wordArray={word} />\n                <span className={\"jotto-guess-score \" + getScoreLevel()}>{score}</span>\n            </div>\n        </>\n    )\n}\n\nfunction JottoWord(props) {\n    let word = props.wordArray;\n    let tiles = word.map((letter, i) => {\n        return (\n            <div key={i} className=\"jotto-word-tile\">{letter}</div>\n        )\n    });\n    return (\n        <>\n            <div className=\"jotto-word\">{tiles}</div>\n        </>\n    )\n}\n\nfunction JottoActionList(props) {\n    if (props.review || props.isSpectator) {return (<></>);}\n\n    const actions = Object.values(props.meetings).reduce((actions, meeting) => {\n        if (meeting.voting) {\n            let action;\n            switch (meeting.inputType) {\n                case \"button\":\n                    action = \n                        <ActionButton\n                            key={meeting.id}\n                            socket={props.socket}\n                            meeting={meeting}\n                            players={props.players}\n                            self={props.self}\n                            history={props.history}\n                            stateViewing={props.stateViewing} />;\n                    break;\n                case \"text\":\n                    action = \n                        <JottoText\n                            key={meeting.id}\n                            socket={props.socket}\n                            meeting={meeting}\n                            players={props.players}\n                            self={props.self}\n                            history={props.history}\n                            stateViewing={props.stateViewing} />;\n                    break;\n            }\n            if (action) {\n                actions.push(action);\n            }\n        }\n        return actions;\n    }, []);\n\n    return (\n        <>\n            <div className=\"jotto-column-wrapper sticky\">\n                {actions.length > 0 &&\n                    <div className=\"action-list\">\n                        {actions}\n                    </div>\n                }\n                {props.stateViewing > 0 &&\n                    // Don't show cheat sheet on non-guess state\n                    <JottoCheatSheet\n                        jottoHistory={props.jottoHistory}\n                        updateJottoHistory={props.updateJottoHistory} />\n                }\n            </div>\n        </>\n    );\n}\n\nfunction JottoCheatSheet(props) {\n    const alphabet = [\"ABCDE\",\"FGHIJ\",\"KLMNO\",\"PQRST\",\"UVWXY\",\"Z\"];\n    const cheatsheet = props.jottoHistory.cheatsheet;\n\n    function handleChangeColor(e) {\n        let letter = e.target.getAttribute(\"data-letter\");\n        let letterClass = e.target.className.split(\" \")[1];\n\n        if (letterClass == \"none\")\n            letterClass = \"maybe\";\n        else if (letterClass == \"maybe\")\n            letterClass = \"yes\";\n        else if (letterClass == \"yes\")\n            letterClass = \"no\";\n        else if (letterClass == \"no\")\n            letterClass = \"none\";\n\n        props.updateJottoHistory({\n            type: \"cheatsheet\", \n            info: {letter: letter, class: letterClass}\n        });\n    }\n\n    function handleResetCheatsheet(e) {\n        props.updateJottoHistory({\n            type: \"cheatsheetall\", \n            info: {class: \"none\"}\n        });\n    }\n\n    let letters = alphabet.map((lettergroup, i) => {\n        const letters = lettergroup.split(\"\");\n        let letterComponents = letters.map((letter, i) => {\n            return (\n                <div key={i} \n                     className={\"jotto-cheatsheet-letter \" + (cheatsheet[letter] ? cheatsheet[letter] : \"none\")}\n                     onClick={handleChangeColor}\n                     data-letter={letter}>{letter}</div>\n            )\n        });\n\n        return (\n            <div key={i} className=\"jotto-cheatsheet-row\">{letterComponents}</div>\n        )\n    });\n    return (\n        <>\n            <div className=\"jotto-cheatsheet\">{letters}</div>\n            <button\n                className=\"jotto-cheatsheet-reset btn btn-theme\"\n                onClick={handleResetCheatsheet}>Reset</button>\n        </>\n    )\n}\n\nfunction JottoText(props) {\n    const meeting = props.meeting;\n    const self = props.self;\n    \n    const disabled = meeting.finished;\n\n    // text settings\n    const textOptions = meeting.textOptions || {};\n    const minLength = textOptions.minLength || 0;\n    const maxLength = textOptions.maxLength || MaxTextInputLength;\n\n    const [textData, setTextData] = useState(\"\");\n    const [wordWarning, setWordWarning] = useState(\"\");\n\n    function handleOnChange(e) {\n        var textInput = e.target.value;\n        // disable new lines by default\n        textInput = textInput.replace(/\\n/g, \" \");\n\n        if (textOptions.alphaOnly) {\n            textInput = textInput.replace(/[^a-z]/gi, '');\n        }\n        if (textOptions.toUpperCase) {\n            textInput = textInput.toUpperCase();\n        }\n\n        textInput = textInput.substring(0, maxLength);\n        setTextData(textInput);\n    }\n\n    function handleOnSubmit(e) {\n        e.preventDefault();\n        if (textData.length < minLength) {\n            return;\n        }\n\n        if (!JottoLegalWords[textData[0]].includes(textData)) {\n            setWordWarning(\"Not a valid word!\");\n            setTextData(\"\");\n            return;\n        }\n\n        setWordWarning(\"\");\n        meeting.votes[self] = textData;\n        props.socket.send(\"jottovote\", {\n            meetingId: meeting.id,\n            selection: textData\n        });\n    }\n\n    return (\n        <div className=\"action\">\n            <div className=\"action-name\">\n                {meeting.actionName}\n            </div>\n            <form onSubmit={handleOnSubmit}>\n                {!disabled &&\n                    <JottoInput\n                        word={textData}\n                        handleOnChange={handleOnChange} />\n                }\n                {!disabled &&\n                    <div\n                        type=\"submit\"\n                        className=\"btn btn-theme\"\n                        onClick={handleOnSubmit}>\n                        {textOptions.submit || \"Submit\"}\n                    </div>\n                }\n            </form>\n            {wordWarning}\n            {meeting.votes[self]}\n        </div>\n    );\n}\n","const PING_INTERVAL = 10000;\r\n\r\nclass Socket {\r\n\r\n    constructor(socket) {\r\n        this.listeners = {};\r\n        this.sendQueue = [];\r\n        this.received = [];\r\n\r\n        this.setSocket(socket);\r\n    }\r\n\r\n    setSocket(socket) {\r\n        this.socket = socket;\r\n\r\n        this.configureListeners();\r\n\r\n        this.socket.addEventListener(\"open\", () => {\r\n            this.received = [];\r\n\r\n            for (let message of this.sendQueue)\r\n                this.socket.send(message);\r\n        });\r\n\r\n        this.socket.addEventListener(\"close\", () => {\r\n            this.triggerEvent(\"disconnected\");\r\n        });\r\n\r\n        this.socket.addEventListener(\"error\", () => {\r\n            this.terminate();\r\n        });\r\n    }\r\n\r\n    configureListeners() {\r\n        this.socket.addEventListener(\"message\", message => {\r\n            const [eventName, data] = parseMessage(message.data);\r\n            this.triggerEvent(eventName, data);\r\n            this.received.push({ eventName, data });\r\n        });\r\n    }\r\n\r\n    triggerEvent(eventName, data) {\r\n        const actions = this.listeners[eventName];\r\n\r\n        if (!actions)\r\n            return;\r\n\r\n        for (let i = 0; i < actions.length; i++)\r\n            actions[i](data);\r\n    }\r\n\r\n    on(eventName, action) {\r\n        if (!this.listeners[eventName])\r\n            this.listeners[eventName] = [];\r\n\r\n        action = action.bind(this);\r\n        this.listeners[eventName].push(action);\r\n\r\n        for (let message of this.received)\r\n            if (message.eventName == eventName)\r\n                action(message.data);\r\n    }\r\n\r\n    send(eventName, data) {\r\n        const message = stringifyMessage(eventName, data);\r\n\r\n        if (this.socket.readyState == 0)\r\n            this.sendQueue.push(message);\r\n        else if (this.socket.readyState == 1)\r\n            this.socket.send(message);\r\n    }\r\n\r\n    clearListeners() {\r\n        var newListeners = {};\r\n        newListeners[\"p\"] = this.listeners[\"p\"];\r\n        this.listeners = newListeners;\r\n    }\r\n\r\n    terminate() {\r\n        this.socket.close();\r\n    }\r\n\r\n    get readyState() {\r\n        if (this.socket)\r\n            return this.socket.readyState;\r\n        else\r\n            return 3;\r\n    }\r\n\r\n}\r\n\r\nexport class ClientSocket extends Socket {\r\n\r\n    constructor(path, persistent) {\r\n        super(new WebSocket(path));\r\n\r\n        this.path = path;\r\n        this.persistent = persistent;\r\n\r\n        this.configurePing();\r\n        this.configureClose();\r\n    }\r\n\r\n    reconnect() {\r\n        super.setSocket(new WebSocket(this.path));\r\n        this.heartbeat();\r\n        this.configureClose();\r\n    }\r\n\r\n    configurePing() {\r\n        this.heartbeat();\r\n        this.on(\"p\", () => this.heartbeat());\r\n    }\r\n\r\n    heartbeat() {\r\n        clearTimeout(this.pingTimeout);\r\n        this.send(\"p\");\r\n\r\n        this.pingTimeout = setTimeout(() => {\r\n            this.socket.close();\r\n        }, PING_INTERVAL + 1000);\r\n    }\r\n\r\n    configureClose() {\r\n        this.socket.addEventListener(\"close\", () => {\r\n            if (this.persistent)\r\n                this.reconnect();\r\n        });\r\n    }\r\n\r\n    clear() {\r\n        clearTimeout(this.pingTimeout);\r\n\r\n        this.persistent = false;\r\n        this.listeners = {};\r\n        this.sendQueue = [];\r\n\r\n        if (this.socket)\r\n            this.socket.close();\r\n\r\n        this.socket = null;\r\n    }\r\n\r\n}\r\n\r\nexport function stringifyMessage(eventName, data) {\r\n    const type = typeof data;\r\n\r\n    if (type == \"undefined\")\r\n        return eventName;\r\n\r\n    if (type == \"object\")\r\n        data = JSON.stringify(data);\r\n    else if (type != \"string\")\r\n        data = String(data);\r\n\r\n    return `${eventName}:${type}:${data}`;\r\n}\r\n\r\nexport function parseMessage(message) {\r\n    var split = message.split(/:(.*)/s);\r\n    const eventName = split[0];\r\n\r\n    if (split.length < 2)\r\n        return [eventName];\r\n\r\n    split = split[1].split(/:(.*)/s);\r\n\r\n    if (split.length < 2)\r\n        return;\r\n\r\n    const type = split[0];\r\n    var data = split[1];\r\n\r\n    switch (type) {\r\n        case \"number\":\r\n            data = Number(data);\r\n            break;\r\n        case \"boolean\":\r\n            data = data != \"false\";\r\n            break;\r\n        case \"object\":\r\n            try {\r\n                data = JSON.parse(data);\r\n            }\r\n            catch (e) {\r\n                return;\r\n            }\r\n            break;\r\n    }\r\n\r\n    return [eventName, data];\r\n}","import React, { useState, useEffect, useLayoutEffect, useReducer, useContext, useRef } from \"react\";\r\nimport { useParams, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport update from \"immutability-helper\";\r\nimport axios from \"axios\";\r\nimport AgoraRTC from \"agora-rtc-sdk-ng\";\r\nimport ReactLoading from \"react-loading\";\r\n\r\nimport { linkify, UserText } from \"../../components/Basic\";\r\nimport LoadingPage from \"../Loading\";\r\nimport MafiaGame from \"./MafiaGame\";\r\nimport SplitDecisionGame from \"./SplitDecisionGame\";\r\nimport ResistanceGame from \"./ResistanceGame\";\r\nimport OneNightGame from \"./OneNightGame\";\r\nimport JottoGame from \"./JottoGame\";\r\nimport { GameContext, PopoverContext, SiteInfoContext, UserContext } from \"../../Contexts\";\r\nimport Dropdown, { useDropdown } from \"../../components/Dropdown\";\r\nimport Setup from \"../../components/Setup\";\r\nimport { NameWithAvatar } from \"../User/User\";\r\nimport { ClientSocket as Socket } from \"../../Socket\";\r\nimport { RoleCount, RolePrediction } from \"../../components/Roles\";\r\nimport Form, { useForm } from \"../../components/Form\";\r\nimport { Modal } from \"../../components/Modal\";\r\nimport { useErrorAlert } from \"../../components/Alerts\";\r\nimport { MaxGameMessageLength, MaxTextInputLength, MaxWillLength } from \"../../Constants\";\r\nimport { textIncludesSlurs } from \"../../lib/profanity\";\r\n\r\nimport \"../../css/game.css\";\r\nimport \"../../css/game-mobile.css\";\r\nimport { adjustColor, flipTextColor } from \"../../utils\";\r\n\r\nexport default function Game() {\r\n    return (\r\n        <Switch>\r\n            <Route exact path=\"/game/:gameId\" render={(props) => <GameWrapper key={props.match.params.gameId} />} />\r\n            <Route exact path=\"/game/:gameId/review\" render={() => <GameWrapper review />} />\r\n            <Redirect to=\"/play\" />\r\n        </Switch>\r\n    );\r\n}\r\n\r\nfunction GameWrapper(props) {\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [leave, setLeave] = useState(false);\r\n    const [finished, setFinished] = useState(false);\r\n    const [port, setPort] = useState();\r\n    const [gameType, setGameType] = useState();\r\n    const [token, setToken] = useState();\r\n    const [socket, setSocket] = useState({});\r\n    const [connected, setConnected] = useState(0);\r\n    const [setup, setSetup] = useState();\r\n    const [options, setOptions] = useState({});\r\n    const [emojis, setEmojis] = useState({});\r\n    const [history, updateHistory] = useHistoryReducer();\r\n    const [stateViewing, updateStateViewing] = useStateViewingReducer(history);\r\n    const [players, updatePlayers] = usePlayersReducer();\r\n    const [spectatorCount, setSpectatorCount] = useState(0);\r\n    const [isSpectator, setIsSpectator] = useState(false);\r\n    const [self, setSelf] = useState();\r\n    const [lastWill, setLastWill] = useState(\"\");\r\n    const [timers, updateTimers] = useTimersReducer();\r\n    const [settings, updateSettings] = useSettingsReducer();\r\n    const [showSettingsModal, setShowSettingsModal] = useState(false);\r\n    const [showFirstGameModal, setShowFirstGameModal] = useState(false);\r\n    const [speechFilters, setSpeechFilters] = useState({ from: \"\", contains: \"\" });\r\n    const [isolationEnabled, setIsolationEnabled] = useState(false);\r\n    const [isolatedPlayers, setIsolatedPlayers] = useState(new Set());\r\n    const [rolePredictions, setRolePredictions] = useState({});\r\n    const [activeVoiceChannel, setActiveVoiceChannel] = useState();\r\n    const [muted, setMuted] = useState(false);\r\n    const [deafened, setDeafened] = useState(false);\r\n    const [rehostId, setRehostId] = useState();\r\n    const [dev, setDev] = useState(false);\r\n    const [createTime, setCreateTime] = useState();\r\n\r\n    const playersRef = useRef();\r\n    const selfRef = useRef();\r\n    const agoraClient = useRef();\r\n    const localAudioTrack = useRef();\r\n    const noLeaveRef = useRef();\r\n\r\n    const [activity, updateActivity] = useActivity(agoraClient, localAudioTrack);\r\n    const [playAudio, loadAudioFiles, stopAudio, stopAudios, setVolume] = useAudio(settings);\r\n    const siteInfo = useContext(SiteInfoContext);\r\n    const popover = useContext(PopoverContext);\r\n    const errorAlert = useErrorAlert();\r\n    const { gameId } = useParams();\r\n\r\n    const audioFileNames = [\"bell\", \"ping\", \"tick\"];\r\n    const audioLoops = [false, false, false];\r\n    const audioOverrides = [false, false, false];\r\n    const audioVolumes = [1, 1, 1];\r\n\r\n    const togglePlayerIsolation = (playerId) => {\r\n        const newIsolatedPlayers = new Set(isolatedPlayers);\r\n\r\n        if(newIsolatedPlayers.has(playerId)) {\r\n            newIsolatedPlayers.delete(playerId);\r\n        } else {\r\n            newIsolatedPlayers.add(playerId);\r\n        }\r\n        setIsolatedPlayers(newIsolatedPlayers);\r\n    }\r\n    \r\n    function toggleRolePrediction(playerId) {\r\n        return function (prediction) {\r\n            let newRolePredictions = rolePredictions;\r\n            newRolePredictions[playerId] = prediction;\r\n            if (prediction === null) {\r\n                delete newRolePredictions[playerId];\r\n            }\r\n            setRolePredictions(newRolePredictions);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (token == null)\r\n            return;\r\n\r\n        var socketURL;\r\n\r\n        if (process.env.REACT_APP_USE_PORT == \"true\")\r\n            socketURL = `${process.env.REACT_APP_SOCKET_PROTOCOL}://${process.env.REACT_APP_SOCKET_URI}:${port}`;\r\n        else\r\n            socketURL = `${process.env.REACT_APP_SOCKET_PROTOCOL}://${process.env.REACT_APP_SOCKET_URI}/${port}`;\r\n\r\n        var newSocket = new Socket(socketURL);\r\n        newSocket.on(\"connected\", () => setConnected(connected + 1));\r\n        newSocket.on(\"disconnected\", () => setConnected(connected - 1));\r\n        setSocket(newSocket);\r\n\r\n        return () => {\r\n            if (newSocket)\r\n                newSocket.clear();\r\n        };\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        if (finished) {\r\n            socket.clear();\r\n            setSocket({ send: () => { } });\r\n        }\r\n    }, [finished]);\r\n\r\n    useEffect(() => {\r\n        updateSettings({ type: \"load\" });\r\n\r\n        if (!props.review) {\r\n            document.title = `Game ${gameId} | BeyondMafia`;\r\n            loadAudioFiles(audioFileNames, audioLoops, audioOverrides, audioVolumes);\r\n            requestNotificationAccess();\r\n\r\n            var timerInterval = setInterval(() => {\r\n                updateTimers({\r\n                    type: \"updateAll\",\r\n                    playAudio\r\n                });\r\n            }, 1000);\r\n\r\n            function onKeydown() {\r\n                var speechInput = document.getElementById(\"speechInput\");\r\n                var activeElName = document.activeElement.tagName;\r\n\r\n                if (speechInput && activeElName != \"INPUT\" && activeElName != \"TEXTAREA\")\r\n                    speechInput.focus();\r\n            }\r\n\r\n            window.addEventListener(\"keydown\", onKeydown);\r\n\r\n            return () => {\r\n                window.removeEventListener(\"keydown\", onKeydown);\r\n\r\n                clearInterval(timerInterval);\r\n                stopAudio();\r\n                agoraDisconnect();\r\n\r\n                if (localAudioTrack.current)\r\n                    localAudioTrack.current.close();\r\n\r\n            }\r\n        }\r\n        else {\r\n            document.title = `Review Game ${gameId} | BeyondMafia`;\r\n\r\n            axios.get(`/game/${gameId}/review/data`)\r\n                .then(res => {\r\n                    var data = res.data;\r\n\r\n                    if (data.broken) {\r\n                        setLeave(true);\r\n                        errorAlert(\"Game not found.\");\r\n                        return;\r\n                    }\r\n\r\n                    setGameType(data.type);\r\n                    setSetup(data.setup);\r\n\r\n                    setOptions({\r\n                        ranked: data.ranked,\r\n                        spectating: data.spectating,\r\n                        private: false\r\n                    });\r\n\r\n                    updateHistory({\r\n                        type: \"set\",\r\n                        history: JSON.parse(data.history)\r\n                    });\r\n\r\n                    var players = {};\r\n\r\n                    for (let i in data.players) {\r\n                        players[data.players[i]] = {\r\n                            id: data.players[i],\r\n                            name: data.names[i],\r\n                            userId: data.users[i] ? data.users[i].id : \"\",\r\n                            avatar: data.users[i] ? data.users[i].avatar : false,\r\n                            textColor: data.users[i] && data.users[i].settings.textColor,\r\n                            nameColor: data.users[i] && data.users[i].settings.nameColor,\r\n                            left: data.left.indexOf(data.players[i]) != -1\r\n                        };\r\n                    }\r\n\r\n                    updatePlayers({\r\n                        type: \"set\",\r\n                        players\r\n                    });\r\n\r\n                    setLoaded(true);\r\n                })\r\n                .catch((e) => {\r\n                    setLeave(true);\r\n                    errorAlert(e);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        selfRef.current = self;\r\n    }, [self]);\r\n\r\n    useEffect(() => {\r\n        if (stateViewing == null)\r\n            updateStateViewing({ type: \"current\" });\r\n    }, [history.currentState]);\r\n\r\n    useEffect(() => {\r\n        playersRef.current = players;\r\n    }, [players]);\r\n\r\n    useEffect(() => {\r\n        if (!options.voiceChat || props.review)\r\n            return;\r\n\r\n        if (!activeVoiceChannel) {\r\n            agoraDisconnect();\r\n            return;\r\n        }\r\n\r\n        var state = history.states[history.currentState];\r\n        var meeting = state && state.meetings[activeVoiceChannel];\r\n        var vcToken = meeting && meeting.vcToken;\r\n\r\n        if (vcToken)\r\n            agoraConnect(activeVoiceChannel, vcToken);\r\n    }, [activeVoiceChannel]);\r\n\r\n    useEffect(() => {\r\n        if (socket.readyState != 1) {\r\n            if (\r\n                (socket.readyState == null || socket.readyState == 3) &&\r\n                !leave &&\r\n                !finished &&\r\n                !props.review) {\r\n                getConnectionInfo();\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        if (token)\r\n            socket.send(\"auth\", token);\r\n        else\r\n            socket.send(\"join\", { gameId, guestId: window.localStorage.getItem(\"cacheVal\") });\r\n\r\n        socket.on(\"authSuccess\", () => {\r\n            socket.send(\"join\", {\r\n                gameId,\r\n                isBot: window.location.search == \"?bot\"\r\n            });\r\n        });\r\n\r\n        socket.on(\"loaded\", () => {\r\n            setLoaded(true);\r\n        });\r\n\r\n        socket.on(\"setup\", data => {\r\n            setSetup(data);\r\n        });\r\n\r\n        socket.on(\"options\", options => {\r\n            setOptions(options);\r\n        });\r\n\r\n        socket.on(\"emojis\", emojis => {\r\n            setEmojis(emojis);\r\n        });\r\n\r\n        socket.on(\"state\", state => {\r\n            updateHistory({ type: \"addState\", state: state });\r\n        });\r\n\r\n        socket.on(\"history\", history => {\r\n            updateHistory({\r\n                type: \"set\",\r\n                history\r\n            });\r\n        });\r\n\r\n        socket.on(\"players\", players => {\r\n            updatePlayers({\r\n                type: \"set\",\r\n                players\r\n            });\r\n        });\r\n\r\n        socket.on(\"playerJoin\", player => {\r\n            updatePlayers({\r\n                type: \"add\",\r\n                player\r\n            });\r\n        });\r\n\r\n        socket.on(\"playerLeave\", playerId => {\r\n            updatePlayers({\r\n                type: \"remove\",\r\n                playerId\r\n            });\r\n        });\r\n\r\n        socket.on(\"spectatorCount\", count => {\r\n            setSpectatorCount(count);\r\n        });\r\n\r\n        socket.on(\"self\", playerId => {\r\n            setSelf(playerId);\r\n        });\r\n\r\n        socket.on(\"reveal\", info => {\r\n            toggleRolePrediction(info.playerId)(null);\r\n\r\n            updateHistory({\r\n                type: \"reveal\",\r\n                playerId: info.playerId,\r\n                role: info.role\r\n            });\r\n        });\r\n\r\n        socket.on(\"death\", playerInfo => {\r\n            updateHistory({\r\n                type: \"death\",\r\n                playerInfo,\r\n            });\r\n        });\r\n\r\n        socket.on(\"revival\", playerId => {\r\n            updateHistory({\r\n                type: \"revival\",\r\n                playerId,\r\n            });\r\n        });\r\n\r\n        socket.on(\"meeting\", meeting => {\r\n            updateHistory({\r\n                type: \"addMeeting\",\r\n                meeting\r\n            });\r\n        });\r\n\r\n        socket.on(\"members\", info => {\r\n            updateHistory({\r\n                type: \"meetingMembers\",\r\n                meetingId: info.meetingId,\r\n                members: info.members\r\n            });\r\n        });\r\n\r\n        socket.on(\"leftMeeting\", meetingId => {\r\n            updateHistory({\r\n                type: \"removeMeeting\",\r\n                meetingId\r\n            });\r\n        });\r\n\r\n        socket.on(\"stateEvents\", stateEvents => {\r\n            updateHistory({\r\n                type: \"stateEvents\",\r\n                stateEvents\r\n            });\r\n        });\r\n\r\n        socket.on(\"message\", message => {\r\n            updateHistory({\r\n                type: \"addMessage\",\r\n                message\r\n            });\r\n\r\n            const pings = message.content.match(/@[\\w-]*/gm) || [];\r\n\r\n            if (\r\n                selfRef.current && playersRef.current[selfRef.current] &&\r\n                (\r\n                    pings.indexOf(\"@\" + playersRef.current[selfRef.current].name) != -1 ||\r\n                    pings.indexOf(\"@everyone\") != -1\r\n                )\r\n            ) {\r\n                playAudio(\"ping\");\r\n            }\r\n        });\r\n\r\n        socket.on(\"quote\", quote => {\r\n            updateHistory({\r\n                type: \"addQuote\",\r\n                quote\r\n            });\r\n        });\r\n\r\n        socket.on(\"vote\", vote => {\r\n            updateHistory({\r\n                type: \"vote\",\r\n                vote\r\n            });\r\n        });\r\n\r\n        socket.on(\"unvote\", info => {\r\n            updateHistory({\r\n                type: \"unvote\",\r\n                info\r\n            });\r\n        });\r\n\r\n        socket.on(\"lastWill\", will => {\r\n            setLastWill(will);\r\n        });\r\n\r\n        socket.on(\"firstGame\", () => {\r\n            setShowFirstGameModal(true);\r\n        });\r\n\r\n        socket.on(\"timerInfo\", info => {\r\n            updateTimers({\r\n                type: \"create\",\r\n                timer: info\r\n            });\r\n\r\n            if (\r\n                info.name == \"pregameCountdown\" &&\r\n                Notification &&\r\n                Notification.permission == \"granted\" &&\r\n                !document.hasFocus()\r\n            ) {\r\n                new Notification(\"Your game is starting!\");\r\n            }\r\n        });\r\n\r\n        socket.on(\"clearTimer\", name => {\r\n            updateTimers({\r\n                type: \"clear\",\r\n                name\r\n            });\r\n        });\r\n\r\n        socket.on(\"time\", info => {\r\n            updateTimers({\r\n                type: \"update\",\r\n                name: info.name,\r\n                time: info.time\r\n            });\r\n        });\r\n\r\n        socket.on(\"typing\", info => {\r\n            updateActivity({\r\n                type: \"typing\",\r\n                playerId: info.playerId,\r\n                meetingId: info.meetingId\r\n            });\r\n        });\r\n\r\n        socket.on(\"isSpectator\", () => {\r\n            setIsSpectator(true);\r\n        });\r\n\r\n        socket.on(\"left\", () => {\r\n            if (!noLeaveRef.current) {\r\n                setLeave(true);\r\n                siteInfo.hideAllAlerts();\r\n            }\r\n        });\r\n\r\n        socket.on(\"finished\", () => {\r\n            setFinished(true);\r\n        });\r\n\r\n        socket.on(\"error\", error => {\r\n            setLeave(true);\r\n            errorAlert(error);\r\n        });\r\n\r\n        socket.on(\"dev\", () => {\r\n            setDev(true);\r\n        });\r\n    }, [connected]);\r\n\r\n    function getConnectionInfo() {\r\n        axios.get(`/game/${gameId}/connect`)\r\n            .then(res => {\r\n                setCreateTime(res.data.createTime);\r\n                setGameType(res.data.type);\r\n                setPort(res.data.port);\r\n                setToken(res.data.token || false);\r\n            })\r\n            .catch(e => {\r\n                var msg = e && e.response && e.response.data;\r\n\r\n                if (msg == \"Game not found.\")\r\n                    setLeave(\"review\");\r\n                else {\r\n                    setLeave(true);\r\n                    errorAlert(e);\r\n                }\r\n            });\r\n    }\r\n\r\n    function createAgoraClient() {\r\n        if (agoraClient.current)\r\n            return;\r\n\r\n        agoraClient.current = AgoraRTC.createClient({ mode: \"rtc\", codec: \"vp8\" });\r\n\r\n        agoraClient.current.on(\"user-published\", async (user, mediaType) => {\r\n            if (mediaType != \"audio\")\r\n                return;\r\n\r\n            await agoraClient.current.subscribe(user, mediaType);\r\n\r\n            if (deafened)\r\n                user.audioTrack.setVolume(0);\r\n\r\n            user.audioTrack.play();\r\n        });\r\n\r\n        agoraClient.current.on(\"user-unpublished\", user => {\r\n            var audioContainer = document.getElementById(user.uid);\r\n\r\n            if (audioContainer)\r\n                audioContainer.remove();\r\n        });\r\n    }\r\n\r\n    async function agoraConnect(meetingId, token) {\r\n        try {\r\n            if (!agoraClient.current)\r\n                createAgoraClient();\r\n            else\r\n                await agoraDisconnect();\r\n\r\n            await agoraClient.current.join(process.env.REACT_APP_AGORA_ID, meetingId, token, self);\r\n\r\n            if (!localAudioTrack.current) {\r\n                localAudioTrack.current = await AgoraRTC.createMicrophoneAudioTrack();\r\n\r\n                if (muted)\r\n                    localAudioTrack.current.setVolume(0);\r\n            }\r\n\r\n            await agoraClient.current.publish([localAudioTrack.current]);\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    async function agoraDisconnect() {\r\n        if (!agoraClient.current)\r\n            return;\r\n\r\n        agoraClient.current.remoteUsers.forEach(user => {\r\n            let audioContainer = document.getElementById(user.uid);\r\n\r\n            if (audioContainer)\r\n                audioContainer.remove();\r\n        });\r\n\r\n        await agoraClient.current.leave();\r\n    }\r\n\r\n    if (leave == \"review\")\r\n        return <Redirect to={`/game/${gameId}/review`} />;\r\n    else if (leave)\r\n        return <Redirect to=\"/play\" />;\r\n    else if (rehostId)\r\n        return <Redirect to={`/game/${rehostId}`} />;\r\n    else if (!loaded || stateViewing == null)\r\n        return (\r\n            <div className=\"game\">\r\n                <LoadingPage />\r\n            </div>\r\n        );\r\n    else {\r\n        const context = {\r\n            socket: socket,\r\n            review: props.review,\r\n            setup: setup,\r\n            history: history,\r\n            updateHistory: updateHistory,\r\n            stateViewing: stateViewing,\r\n            updateStateViewing: updateStateViewing,\r\n            self: self,\r\n            isSpectator: isSpectator,\r\n            players: players,\r\n            updatePlayers: updatePlayers,\r\n            timers: timers,\r\n            options: options,\r\n            spectatorCount: spectatorCount,\r\n            lastWill: lastWill,\r\n            emojis: emojis,\r\n            setLeave: setLeave,\r\n            finished: finished,\r\n            settings: settings,\r\n            updateSettings: updateSettings,\r\n            setShowSettingsModal: setShowSettingsModal,\r\n            speechFilters: speechFilters,\r\n            setSpeechFilters: setSpeechFilters,\r\n            isolationEnabled,\r\n            setIsolationEnabled,\r\n            isolatedPlayers,\r\n            togglePlayerIsolation,\r\n            rolePredictions,\r\n            toggleRolePrediction,\r\n            loadAudioFiles: loadAudioFiles,\r\n            playAudio: playAudio,\r\n            stopAudio: stopAudio,\r\n            stopAudios: stopAudios,\r\n            setRehostId: setRehostId,\r\n            agoraClient: agoraClient,\r\n            localAudioTrack: localAudioTrack,\r\n            setActiveVoiceChannel: setActiveVoiceChannel,\r\n            activity: activity,\r\n            muted: muted,\r\n            setMuted: setMuted,\r\n            deafened: deafened,\r\n            setDeafened: setDeafened,\r\n            noLeaveRef,\r\n            dev: dev,\r\n            createTime: createTime\r\n        };\r\n\r\n        return (\r\n            <GameContext.Provider value={context}>\r\n                <div className=\"game no-highlight\">\r\n                    <SettingsModal\r\n                        showModal={showSettingsModal}\r\n                        setShowModal={setShowSettingsModal}\r\n                        settings={settings}\r\n                        updateSettings={updateSettings} />\r\n                    <FirstGameModal\r\n                        showModal={showFirstGameModal}\r\n                        setShowModal={setShowFirstGameModal} />\r\n                    {gameType == \"Mafia\" &&\r\n                        <MafiaGame />\r\n                    }\r\n                    {gameType == \"Resistance\" &&\r\n                        <ResistanceGame />\r\n                    }\r\n                    {gameType == \"Split Decision\" &&\r\n                        <SplitDecisionGame />\r\n                    }\r\n                    {gameType == \"One Night\" &&\r\n                        <OneNightGame />\r\n                    }\r\n                    {gameType == \"Jotto\" &&\r\n                        <JottoGame />\r\n                    }\r\n                </div>\r\n            </GameContext.Provider>\r\n        );\r\n    }\r\n}\r\n\r\nexport function useSocketListeners(listeners, socket) {\r\n    useEffect(() => {\r\n        if (!socket.on)\r\n            return;\r\n\r\n        listeners(socket);\r\n    }, [socket]);\r\n}\r\n\r\nexport function TopBar(props) {\r\n    const { gameId } = useParams();\r\n    const infoRef = useRef();\r\n    const errorAlert = useErrorAlert();\r\n    const siteInfo = useContext(SiteInfoContext);\r\n    const popover = useContext(PopoverContext);\r\n\r\n    function onInfoClick(e) {\r\n        e.stopPropagation();\r\n        popover.onClick(\r\n            `/game/${gameId}/info`,\r\n            \"game\",\r\n            infoRef.current,\r\n            `Game ${gameId}`,\r\n        );\r\n    }\r\n\r\n    function onLogoClick() {\r\n        window.open(process.env.REACT_APP_URL, \"_blank\");\r\n    }\r\n\r\n    function onSettingsClick() {\r\n        props.setShowSettingsModal(true);\r\n    }\r\n\r\n    function onTestClick() {\r\n        for (let i = 0; i < props.setup.total - 1; i++)\r\n            window.open(window.location + \"?bot\");\r\n    }\r\n\r\n    function onLeaveGameClick() {\r\n        const shouldLeave = props.finished || props.review || window.confirm(\"Are you sure you wish to leave?\");\r\n\r\n        if (!shouldLeave)\r\n            return;\r\n\r\n        if (props.finished)\r\n            siteInfo.hideAllAlerts();\r\n\r\n        if (props.socket.on)\r\n            props.socket.send(\"leave\");\r\n        else\r\n            props.setLeave(true);\r\n    }\r\n\r\n    function onRehostGameClick() {\r\n        props.noLeaveRef.current = true;\r\n\r\n        if (props.socket.on)\r\n            props.socket.send(\"leave\");\r\n\r\n        setTimeout(() => {\r\n            var stateLengths = {};\r\n\r\n            for (let stateName in props.options.stateLengths)\r\n                stateLengths[stateName] = props.options.stateLengths[stateName] / 60000;\r\n\r\n            axios.post(\"/game/host\", {\r\n                rehost: gameId,\r\n                gameType: props.gameType,\r\n                setup: props.setup.id,\r\n                lobby: props.options.lobby,\r\n                private: props.options.private,\r\n                spectating: props.options.spectating,\r\n                guests: props.options.guests,\r\n                ranked: props.options.ranked,\r\n                stateLengths: stateLengths,\r\n                ...props.options.gameTypeOptions\r\n            })\r\n                .then(res => props.setRehostId(res.data))\r\n                .catch((e) => {\r\n                    props.noLeaveRef.current = false;\r\n                    errorAlert(e);\r\n                });\r\n        }, 500);\r\n    }\r\n\r\n    return (\r\n        <div className={\"top \" + (props.gameType ? props.gameType : \"\")}>\r\n            <div className=\"game-name-wrapper\" onClick={onLogoClick}>\r\n                {props.gameName}\r\n            </div>\r\n            <div className=\"state-wrapper\">\r\n                <StateSwitcher\r\n                    history={props.history}\r\n                    stateViewing={props.stateViewing}\r\n                    updateStateViewing={props.updateStateViewing} />\r\n                {props.timer}\r\n            </div>\r\n            <div className=\"misc-wrapper\">\r\n                <div className=\"misc-left\">\r\n                    <div className=\"misc-buttons\">\r\n                        {props.options.voiceChat &&\r\n                            <i className=\"misc-icon fas fa-microphone\" />\r\n                        }\r\n                        <i\r\n                            className=\"misc-icon fas fa-info-circle\"\r\n                            ref={infoRef}\r\n                            onClick={onInfoClick} />\r\n                        <i\r\n                            className=\"misc-icon fas fa-cog\"\r\n                            onClick={onSettingsClick} />\r\n                        {props.dev &&\r\n                            <i\r\n                                className=\"misc-icon fas fa-vial\"\r\n                                onClick={onTestClick} />\r\n                        }\r\n                    </div>\r\n                    <div className=\"options\">\r\n                        {!props.options.private && !props.review &&\r\n                            <i className=\"fas fa-lock-open\" />\r\n                        }\r\n                        {props.options.private && !props.review &&\r\n                            <i className=\"fas fa-lock\" />\r\n                        }\r\n                        {!props.review &&\r\n                            <div className=\"player-count\">\r\n                                <i className=\"fas fa-users\" />\r\n                                {Object.values(props.players).filter(p => !p.left).length} / {props.setup.total}\r\n                            </div>\r\n                        }\r\n                        {!props.options.spectating && !props.review &&\r\n                            <div className=\"no-spectator\">\r\n                                <i className=\"fas fa-eye-slash\" />\r\n                            </div>\r\n                        }\r\n                        {props.options.spectating && !props.review &&\r\n                            <div className=\"spectator-count\">\r\n                                <i className=\"fas fa-eye\" />\r\n                                {props.spectatorCount}\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                {props.setup &&\r\n                    <Setup setup={props.setup} />\r\n                }\r\n                <div\r\n                    className=\"btn btn-theme leave-game\"\r\n                    onClick={onLeaveGameClick}>\r\n                    Leave\r\n                </div>\r\n                {!props.review && props.history.currentState == -2 &&\r\n                    < div\r\n                        className=\"btn btn-theme-sec rehost-game\"\r\n                        onClick={onRehostGameClick}>\r\n                        Rehost\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function SidePanelLayout(props) {\r\n    return (\r\n        <div className={\"main \"\r\n                        + (props.settings.fullscreen ? \"fullscreen \" : \"\")\r\n                        + (props.gameType ? props.gameType : \"\")\r\n                        }>\r\n            <div className=\"side-left-panel panel\">\r\n                {props.leftPanelContent}\r\n            </div>\r\n            <div className=\"side-main-panel panel\">\r\n                {props.mainPanelContent}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function CombinedTextMeetingLayout(props) {\r\n    const game = useContext(GameContext);\r\n    const { isolationEnabled, isolatedPlayers } = game;\r\n    const { history, players, stateViewing, updateHistory } = props\r\n\r\n    const stateInfo = history.states[stateViewing];\r\n    const meetings = stateInfo ? stateInfo.meetings : {};\r\n    const selTab = stateInfo && stateInfo.selTab;\r\n\r\n    const [autoScroll, setAutoScroll] = useState(true);\r\n    const [mouseMoved, setMouseMoved] = useState(false);\r\n    const speechDisplayRef = useRef();\r\n\r\n    const speechMeetings = Object.values(meetings).filter(meeting => meeting.speech);\r\n\r\n    useLayoutEffect(() => doAutoScroll());\r\n\r\n    useEffect(() => {\r\n        if (stateViewing != null && !selTab && speechMeetings.length) {\r\n            updateHistory({\r\n                type: \"selTab\",\r\n                state: stateViewing,\r\n                meetingId: speechMeetings[0].id\r\n            });\r\n        }\r\n    }, [stateViewing, speechMeetings]);\r\n\r\n    useEffect(() => {\r\n        if (stateViewing == history.currentState)\r\n            setAutoScroll(true);\r\n        else\r\n            setAutoScroll(false);\r\n    }, [stateViewing]);\r\n\r\n    useEffect(() => {\r\n        function onMouseMove() {\r\n            setMouseMoved(true);\r\n            document.removeEventListener(\"mousemove\", onMouseMove);\r\n        }\r\n\r\n        document.addEventListener(\"mousemove\", onMouseMove);\r\n\r\n        return () => document.removeEventListener(\"mousemove\", onMouseMove);\r\n    }, []);\r\n\r\n    function doAutoScroll() {\r\n        if (autoScroll && speechDisplayRef.current)\r\n            speechDisplayRef.current.scrollTop = speechDisplayRef.current.scrollHeight;\r\n    }\r\n\r\n    function onMessageQuote(message) {\r\n        if (!props.review && message.senderId != \"server\" && !message.isQuote && message.quotable) {\r\n            props.socket.send(\"quote\", {\r\n                messageId: message.id,\r\n                toMeetingId: history.states[history.currentState].selTab,\r\n                fromMeetingId: message.meetingId,\r\n                fromState: stateViewing\r\n            });\r\n        }\r\n    }\r\n\r\n    function onSpeechScroll() {\r\n        if (!mouseMoved) {\r\n            doAutoScroll();\r\n            return;\r\n        }\r\n\r\n        let speech = speechDisplayRef.current;\r\n\r\n        if (Math.round(speech.scrollTop + speech.clientHeight) >= Math.round(speech.scrollHeight))\r\n            setAutoScroll(true);\r\n        else\r\n            setAutoScroll(false);\r\n    }\r\n\r\n    // Get all messages and alerts only\r\n    let messages = [];\r\n    for (let state in history.states) {\r\n        if (history.states[state]) {\r\n            for (let t in history.states[state].meetings) {\r\n                messages.push(...history.states[state].meetings[t].messages);\r\n            }\r\n            messages.push(...history.states[state].alerts);\r\n        }\r\n    }\r\n\r\n    messages.sort((a, b) => a.time - b.time);\r\n    messages = messages.map((message, i) => {\r\n        const isNotServerMessage = message.senderId !== \"server\";\r\n        const unfocusedMessage = isolationEnabled && isNotServerMessage && isolatedPlayers.size && !isolatedPlayers.has(message.senderId);\r\n\r\n        return (\r\n            <Message\r\n                message={message}\r\n                history={history}\r\n                players={players}\r\n                stateViewing={stateViewing}\r\n                key={message.id || message.messageId + message.time || i}\r\n                onMessageQuote={onMessageQuote}\r\n                settings={props.settings}\r\n                unfocusedMessage={unfocusedMessage}\r\n                gameCreateTime={game.createTime}\r\n            />\r\n        );\r\n    });\r\n\r\n    let canSpeak = selTab;\r\n    canSpeak = canSpeak && (meetings[selTab].members.length > 1 || history.currentState == -1);\r\n    canSpeak = canSpeak && stateViewing == history.currentState && meetings[selTab].amMember && meetings[selTab].canTalk;\r\n\r\n    return (\r\n        <>\r\n            <div className=\"speech-wrapper\">\r\n                <div\r\n                    className=\"speech-display\"\r\n                    onScroll={onSpeechScroll}\r\n                    ref={speechDisplayRef}>\r\n                    {messages}\r\n                </div>\r\n                {canSpeak &&\r\n                    <SpeechInput\r\n                        meetings={meetings}\r\n                        selTab={selTab}\r\n                        players={players}\r\n                        options={props.options}\r\n                        socket={props.socket}\r\n                        setAutoScroll={setAutoScroll}\r\n                        agoraClient={props.agoraClient}\r\n                        localAudioTrack={props.localAudioTrack}\r\n                        muted={props.muted}\r\n                        setMuted={props.setMuted}\r\n                        deafened={props.deafened}\r\n                        setDeafened={props.setDeafened} />\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport function ThreePanelLayout(props) {\r\n    return (\r\n        <div className={\"main \"\r\n                        + (props.settings.fullscreen ? \"fullscreen \" : \"\")\r\n                        + (props.gameType ? props.gameType : \"\")\r\n                        }>\r\n            <div className=\"left-panel panel\">\r\n                {props.leftPanelContent}\r\n            </div>\r\n            <div className=\"center-panel panel\">\r\n                {props.centerPanelContent}\r\n            </div>\r\n            <div className=\"right-panel panel\">\r\n                {props.rightPanelContent}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function TextMeetingLayout(props) {\r\n    const game = useContext(GameContext);\r\n    const { isolationEnabled, isolatedPlayers } = game;\r\n    const { history, players, stateViewing, updateHistory, setActiveVoiceChannel } = props\r\n\r\n    const stateInfo = history.states[stateViewing];\r\n    const meetings = stateInfo ? stateInfo.meetings : {};\r\n    const alerts = stateInfo ? stateInfo.alerts : [];\r\n    const selTab = stateInfo && stateInfo.selTab;\r\n\r\n    const [autoScroll, setAutoScroll] = useState(true);\r\n    const [mouseMoved, setMouseMoved] = useState(false);\r\n    const speechDisplayRef = useRef();\r\n\r\n    const speechMeetings = Object.values(meetings).filter(meeting => meeting.speech);\r\n\r\n    useLayoutEffect(() => doAutoScroll());\r\n\r\n    useEffect(() => {\r\n        if (stateViewing != null && !selTab && speechMeetings.length) {\r\n            updateHistory({\r\n                type: \"selTab\",\r\n                state: stateViewing,\r\n                meetingId: speechMeetings[0].id\r\n            });\r\n        }\r\n    }, [stateViewing, speechMeetings]);\r\n\r\n    useEffect(() => {\r\n        if (stateViewing == history.currentState)\r\n            setAutoScroll(true);\r\n        else\r\n            setAutoScroll(false);\r\n    }, [stateViewing]);\r\n\r\n    useEffect(() => {\r\n        function onMouseMove() {\r\n            setMouseMoved(true);\r\n            document.removeEventListener(\"mousemove\", onMouseMove);\r\n        }\r\n\r\n        document.addEventListener(\"mousemove\", onMouseMove);\r\n\r\n        return () => document.removeEventListener(\"mousemove\", onMouseMove);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!selTab || !meetings[selTab] || !meetings[selTab].vcToken)\r\n            setActiveVoiceChannel(null);\r\n\r\n        setActiveVoiceChannel(selTab);\r\n    }, [selTab, meetings]);\r\n\r\n    function doAutoScroll() {\r\n        if (autoScroll && speechDisplayRef.current)\r\n            speechDisplayRef.current.scrollTop = speechDisplayRef.current.scrollHeight;\r\n    }\r\n\r\n    function onTabClick(tabId) {\r\n        updateHistory({\r\n            type: \"selTab\",\r\n            state: stateViewing,\r\n            meetingId: tabId\r\n        });\r\n\r\n        setAutoScroll(true);\r\n    }\r\n\r\n    function onMessageQuote(message) {\r\n        if (!props.review && message.senderId != \"server\" && !message.isQuote && message.quotable) {\r\n            props.socket.send(\"quote\", {\r\n                messageId: message.id,\r\n                toMeetingId: history.states[history.currentState].selTab,\r\n                fromMeetingId: message.meetingId,\r\n                fromState: stateViewing\r\n            });\r\n        }\r\n    }\r\n\r\n    function onSpeechScroll() {\r\n        if (!mouseMoved) {\r\n            doAutoScroll();\r\n            return;\r\n        }\r\n\r\n        var speech = speechDisplayRef.current;\r\n\r\n        if (Math.round(speech.scrollTop + speech.clientHeight) >= Math.round(speech.scrollHeight))\r\n            setAutoScroll(true);\r\n        else\r\n            setAutoScroll(false);\r\n    }\r\n\r\n    const tabs = speechMeetings.map(meeting => {\r\n        return (\r\n            <div\r\n                className={`tab ${selTab == meeting.id ? \"sel\" : \"\"}`}\r\n                key={meeting.id}\r\n                onClick={() => onTabClick(meeting.id)}>\r\n                {meeting.name}\r\n            </div>\r\n        );\r\n    });\r\n\r\n    var messages = getMessagesToDisplay(meetings, alerts, selTab, players, props.settings, props.filters);\r\n    messages = messages.map((message, i) => {\r\n        const isNotServerMessage = message.senderId !== \"server\";\r\n        const unfocusedMessage = isolationEnabled && isNotServerMessage && isolatedPlayers.size && !isolatedPlayers.has(message.senderId);\r\n\r\n        return (\r\n            <Message\r\n                message={message}\r\n                history={history}\r\n                players={players}\r\n                stateViewing={stateViewing}\r\n                key={message.id || message.messageId + message.time || i}\r\n                onMessageQuote={onMessageQuote}\r\n                settings={props.settings}\r\n                unfocusedMessage={unfocusedMessage}\r\n                gameCreateTime={game.createTime}\r\n            />\r\n        );\r\n    });\r\n\r\n    var canSpeak = selTab;\r\n    canSpeak = canSpeak && (meetings[selTab].members.length > 1 || history.currentState == -1);\r\n    canSpeak = canSpeak && stateViewing == history.currentState && meetings[selTab].amMember && meetings[selTab].canTalk;\r\n\r\n    return (\r\n        <>\r\n            <div className=\"meeting-tabs\">\r\n                {tabs.length > 0 &&\r\n                    tabs\r\n                }\r\n                {tabs.length == 0 &&\r\n                    <div className=\"tab sel\">\r\n                        {stateInfo && stateInfo.name}\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div className=\"speech-wrapper\">\r\n                <div\r\n                    className=\"speech-display\"\r\n                    onScroll={onSpeechScroll}\r\n                    ref={speechDisplayRef}>\r\n                    {messages}\r\n                </div>\r\n                {canSpeak &&\r\n                    <SpeechInput\r\n                        meetings={meetings}\r\n                        selTab={selTab}\r\n                        players={players}\r\n                        options={props.options}\r\n                        socket={props.socket}\r\n                        setAutoScroll={setAutoScroll}\r\n                        agoraClient={props.agoraClient}\r\n                        localAudioTrack={props.localAudioTrack}\r\n                        muted={props.muted}\r\n                        setMuted={props.setMuted}\r\n                        deafened={props.deafened}\r\n                        setDeafened={props.setDeafened} />\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nfunction getMessagesToDisplay(meetings, alerts, selTab, players, settings, filters) {\r\n    var messages;\r\n\r\n    if (selTab)\r\n        messages = [...meetings[selTab].messages];\r\n    else\r\n        messages = [];\r\n\r\n    if (filters && (filters.from || filters.contains))\r\n        messages = messages.filter(m => {\r\n            var content = m.content || \"\";\r\n            var matches = content.toLowerCase().indexOf(filters.contains.toLowerCase()) != -1;\r\n\r\n            var playerName = players[m.senderId]?.name || \"\";\r\n            matches = matches && playerName.toLowerCase().indexOf(filters.from.toLowerCase()) != -1;\r\n\r\n            return matches;\r\n        });\r\n\r\n    for (let alert of alerts) {\r\n        for (let i = 0; i <= messages.length; i++) {\r\n            if (i == messages.length) {\r\n                messages.push(alert);\r\n                break;\r\n            }\r\n            else if (alert.time < messages[i].time) {\r\n                messages.splice(i, 0, alert);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    if (!settings.votingLog)\r\n        return messages;\r\n\r\n    var voteRecord;\r\n\r\n    if (selTab)\r\n        voteRecord = meetings[selTab].voteRecord;\r\n    else\r\n        voteRecord = [];\r\n\r\n    for (let meetingId in meetings)\r\n        if (!meetings[meetingId].speech)\r\n            voteRecord = voteRecord.concat(meetings[meetingId].voteRecord);\r\n\r\n    for (let vote of voteRecord) {\r\n        let isUnvote = vote.type == \"unvote\";\r\n        let voter = players[vote.voterId];\r\n        let voterName = voter ? voter.name : \"Anonymous\";\r\n        let target = vote.target;\r\n\r\n        if (!isUnvote) {\r\n            if (target != \"*\" && players[target])\r\n                target = players[target].name;\r\n            else if (target == \"*\")\r\n                target = \"no one\";\r\n        }\r\n\r\n        let voteMsg = {\r\n            senderId: \"vote\",\r\n            content: `${voterName} ${isUnvote ? \"unvotes\" : \"votes\"} ${isUnvote ? \"\" : target}`,\r\n            time: vote.time\r\n        };\r\n\r\n        for (let i = 0; i <= messages.length; i++) {\r\n            if (i == messages.length) {\r\n                messages.push(voteMsg);\r\n                break;\r\n            }\r\n            else if (vote.time < messages[i].time) {\r\n                messages.splice(i, 0, voteMsg);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    return messages;\r\n}\r\n\r\nfunction areSameDay(first, second) {\r\n    first = new Date(first);\r\n    second = new Date(second);\r\n    first.setYear(0);\r\n    second.setYear(0);\r\n    if (first.getMonth() === second.getMonth() &&\r\n        first.getDate() === second.getDate()) {\r\n            return true;\r\n        }\r\n        return false;\r\n}\r\n\r\nfunction Message(props) {\r\n    const history = props.history;\r\n    const players = props.players;\r\n    const user = useContext(UserContext);\r\n\r\n    let gameCreateTime = props.gameCreateTime;\r\n    var message = props.message;\r\n    var player, quotedMessage;\r\n    var contentClass = \"content \";\r\n    var isMe = false;\r\n    var currentState = props.history.currentState;\r\n    var meetings = history.states[currentState].meetings;\r\n\r\n    if (\r\n        message.senderId != \"server\" &&\r\n        message.senderId != \"vote\" &&\r\n        message.senderId != \"anonymous\"\r\n    ) {\r\n        player = players[message.senderId];\r\n    }\r\n\r\n    if (message.isQuote) {\r\n        var state = history.states[message.fromState];\r\n\r\n        if (!state)\r\n            return <></>;\r\n\r\n        var meeting = state.meetings[message.fromMeetingId];\r\n\r\n        if (!meeting)\r\n            return <></>;\r\n\r\n        for (let msg of meeting.messages) {\r\n            if (msg.id == message.messageId) {\r\n                quotedMessage = { ...msg };\r\n                quotedMessage.meetingName = meeting.name;\r\n\r\n                if (msg.senderId == \"anonymous\")\r\n                    quotedMessage.senderName = \"Anonymous\";\r\n                else\r\n                    quotedMessage.senderName = players[msg.senderId].name;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    if (message.isQuote && !quotedMessage)\r\n        return <></>;\r\n\r\n    var stateMeetings = history.states[props.stateViewing].meetings;\r\n\r\n    var stateMeetingDefined = (stateMeetings !== undefined && (\r\n                                    // message has meetingId, quote has toMeetingId\r\n                                    stateMeetings[message.meetingId] !== undefined ||\r\n                                    stateMeetings[message.toMeetingId] !== undefined\r\n                                ));\r\n\r\n    var playerDead = false;\r\n    var deadGray = \"#808080\";\r\n    var playerHasTextColor = false;\r\n\r\n    if (player !== undefined) {\r\n        const playerDeath = history.states[props.stateViewing].deaths[message.senderId];\r\n        if (playerDeath && playerDeath.time) {\r\n            const playerDeathTime = playerDeath.time\r\n            playerDead = playerDeath.dead && message.time > playerDeathTime;\r\n        } else if (playerDeath) {\r\n            playerDead = playerDeath.dead ? true : false;\r\n        }\r\n        playerHasTextColor = (player.textColor !== undefined) ? true : false;\r\n        if (stateMeetingDefined) {\r\n            const meetingId = message.meetingId || message.toMeetingId;\r\n            if (stateMeetings[meetingId].name === \"Party!\" && !playerDead) {\r\n                contentClass += \"party \";\r\n            }\r\n        }\r\n    }\r\n\r\n    if ((player || message.senderId == \"anonymous\") && !message.isQuote)\r\n        contentClass += \"clickable \";\r\n\r\n    if (!message.isQuote && message.content.indexOf(\"/me \") == 0) {\r\n        isMe = true;\r\n        message = { ...message };\r\n        message.content = message.content.replace(\"/me \", \"\");\r\n    }\r\n\r\n    if (message.isQuote)\r\n        contentClass += \"quote \";\r\n    else if (message.senderId == \"server\")\r\n        contentClass += \"server \";\r\n    else if (message.senderId == \"vote\")\r\n        contentClass += \"vote-record \";\r\n    else if (isMe)\r\n        contentClass += \"me \";\r\n\r\n    const messageStyle = {};\r\n    if(props.unfocusedMessage) {\r\n        messageStyle.opacity = \"0.2\";\r\n    }\r\n\r\n    if (player !== undefined) {\r\n        if (playerDead && props.stateViewing > -1 && stateMeetingDefined) {\r\n            contentClass += \"dead\";\r\n        } else if (player.birthday !== undefined && areSameDay(Date.now(), player.birthday)) {\r\n            contentClass += \" party \";\r\n        }\r\n    }\r\n\r\n    if (message.content?.startsWith(\">\")) {\r\n        contentClass += \"greentext \";\r\n        playerHasTextColor = false;\r\n    }\r\n\r\n    if (player !== undefined && player.textColor !== undefined) {\r\n        contentClass += `${adjustColor(player.textColor)}`;\r\n    }\r\n    \r\n    return (\r\n        <div\r\n            className=\"message\"\r\n            onDoubleClick={() => props.onMessageQuote(message)}\r\n            style={messageStyle}\r\n        >\r\n            <div className=\"sender\">\r\n                {props.settings.timestamps &&\r\n                    <Timestamp gameCreateTime={gameCreateTime} time={message.time} />\r\n                }\r\n                {player &&\r\n                    <NameWithAvatar\r\n                        dead={playerDead && props.stateViewing > 0}\r\n                        id={player.userId}\r\n                        name={player.name}\r\n                        avatar={player.avatar}\r\n                        color={(playerDead && props.stateViewing > 0) ? deadGray : player.nameColor}\r\n                        noLink\r\n                        small />\r\n                }\r\n                {message.senderId == \"anonymous\" &&\r\n                    <div className=\"name-with-avatar\">\r\n                        Anonymous\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div className={contentClass} style={ (playerHasTextColor) ? { color: flipTextColor(player.textColor) } : {} }>\r\n                {!message.isQuote &&\r\n                    <>\r\n                        {message.prefix &&\r\n                            <div className=\"prefix\">\r\n                                ({message.prefix})\r\n                            </div>\r\n                        }\r\n                        <UserText\r\n                            text={message.content}\r\n                            settings={user.settings}\r\n                            players={players}\r\n                            filterProfanity\r\n                            linkify\r\n                            emotify\r\n                            iconUsername />\r\n                    </>\r\n                }\r\n                {message.isQuote &&\r\n                    <>\r\n                        <i className=\"fas fa-quote-left\" />\r\n                        <Timestamp gameCreateTime={gameCreateTime} time={quotedMessage.time} />\r\n                        <div className=\"quote-info\">\r\n                            {`${quotedMessage.senderName} in ${quotedMessage.meetingName}: `}\r\n                        </div>\r\n                        <div className=\"quote-content\">\r\n                            <UserText\r\n                                text={quotedMessage.content}\r\n                                settings={user.settings}\r\n                                players={players}\r\n                                filterProfanity\r\n                                linkify\r\n                                emotify\r\n                                iconUsername />\r\n                        </div>\r\n                        <i className=\"fas fa-quote-right\" />\r\n                    </>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function Timestamp(props) {\r\n    let gameCreateTime = props.gameCreateTime || 0;  // Use real time if gameCreateTime was undefined\r\n    const timestamp = Math.abs(new Date(props.time) - new Date(gameCreateTime));\r\n\r\n    // Convert millisecond difference into hours/minutes/seconds\r\n    let hours = String(Math.floor((timestamp / (1000 * 60 * 60)) % 24)).padStart(2, \"0\"),\r\n        minutes = String(Math.floor((timestamp / (1000 * 60)) % 60)).padStart(2, \"0\"),\r\n        seconds = String(Math.floor((timestamp / 1000) % 60)).padStart(2, \"0\");\r\n\r\n    return (\r\n        <div className=\"time\">\r\n            {hours}:{minutes}:{seconds}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction SpeechInput(props) {\r\n    const socket = props.socket;\r\n    const meetings = props.meetings;\r\n    const selTab = props.selTab;\r\n    const players = props.players;\r\n    const options = props.options;\r\n    const agoraClient = props.agoraClient;\r\n    const localAudioTrack = props.localAudioTrack;\r\n    const muted = props.muted;\r\n    const setMuted = props.setMuted;\r\n    const deafened = props.deafened;\r\n    const setDeafened = props.setDeafened;\r\n\r\n    const [speechInput, setSpeechInput] = useState(\"\");\r\n    const [speechDropdownOptions, setSpeechDropdownOptions] = useState([]);\r\n    const [speechDropdownValue, setSpeechDropdownValue] = useState(\"Say\");\r\n    const [lastTyped, setLastTyped] = useState(0);\r\n    const [typingIn, setTypingIn] = useState();\r\n    const [clearTyping, setClearTyping] = useState();\r\n\r\n    var placeholder = \"\";\r\n\r\n    for (let option of speechDropdownOptions) {\r\n        if (speechDropdownValue == option.id) {\r\n            placeholder = option.placeholder || \"\";\r\n            break;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!selTab)\r\n            return <></>;\r\n\r\n        const speechAbilities = meetings[selTab].speechAbilities;\r\n        const newDropdownOptions = [{ label: \"Say\", id: \"Say\", placeholder: \"to everyone\" }];\r\n\r\n        for (let ability of speechAbilities) {\r\n            newDropdownOptions.push(\"divider\");\r\n\r\n            for (let target of ability.targets) {\r\n                let targetDisplay = target;\r\n\r\n                if (ability.targetType == \"player\")\r\n                    targetDisplay = players[target].name;\r\n\r\n                newDropdownOptions.push({\r\n                    label: ability.name,\r\n                    placeholder: `${ability.verb} ${targetDisplay}`,\r\n                    id: `${ability.name}:${target}`\r\n                });\r\n            }\r\n        }\r\n\r\n        setSpeechDropdownOptions(newDropdownOptions);\r\n    }, [selTab]);\r\n\r\n    useEffect(() => {\r\n        if (lastTyped > 0) {\r\n            clearTimeout(clearTyping);\r\n            setClearTyping(setTimeout(() => setLastTyped(0), 1000));\r\n\r\n            if (typingIn != selTab) {\r\n                setTypingIn(selTab);\r\n\r\n                if (typingIn != null)\r\n                    socket.send(\"typing\", { meetingId: typingIn, isTyping: false });\r\n\r\n                socket.send(\"typing\", { meetingId: selTab, isTyping: true });\r\n            }\r\n        }\r\n        else if (typingIn != null) {\r\n            setTypingIn(null);\r\n            socket.send(\"typing\", { meetingId: typingIn, isTyping: false });\r\n        }\r\n\r\n    }, [lastTyped]);\r\n\r\n    function onSpeechDropdownChange(value) {\r\n        setSpeechDropdownValue(value);\r\n    }\r\n\r\n    function onSpeechType(e) {\r\n        setSpeechInput(e.target.value);\r\n\r\n        if (\r\n            e.target.value.length > 0 &&\r\n            (e.target.value[0] != \"/\" || e.target.value.slice(0, 4) == \"/me \") &&\r\n            !meetings[selTab].anonymous &&\r\n            speechDropdownValue == \"Say\"\r\n        ) {\r\n            setLastTyped(Date.now());\r\n        }\r\n    }\r\n\r\n    function onSpeechSubmit(e) {\r\n        if (e.key === \"Enter\" && selTab && speechInput.length) {\r\n            const abilityInfo = speechDropdownValue.split(\":\");\r\n            var abilityName = abilityInfo[0];\r\n            var abilityTarget = abilityInfo[1];\r\n\r\n            if (abilityName == \"Say\")\r\n                abilityName = null;\r\n\r\n            if (textIncludesSlurs(speechInput)) {\r\n                socket.send(\"slurDetected\");\r\n            } else {\r\n                socket.send(\"speak\", {\r\n                    content: speechInput,\r\n                    meetingId: selTab,\r\n                    abilityName,\r\n                    abilityTarget\r\n                });\r\n                props.setAutoScroll(true);\r\n           }\r\n            \r\n            setSpeechInput(\"\");\r\n\r\n        } else if (e.key === \"Tab\") {\r\n            e.preventDefault();\r\n            const words = speechInput.split(\" \");\r\n            const word = words.pop();\r\n            // Removing non-word characters before the string.\r\n            const seedString = word.match(/[^\\w-]?([\\w-]*)$/)[1].toLowerCase();\r\n            const prefix = word.substring(0, word.length - seedString.length);\r\n            if (!seedString.length)\r\n                return;\r\n\r\n            const playerNames = Object.values(players).map(player => player.name);\r\n            const playerSeeds = playerNames.map(playerName => playerName.toLowerCase().substring(0, seedString.length));\r\n            const matchedPlayers = [];\r\n            for (const i in playerSeeds) { // Checking seed string against characters in player names.\r\n                if (playerSeeds[i] === seedString) {\r\n                    matchedPlayers.push(playerNames[i]);\r\n                }\r\n            }\r\n            if (matchedPlayers.length) {\r\n                if (matchedPlayers.length === 1) { // If one matching player, autocomplete entire name.\r\n                    words.push(prefix + matchedPlayers[0]);\r\n                } else { // If multiple matching players, autocomplete until player names diverge.\r\n                    let autocompleted = \"\";\r\n                    let i = 1;\r\n                    while (matchedPlayers.every(playerName => playerName[i] === matchedPlayers[0][i])) {\r\n                        i += 1;\r\n                    }\r\n                    words.push(prefix + matchedPlayers[0].substring(0, i));\r\n                }\r\n                setSpeechInput(words.join(\" \"));\r\n            } else if (word.toLowerCase() === \"@everyone\".substring(0, word.length)) { // Check for @everyone.\r\n                words.push(\"@everyone\");\r\n                setSpeechInput(words.join(\" \"));\r\n            }\r\n        }\r\n    }\r\n\r\n    function onMute() {\r\n        if (localAudioTrack.current) {\r\n            var volume = muted ? 100 : 0;\r\n\r\n            localAudioTrack.current.setVolume(volume);\r\n            setMuted(!muted);\r\n        }\r\n    }\r\n\r\n    function onDeafen() {\r\n        if (agoraClient.current) {\r\n            var volume = deafened ? 100 : 0;\r\n\r\n            agoraClient.current.remoteUsers.forEach(user => {\r\n                user.audioTrack && user.audioTrack.setVolume(volume);\r\n            });\r\n\r\n            setDeafened(!deafened);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"speech-input-area\">\r\n            <div className=\"speech-input-wrapper\">\r\n                <Dropdown\r\n                    className=\"speech-dropdown\"\r\n                    options={speechDropdownOptions}\r\n                    onChange={onSpeechDropdownChange}\r\n                    value={speechDropdownValue} />\r\n                <input\r\n                    id=\"speechInput\"\r\n                    className=\"speech-input\"\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    value={speechInput}\r\n                    placeholder={placeholder}\r\n                    maxLength={MaxGameMessageLength}\r\n                    onChange={onSpeechType}\r\n                    enterkeyhint=\"done\"\r\n                    onKeyDown={onSpeechSubmit} />\r\n            </div>\r\n            {options.voiceChat &&\r\n                <>\r\n                    <i className={`fas fa-microphone ${muted ? \"disabled\" : \"\"}`} onClick={onMute} />\r\n                    <i className={`fas fa-headphones ${deafened ? \"disabled\" : \"\"}`} onClick={onDeafen} />\r\n                </>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function StateSwitcher(props) {\r\n    const history = props.history;\r\n    const stateViewing = props.stateViewing;\r\n    const stateName = history.states[stateViewing] ? history.states[stateViewing].name : \"\";\r\n\r\n    const leftArrowVisible = props.stateViewing != -1;\r\n    const rigthArrowVisible =\r\n        props.stateViewing < history.currentState ||\r\n        (history.currentState == -2 && props.stateViewing != history.currentState);\r\n\r\n    function onStateNameClick() {\r\n        props.updateStateViewing({ type: \"current\" });\r\n    }\r\n\r\n    return (\r\n        <div className=\"state-nav\">\r\n            <i\r\n                className={`hist-arrow fas fa-caret-left ${leftArrowVisible ? \"\" : \"invisible\"}`}\r\n                onClick={() => props.updateStateViewing({ type: \"backward\" })} />\r\n            <div\r\n                className=\"state-name\"\r\n                onClick={onStateNameClick}>\r\n                {stateName.toUpperCase()}\r\n            </div>\r\n            <i\r\n                className={`hist-arrow fas fa-caret-right ${rigthArrowVisible ? \"\" : \"invisible\"}`}\r\n                onClick={() => props.updateStateViewing({ type: \"forward\" })} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function formatTimerTime(time) {\r\n    if (time > 0)\r\n        time = Math.round(time / 1000);\r\n    else\r\n        time = 0;\r\n\r\n    const minutes = String(Math.floor(time / 60)).padStart(2, \"0\");\r\n    const seconds = String(time % 60).padStart(2, \"0\");\r\n\r\n    return `${minutes}:${seconds}`;\r\n}\r\n\r\nexport function SideMenu(props) {\r\n    const collapsible = props.collapsible;\r\n    const [activeCollapse, setActiveCollapse] = useState(false);\r\n\r\n    return (\r\n        <div className={`side-menu ${props.scrollable ? \"scrollable\" : \"\"} ${activeCollapse ? \"collapsed\" : \"\"}`}>\r\n            <div className=\"side-menu-title\" \r\n                    onClick={() => setActiveCollapse(!activeCollapse && collapsible)}>\r\n                {props.title}\r\n            </div>\r\n            <div className=\"side-menu-content\">\r\n                {props.content}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction RoleMarkerToggle(props) {\r\n    const roleMarkerRef = useRef();\r\n    const popover = useContext(PopoverContext);\r\n    const game = useContext(GameContext);\r\n    const { toggleRolePrediction } = game;\r\n    const playerId = props.playerId;\r\n\r\n    function onRoleMarkerClick() {\r\n\t\tif (props.onClick)\r\n\t\t\tprops.onClick();        \r\n        \r\n        popover.onClick(\r\n            `/setup/${game.setup.id}`,\r\n            \"rolePrediction\",\r\n            roleMarkerRef.current,\r\n            \"Mark Role as\",\r\n            data => {\r\n                data.roles = JSON.parse(data.roles)[0];\r\n                data.toggleRolePrediction = toggleRolePrediction(playerId);\r\n            }\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"role-marker\" \r\n            onClick={onRoleMarkerClick}\r\n            ref={roleMarkerRef}>\r\n\r\n            <i className=\"fas fa-user-edit\"></i>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport function PlayerRows(props) {\r\n    const game = useContext(GameContext);\r\n    const { isolationEnabled, togglePlayerIsolation, isolatedPlayers } = game;\r\n    const { rolePredictions } = game;\r\n    const history = props.history;\r\n    const players = props.players;\r\n    const activity = props.activity;\r\n    const stateViewingInfo = history.states[props.stateViewing];\r\n    const selTab = stateViewingInfo && stateViewingInfo.selTab;\r\n\r\n    const isPlayerIsolated = playerId => isolatedPlayers.has(playerId);\r\n\r\n    const rows = players.map(player => {\r\n        const isolationCheckbox = isolationEnabled && (\r\n            <input\r\n                type=\"checkbox\"\r\n                checked={isPlayerIsolated(player.id)}\r\n                onChange={() => togglePlayerIsolation(player.id)}\r\n            />\r\n        )\r\n\r\n        const rolePrediction = rolePredictions[player.id];\r\n        const roleToShow = rolePrediction ? rolePrediction : stateViewingInfo.roles[player.id];\r\n\r\n        var showBubbles = (Object.keys(history.states[history.currentState].deaths).includes(props.self) ||\r\n         players.find(x => x.id === props.self) !== undefined);\r\n        var colorAutoScheme = false;\r\n        var bubbleColor = \"black\";\r\n        if (document.documentElement.classList.length === 0) {\r\n                colorAutoScheme = true;\r\n        }\r\n        else {\r\n             if (!document.documentElement.classList.contains(\"light-mode\")) {\r\n                 if (!document.documentElement.classList.contains(\"dark-mode\")) {\r\n                     colorAutoScheme = true;\r\n                 }\r\n                 else {\r\n                     bubbleColor = \"white\";\r\n                 }\r\n             }\r\n             else {\r\n                 bubbleColor = \"black\";\r\n             }\r\n        }\r\n\r\n        if (colorAutoScheme) {\r\n            if (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\r\n                bubbleColor = \"white\";\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div\r\n                className={`player ${props.className ? props.className : \"\"}`}\r\n                key={player.id}>\r\n                {isolationCheckbox}\r\n                {props.stateViewing != -1 && !props.history.states[props.stateViewing].roles[player.id] &&\r\n                    <RoleMarkerToggle\r\n                        playerId={player.id}\r\n                        />\r\n                }\r\n                {props.stateViewing != -1 &&\r\n                    <RoleCount\r\n                        role={roleToShow}\r\n                        isRolePrediction={rolePrediction !== undefined}\r\n                        gameType={props.gameType}\r\n                        showPopover />\r\n                }\r\n                <NameWithAvatar\r\n                    id={player.userId}\r\n                    name={player.name}\r\n                    avatar={player.avatar}\r\n                    color={player.nameColor}\r\n                    active={activity.speaking[player.id]}\r\n                    newTab />\r\n                {selTab && showBubbles && activity.typing[player.id] == selTab &&\r\n                    <ReactLoading\r\n                        className={`typing-icon ${props.stateViewing != -1 ? \"has-role\" : \"\"}`}\r\n                        type=\"bubbles\"\r\n                        color={bubbleColor}\r\n                        width=\"20\"\r\n                        height=\"20\" />\r\n                }\r\n            </div>\r\n        )\r\n    });\r\n\r\n    return rows;\r\n}\r\n\r\nexport function PlayerList(props) {\r\n    const history = props.history;\r\n    const stateViewingInfo = history.states[props.stateViewing];\r\n    const alivePlayers = Object.values(props.players).filter(p => {\r\n        let isDead = false;\r\n        if (stateViewingInfo.deaths[p.id]) {\r\n            isDead = stateViewingInfo.deaths[p.id].dead;\r\n        }\r\n        return !isDead && !p.left;\r\n    });\r\n    const deadPlayers = Object.values(props.players).filter(p => {\r\n        let isDead = false;\r\n        if (stateViewingInfo.deaths[p.id]) {\r\n            isDead = stateViewingInfo.deaths[p.id].dead;\r\n        }\r\n        return isDead && !p.left;\r\n    });\r\n\r\n    return (\r\n        <SideMenu\r\n            title=\"Players\"\r\n            scrollable\r\n            content={\r\n                <div className=\"player-list\">\r\n                    <PlayerRows\r\n                        players={alivePlayers}\r\n                        history={history}\r\n                        self={props.self}\r\n                        gameType={props.gameType}\r\n                        stateViewing={props.stateViewing}\r\n                        activity={props.activity} />\r\n                    {deadPlayers.length > 0 &&\r\n                        <div className=\"section-title\">\r\n                            <i className=\"fas fa-skull\" />\r\n                            Graveyard\r\n                        </div>\r\n                    }\r\n                    <PlayerRows\r\n                        players={deadPlayers}\r\n                        history={history}\r\n                        self={props.self}\r\n                        gameType={props.gameType}\r\n                        stateViewing={props.stateViewing}\r\n                        activity={props.activity}\r\n                        className=\"dead\" />\r\n                </div>\r\n            } />\r\n    );\r\n}\r\n\r\nexport function ActionList(props) {\r\n    const actions = Object.values(props.meetings).reduce((actions, meeting) => {\r\n        if (meeting.voting) {\r\n            var action;\r\n\r\n            switch (meeting.inputType) {\r\n                case \"player\":\r\n                case \"boolean\":\r\n                case \"role\":\r\n                case \"alignment\":\r\n                case \"custom\":\r\n                case \"select\":\r\n                    action =\r\n                        <ActionSelect\r\n                            key={meeting.id}\r\n                            socket={props.socket}\r\n                            meeting={meeting}\r\n                            players={props.players}\r\n                            self={props.self}\r\n                            history={props.history}\r\n                            stateViewing={props.stateViewing} />;\r\n                    break;\r\n                case \"button\":\r\n                    action =\r\n                        <ActionButton\r\n                            key={meeting.id}\r\n                            socket={props.socket}\r\n                            meeting={meeting}\r\n                            players={props.players}\r\n                            self={props.self}\r\n                            history={props.history}\r\n                            stateViewing={props.stateViewing} />;\r\n                    break;\r\n                case \"text\":\r\n                    action =\r\n                        <ActionText\r\n                            key={meeting.id}\r\n                            socket={props.socket}\r\n                            meeting={meeting}\r\n                            players={props.players}\r\n                            self={props.self}\r\n                            history={props.history}\r\n                            stateViewing={props.stateViewing} />;\r\n                    break;\r\n            }\r\n\r\n            actions.push(action);\r\n        }\r\n        return actions;\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {(actions.length > 0 || props.stateViewing > -1) &&\r\n                <SideMenu\r\n                    scrollable\r\n                    title=\"Actions\"\r\n                    content={\r\n                        <div className=\"action-list\">\r\n                            {actions}\r\n                        </div>\r\n                    } />\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nfunction ActionSelect(props) {\r\n    const [meeting, history, stateViewing, isCurrentState, notClickable, onVote] = useAction(props);\r\n    const [menuVisible, setMenuVisible, dropdownContainerRef, dropdownMenuRef] = useDropdown();\r\n\r\n    const targets = meeting.targets.map(target => {\r\n        var targetDisplay = getTargetDisplay(target, meeting, props.players);\r\n\r\n        return (\r\n            <div\r\n                className=\"target dropdown-menu-option\"\r\n                key={target}\r\n                onClick={() => onSelectVote(target)}>\r\n                {targetDisplay}\r\n            </div>\r\n        );\r\n    });\r\n\r\n    const votes = Object.values(meeting.members).map(member => {\r\n        var selection = meeting.votes[member.id];\r\n        var player = props.players[member.id];\r\n        selection = getTargetDisplay(selection, meeting, props.players);\r\n        \r\n        return (\r\n            <div\r\n                className={`vote ${meeting.multi ? \"multi\" : \"\"}`}\r\n                key={member.id}>\r\n                <div\r\n                    className=\"voter\"\r\n                    onClick={() => onSelectVote(member.id)}>\r\n                    {(player && player.name) || \"Anonymous\"}\r\n                </div>\r\n                {\r\n                    !member.canVote &&\r\n                    <div className=\"selection\">\r\n                        does not vote\r\n                    </div>\r\n                }\r\n                {\r\n                    member.canVote &&\r\n                    selection.length > 0 &&\r\n                    <div className=\"italic\">\r\n                        votes\r\n                    </div>\r\n                }\r\n                {\r\n                    member.canVote &&\r\n                    <div className=\"selection\">\r\n                        {selection.join(\", \")}\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    });\r\n\r\n    function onSelectVote(sel) {\r\n        setMenuVisible(false);\r\n        onVote(sel);\r\n    }\r\n\r\n    function onActionClick() {\r\n        if (!notClickable)\r\n            setMenuVisible(!menuVisible);\r\n    }\r\n\r\n    return (\r\n        <div className=\"action\">\r\n            <div\r\n                className={`action-name dropdown-control ${notClickable ? \"not-clickable\" : \"\"}`}\r\n                ref={dropdownContainerRef}\r\n                onClick={onActionClick}>\r\n                {meeting.actionName}\r\n                <i className=\"fas fa-angle-down dropdown-arrow\" />\r\n            </div>\r\n            {menuVisible &&\r\n                <div\r\n                    className=\"targets dropdown-menu\"\r\n                    ref={dropdownMenuRef}>\r\n                    {targets}\r\n                </div>\r\n            }\r\n            <div className=\"votes\">\r\n                {votes}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function ActionButton(props) {\r\n    const [meeting, history, stateViewing, isCurrentState, notClickable, onVote] = useAction(props);\r\n    if (notClickable) {\r\n        return null;\r\n    }\r\n    const votes = { ...meeting.votes };\r\n\r\n    for (let playerId in votes)\r\n        votes[playerId] = getTargetDisplay(votes[playerId], meeting, props.players);\r\n\r\n    const buttons = meeting.targets.map(target => {\r\n        var targetDisplay = getTargetDisplay(target, meeting, props.players);\r\n\r\n        return (\r\n            <div\r\n                className={`btn btn-theme ${votes[props.self] == targetDisplay ? \"sel\" : \"\"}`}\r\n                key={target}\r\n                disabled={votes[props.self] && !meeting.canUnvote}\r\n                onClick={() => onVote(target)}>\r\n                {targetDisplay}\r\n            </div>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div className=\"action\">\r\n            <div className=\"action-name\">\r\n                {meeting.actionName}\r\n            </div>\r\n            {buttons}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ActionText(props) {\r\n    const meeting = props.meeting;\r\n    const self = props.self;\r\n\r\n    // text settings\r\n    const textOptions = meeting.textOptions || {}\r\n    const minLength = textOptions.minLength || 0;\r\n    const maxLength = textOptions.maxLength || MaxTextInputLength\r\n\r\n    const [textData, setTextData] = useState(\"\");\r\n\r\n    function handleOnChange(e) {\r\n        var textInput = e.target.value;\r\n        // disable new lines by default\r\n        textInput = textInput.replace(/\\n/g, \" \");\r\n\r\n        if (textOptions.alphaOnly) {\r\n            textInput = textInput.replace(/[^a-z]/gi, '');\r\n        }\r\n        if (textOptions.toLowerCase) {\r\n            textInput = textInput.toLowerCase();\r\n        }\r\n\r\n        textInput = textInput.substring(0, maxLength);\r\n        setTextData(textInput);\r\n    }\r\n\r\n    function handleOnSubmit(e) {\r\n        if (textData.length < minLength) {\r\n            return;\r\n        }\r\n\r\n        meeting.votes[self] = textData;\r\n        props.socket.send(\"vote\", {\r\n            meetingId: meeting.id,\r\n            selection: textData\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"action\">\r\n            <div className=\"action-name\">\r\n                {meeting.actionName}\r\n            </div>\r\n            <textarea\r\n                value={textData}\r\n                onChange={handleOnChange} />\r\n            <div\r\n                className=\"btn btn-theme\"\r\n                onClick={handleOnSubmit}>\r\n                {textOptions.submit || \"Submit\"}\r\n            </div>\r\n            {meeting.votes[self]}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction useAction(props) {\r\n    const meeting = props.meeting;\r\n    const history = props.history;\r\n    const stateViewing = props.stateViewing;\r\n    const isCurrentState = stateViewing == history.currentState;\r\n\r\n    const notClickable = !isCurrentState || !meeting.amMember || !meeting.canVote || (meeting.instant && meeting.votes[props.self]);\r\n\r\n    function onVote(sel) {\r\n        var isUnvote;\r\n\r\n        if (!Array.isArray(meeting.votes[props.self]))\r\n            isUnvote = sel == meeting.votes[props.self];\r\n        else\r\n            isUnvote = meeting.votes[props.self].indexOf(sel) != -1;\r\n\r\n        if (!isUnvote) {\r\n            props.socket.send(\"vote\", {\r\n                meetingId: meeting.id,\r\n                selection: sel\r\n            });\r\n        }\r\n        else {\r\n            props.socket.send(\"unvote\", {\r\n                meetingId: meeting.id,\r\n                selection: sel\r\n            });\r\n        }\r\n    }\r\n\r\n    return [meeting, history, stateViewing, isCurrentState, notClickable, onVote];\r\n}\r\n\r\nfunction getTargetDisplay(targets, meeting, players) {\r\n    if (!Array.isArray(targets) && targets)\r\n        targets = [targets];\r\n    else if (!targets)\r\n        targets = [];\r\n    else\r\n        targets = [...targets];\r\n\r\n    for (let i in targets) {\r\n        let target = targets[i];\r\n\r\n        switch (meeting.inputType) {\r\n            case \"player\":\r\n                if (target == \"*\")\r\n                    target = \"no one\";\r\n                else if (target)\r\n                    target = players[target].name;\r\n                else\r\n                    target = \"\";\r\n                break;\r\n            case \"boolean\":\r\n                if (target == \"*\")\r\n                    target = \"No\";\r\n                else if (!target)\r\n                    target = \"\";\r\n            default:\r\n                if (target == \"*\")\r\n                    target = \"None\";\r\n                else if (!target)\r\n                    target = \"\";\r\n        }\r\n\r\n        targets[i] = target;\r\n    }\r\n\r\n    return targets;\r\n}\r\n\r\nexport function Timer(props) {\r\n    var timerName;\r\n\r\n    if (props.history.currentState == -1)\r\n        timerName = \"pregameCountdown\";\r\n    else if (props.history.currentState == -2)\r\n        timerName = \"postgame\";\r\n    else if (props.timers[\"secondary\"])\r\n        timerName = \"secondary\";\r\n    else if (props.timers[\"vegKick\"])\r\n        timerName = \"vegKick\";\r\n    else\r\n        timerName = \"main\";\r\n\r\n    const timer = props.timers[timerName];\r\n\r\n    if (!timer)\r\n        return <div className=\"state-timer\"></div>;\r\n\r\n    var time = timer.delay - timer.time;\r\n\r\n    if (props.timers[\"secondary\"]) {\r\n        // show main timer if needed\r\n        const mainTimer = props.timers[\"main\"];\r\n        if (mainTimer) {\r\n            var mainTime = mainTimer.delay - mainTimer.time;\r\n            time = Math.min(time, mainTime);\r\n        }\r\n    }\r\n\r\n    time = formatTimerTime(time);\r\n\r\n    if(timerName === \"vegKick\"){\r\n        return (\r\n            <div className=\"state-timer\">\r\n                Kicking in {time}\r\n            </div>\r\n        );\r\n    }\r\n    return (\r\n        <div className=\"state-timer\">\r\n            {time}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function LastWillEntry(props) {\r\n    const [lastWill, setLastWill] = useState(props.lastWill);\r\n\r\n    function onWillChange(e) {\r\n        var newWill = e.target.value.slice(0, MaxWillLength);\r\n        setLastWill(newWill);\r\n        props.socket.send(\"lastWill\", newWill);\r\n    }\r\n\r\n    return (\r\n        <SideMenu\r\n            title=\"Last Will\"\r\n            content={\r\n                <div className=\"last-will-wrapper\">\r\n                    <textarea\r\n                        className=\"last-will-entry\"\r\n                        value={lastWill}\r\n                        onChange={onWillChange} />\r\n                </div>\r\n            } />\r\n    );\r\n}\r\n\r\nfunction SettingsModal(props) {\r\n    const settings = props.settings;\r\n    const updateSettings = props.updateSettings;\r\n    const showModal = props.showModal;\r\n    const setShowModal = props.setShowModal;\r\n    const [formFields, updateFormFields] = useForm([\r\n        {\r\n            label: \"Voting Log\",\r\n            ref: \"votingLog\",\r\n            type: \"boolean\",\r\n            value: settings.votingLog\r\n        },\r\n        {\r\n            label: \"Timestamps\",\r\n            ref: \"timestamps\",\r\n            type: \"boolean\",\r\n            value: settings.timestamps\r\n        },\r\n        {\r\n            label: \"Sounds\",\r\n            ref: \"sounds\",\r\n            type: \"boolean\",\r\n            value: settings.sounds\r\n        },\r\n        {\r\n            label: \"Fullscreen\",\r\n            ref: \"fullscreen\",\r\n            type: \"boolean\",\r\n            value: settings.fullscreen\r\n        },\r\n        {\r\n            label: \"Volume\",\r\n            ref: \"volume\",\r\n            type: \"range\",\r\n            min: 0,\r\n            max: 1,\r\n            step: 0.1,\r\n            value: settings.volume\r\n        },\r\n    ]);\r\n\r\n    const modalHeader = \"Settings\";\r\n\r\n    const modalContent = (\r\n        <Form\r\n            fields={formFields}\r\n            onChange={updateFormFields} />\r\n    );\r\n\r\n    const modalFooter = (\r\n        <div className=\"settings-control\">\r\n            <div\r\n                className=\"settings-save btn btn-theme\"\r\n                onClick={saveSettings}>\r\n                Save\r\n            </div>\r\n            <div\r\n                className=\"settings-cancel btn btn-theme-third\"\r\n                onClick={cancel}>\r\n                Cancel\r\n            </div>\r\n        </div>\r\n    );\r\n    function cancel() {\r\n        for (let field of formFields) {\r\n            updateFormFields({\r\n                ref: field.ref,\r\n                prop: \"value\",\r\n                value: settings[field.ref]\r\n            });\r\n        }\r\n\r\n        setShowModal(false);\r\n    }\r\n\r\n    function saveSettings() {\r\n        var newSettings = {};\r\n\r\n        for (let field of formFields)\r\n            newSettings[field.ref] = field.value;\r\n\r\n        updateSettings({\r\n            type: \"set\",\r\n            settings: newSettings\r\n        });\r\n\r\n        setShowModal(false);\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            className=\"settings\"\r\n            show={showModal}\r\n            header={modalHeader}\r\n            content={modalContent}\r\n            footer={modalFooter}\r\n            onBgClick={cancel} />\r\n    );\r\n}\r\n\r\nfunction FirstGameModal(props) {\r\n    const showModal = props.showModal;\r\n    const setShowModal = props.setShowModal;\r\n\r\n    const modalHeader = \"Welcome to BeyondMafia\";\r\n\r\n    const modalContent = (\r\n        <>\r\n            <div className=\"paragraph\">\r\n                To keep games fun and competitive for all, please don't:\r\n            </div>\r\n\r\n            <div className=\"paragraph\">\r\n                <div>\r\n                    - Communicate with other players using anything which isn't part of the game.\r\n                </div>\r\n                <div>\r\n                    - Form alliances or other out-of-game arrangements with other users.\r\n                </div>\r\n                <div>\r\n                    - Attempt to play a game using more than one account.\r\n                </div>\r\n                <div>\r\n                    - Send screenshots or \"prove\" anything with images or video.\r\n                </div>\r\n                <div>\r\n                    - Copy exactly any system messages you recieve (blue text).\r\n                </div>\r\n                <div>\r\n                    - Try to lose the game on purpose.\r\n                </div>\r\n                <div>\r\n                    - Give up or leave partway through the game.\r\n                </div>\r\n                <div>\r\n                    - Issue out-of-game bribes or threats to sway other players, including threatening to leave.\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"paragraph\">\r\n                Breaking game conduct may result in necessary action being taken against your account.\r\n            </div>\r\n            <div className=\"paragraph\">\r\n                A full description of these rules as well as site and community rules is found <a href=\"/community/forums/board/-2z5mOHaYp\">here</a>.\r\n            </div>\r\n            <div className=\"paragraph\">\r\n                You can also find tutorials, tips, and strategy guides <a href=\"/community/forums/board/ht4TEuL6lG\">here</a>. Good luck, and have fun!\r\n            </div>\r\n        </>\r\n    );\r\n\r\n    const modalFooter = (\r\n        <div\r\n            className=\"btn btn-theme\"\r\n            onClick={cancel}>\r\n            Close\r\n        </div>\r\n    );\r\n\r\n    function cancel() {\r\n        setShowModal(false);\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            className=\"first-game\"\r\n            show={showModal}\r\n            header={modalHeader}\r\n            content={modalContent}\r\n            footer={modalFooter}\r\n            onBgClick={cancel} />\r\n    );\r\n}\r\n\r\nexport function SpeechFilter(props) {\r\n    const game = useContext(GameContext);\r\n    const { isolationEnabled, setIsolationEnabled } = game;\r\n    const { filters, setFilters, stateViewing } = props;\r\n\r\n    const toggleIsolationEnabled = () => setIsolationEnabled(!isolationEnabled);\r\n\r\n    function onFilter(type, value) {\r\n        setFilters(update(filters, {\r\n            [type]: {\r\n                $set: value\r\n            }\r\n        }));\r\n    }\r\n\r\n    if (stateViewing < 0)\r\n        return <></>;\r\n\r\n    return (\r\n        <SideMenu\r\n            title=\"Speech Filters\"\r\n            collapsible\r\n            content={\r\n                <div className=\"speech-filters\">\r\n                    <div style={{marginBottom: \"10px\"}}>\r\n                        <input\r\n                            id=\"isolateMessagesCheckbox\"\r\n                            type=\"checkbox\"\r\n                            value={isolationEnabled}\r\n                            onChange={toggleIsolationEnabled} />\r\n                        <label htmlFor=\"isolateMessagesCheckbox\"> Isolate messages</label>\r\n                    </div>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"From user\"\r\n                        value={filters.from}\r\n                        onChange={(e) => onFilter(\"from\", e.target.value)}\r\n                        style={{marginBottom: \"10px\"}}\r\n                    />\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Contains\"\r\n                        value={filters.contains}\r\n                        onChange={(e) => onFilter(\"contains\", e.target.value)} />\r\n                </div>\r\n            } />\r\n    );\r\n}\r\n\r\nexport function Notes(props) {\r\n    const stateViewing = props.stateViewing;\r\n    const [notes, setNotes] = useState(\"\");\r\n    const { gameId } = useParams();\r\n\r\n    useEffect(() => {\r\n        var notesData = window.localStorage.getItem(\"notesData\");\r\n\r\n        if (notesData) {\r\n            notesData = JSON.parse(notesData);\r\n\r\n            if (notesData.game != gameId)\r\n                window.localStorage.removeItem(\"notesData\");\r\n            else\r\n                setNotes(notesData.notes);\r\n        }\r\n    }, []);\r\n\r\n    function onNotesUpdate(_notes) {\r\n        setNotes(_notes);\r\n        window.localStorage.setItem(\"notesData\", JSON.stringify({ game: gameId, notes: _notes }));\r\n    }\r\n\r\n    if (stateViewing < 0)\r\n        return <></>;\r\n\r\n    return (\r\n        <SideMenu\r\n            title=\"Notes\"\r\n            collapsible\r\n            content={\r\n                <div className=\"notes-wrapper\">\r\n                    <textarea\r\n                        className=\"notes-entry\"\r\n                        value={notes}\r\n                        onChange={(e) => onNotesUpdate(e.target.value)} />\r\n                </div>\r\n            } />\r\n    );\r\n}\r\n\r\nfunction useHistoryReducer() {\r\n    return useReducer((history, action) => {\r\n        var newHistory;\r\n\r\n        switch (action.type) {\r\n            case \"set\":\r\n                var stateIds = Object.keys(action.history).sort((a, b) => a - b);\r\n                newHistory = { states: action.history };\r\n\r\n                if (stateIds[0] == -2)\r\n                    newHistory.currentState = -2;\r\n                else\r\n                    newHistory.currentState = stateIds[stateIds.length - 1];\r\n                break;\r\n            case \"addState\":\r\n                if (!history.states[action.state.id]) {\r\n                    var prevState;\r\n\r\n                    if (action.state.id != -2)\r\n                        prevState = action.state.id - 1;\r\n                    else\r\n                        prevState = Object.keys(history.states).sort((a, b) => b - a)[0];\r\n\r\n                    newHistory = update(history, {\r\n                        states: {\r\n                            [action.state.id]: {\r\n                                $set: {\r\n                                    name: action.state.name,\r\n                                    meetings: {},\r\n                                    alerts: [],\r\n                                    stateEvents: [],\r\n                                    roles: { ...history.states[prevState].roles },\r\n                                    deaths: { ...history.states[prevState].deaths },\r\n                                    extraInfo: { ...action.state.extraInfo }\r\n                                }\r\n                            }\r\n                        },\r\n                        currentState: {\r\n                            $set: action.state.id\r\n                        }\r\n                    });\r\n                }\r\n                else\r\n                    newHistory = history;\r\n                break;\r\n            case \"addMeeting\":\r\n                var state = history.states[history.currentState];\r\n\r\n                if (state) {\r\n                    if (!state.meetings) {\r\n                        newHistory = update(history, {\r\n                            states: {\r\n                                [history.currentState]: {\r\n                                    meetings: {\r\n                                        $set: {}\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                    newHistory = update(newHistory || history, {\r\n                        states: {\r\n                            [history.currentState]: {\r\n                                meetings: {\r\n                                    [action.meeting.id]: {\r\n                                        $set: action.meeting\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case \"meetingMembers\":\r\n                if (\r\n                    history.states[history.currentState] &&\r\n                    history.states[history.currentState].meetings[action.meetingId]\r\n                ) {\r\n                    newHistory = update(history, {\r\n                        states: {\r\n                            [history.currentState]: {\r\n                                meetings: {\r\n                                    [action.meetingId]: {\r\n                                        members: {\r\n                                            $set: action.members\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case \"removeMeeting\":\r\n                if (history.states[history.currentState]) {\r\n                    newHistory = update(history, {\r\n                        states: {\r\n                            [history.currentState]: {\r\n                                meetings: {\r\n                                    $unset: [action.meetingId]\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    if (newHistory.states[history.currentState].selTab == action.meetingId) {\r\n                        newHistory = update(newHistory, {\r\n                            states: {\r\n                                [history.currentState]: {\r\n                                    $unset: [\"selTab\"]\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                break;\r\n            case \"addMessage\":\r\n                if (history.states[history.currentState]) {\r\n                    if (action.message.meetingId) {\r\n                        if (history.states[history.currentState].meetings[action.message.meetingId]) {\r\n                            newHistory = update(history, {\r\n                                states: {\r\n                                    [history.currentState]: {\r\n                                        meetings: {\r\n                                            [action.message.meetingId]: {\r\n                                                messages: {\r\n                                                    $push: [action.message]\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    else {\r\n                        newHistory = update(history, {\r\n                            states: {\r\n                                [history.currentState]: {\r\n                                    alerts: {\r\n                                        $push: [action.message]\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                break;\r\n            case \"addQuote\":\r\n                if (\r\n                    history.states[history.currentState] &&\r\n                    history.states[history.currentState].meetings[action.quote.toMeetingId]\r\n                ) {\r\n                    newHistory = update(history, {\r\n                        states: {\r\n                            [history.currentState]: {\r\n                                meetings: {\r\n                                    [action.quote.toMeetingId]: {\r\n                                        messages: {\r\n                                            $push: [action.quote]\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case \"vote\":\r\n                var target = action.vote.target;\r\n                var state = history.states[history.currentState];\r\n                var meeting = state && state.meetings[action.vote.meetingId];\r\n\r\n                if (meeting) {\r\n                    if (meeting.multi)\r\n                        target = [...(meeting.votes[action.vote.voterId] || []), target];\r\n\r\n                    newHistory = update(history, {\r\n                        states: {\r\n                            [history.currentState]: {\r\n                                meetings: {\r\n                                    [action.vote.meetingId]: {\r\n                                        votes: {\r\n                                            [action.vote.voterId]: {\r\n                                                $set: target\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    if (!action.vote.noLog) {\r\n                        newHistory = update(newHistory, {\r\n                            states: {\r\n                                [history.currentState]: {\r\n                                    meetings: {\r\n                                        [action.vote.meetingId]: {\r\n                                            voteRecord: {\r\n                                                $push: [{\r\n                                                    type: \"vote\",\r\n                                                    voterId: action.vote.voterId,\r\n                                                    target: action.vote.target,\r\n                                                    time: Date.now()\r\n                                                }]\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                break;\r\n            case \"unvote\":\r\n                var target = undefined;\r\n                var state = history.states[history.currentState];\r\n                var meeting = state && state.meetings[action.info.meetingId];\r\n\r\n                if (meeting) {\r\n                    if (meeting.multi)\r\n                        target = (meeting.votes[action.info.voterId] || []).filter(t => t != action.info.target);\r\n\r\n                    newHistory = update(history, {\r\n                        states: {\r\n                            [history.currentState]: {\r\n                                meetings: {\r\n                                    [action.info.meetingId]: {\r\n                                        votes: {\r\n                                            [action.info.voterId]: {\r\n                                                $set: target\r\n                                            }\r\n                                        },\r\n                                        voteRecord: {\r\n                                            $push: [{\r\n                                                type: \"unvote\",\r\n                                                voterId: action.info.voterId,\r\n                                                time: Date.now()\r\n                                            }]\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case \"stateEvents\":\r\n                if (history.states[history.currentState]) {\r\n                    newHistory = update(history, {\r\n                        states: {\r\n                            [history.currentState]: {\r\n                                stateEvents: {\r\n                                    $set: action.stateEvents\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case \"selTab\":\r\n                if (history.states[action.state]) {\r\n                    newHistory = update(history, {\r\n                        states: {\r\n                            [action.state]: {\r\n                                selTab: {\r\n                                    $set: action.meetingId\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case \"reveal\":\r\n                if (history.states[history.currentState]) {\r\n                    newHistory = update(history, {\r\n                        states: {\r\n                            [history.currentState]: {\r\n                                roles: {\r\n                                    [action.playerId]: {\r\n                                        $set: action.role\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case \"death\":\r\n                console.log(history);\r\n                if (history.states[history.currentState]) {\r\n                    newHistory = update(history, {\r\n                        states: {\r\n                            [history.currentState]: {\r\n                                deaths: {\r\n                                    [action.playerInfo.playerId]: {\r\n                                        $set: {\r\n                                            dead: true,\r\n                                            time: action.playerInfo.timeDead\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case \"revival\":\r\n                if (history.states[history.currentState]) {\r\n                    newHistory = update(history, {\r\n                        states: {\r\n                            [history.currentState]: {\r\n                                deaths: {\r\n                                    [action.playerId]: {\r\n                                        $set : {\r\n                                            dead: false,\r\n                                            time: null\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n        }\r\n\r\n        return newHistory || history;\r\n    }, { states: {} });\r\n}\r\n\r\nexport function useStateViewingReducer(history) {\r\n    return useReducer((state, action) => {\r\n        var newState;\r\n\r\n        switch (action.type) {\r\n            case \"backward\":\r\n                if (state > -2)\r\n                    newState = state - 1;\r\n                else\r\n                    newState = Math.max(...Object.keys(history.states));\r\n                break;\r\n            case \"forward\":\r\n                if (history.states[state + 1])\r\n                    newState = state + 1;\r\n                else\r\n                    newState = -2;\r\n                break;\r\n            case \"current\":\r\n                newState = history.currentState;\r\n                break;\r\n            case \"first\":\r\n                newState = -1;\r\n                break;\r\n            default:\r\n                newState = state;\r\n        }\r\n\r\n        if (history.states[newState])\r\n            return newState;\r\n        else\r\n            return state;\r\n    }, history.currentState);\r\n}\r\n\r\nexport function useTimersReducer() {\r\n    return useReducer((timers, action) => {\r\n        var newTimers = { ...timers };\r\n\r\n        switch (action.type) {\r\n            case \"create\":\r\n                newTimers[action.timer.name] = {\r\n                    delay: action.timer.delay,\r\n                    time: 0\r\n                };\r\n                break;\r\n            case \"clear\":\r\n                delete newTimers[action.name];\r\n                break;\r\n            case \"update\":\r\n                newTimers[action.name].time = action.time;\r\n                break;\r\n            case \"updateAll\":\r\n                for (var timerName in newTimers)\r\n                    newTimers[timerName].time += 1000;\r\n\r\n                const timer = newTimers[\"pregameCountdown\"] || newTimers[\"secondary\"] || newTimers[\"main\"];\r\n\r\n                if (!timer)\r\n                    break;\r\n\r\n                const intTime = Math.round((timer.delay - timer.time) / 1000);\r\n\r\n                if (intTime < 16 && intTime > 0)\r\n                    action.playAudio(\"tick\");\r\n                break;\r\n        }\r\n\r\n        return newTimers;\r\n    }, {});\r\n}\r\n\r\nexport function usePlayersReducer() {\r\n    return useReducer((players, action) => {\r\n        var newPlayers;\r\n\r\n        switch (action.type) {\r\n            case \"set\":\r\n                newPlayers = action.players;\r\n                break;\r\n            case \"add\":\r\n                if (!players[action.player.id]) {\r\n                    newPlayers = update(players, {\r\n                        [action.player.id]: {\r\n                            $set: action.player\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    newPlayers = update(players, {\r\n                        [action.player.id]: {\r\n                            $unset: [\"left\"]\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case \"remove\":\r\n                newPlayers = update(players, {\r\n                    [action.playerId]: {\r\n                        left: {\r\n                            $set: true\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            case \"setProp\":\r\n                newPlayers = update(players, {\r\n                    [action.playerId]: {\r\n                        [action.propName]: {\r\n                            $set: action.propVal\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n        }\r\n\r\n        return newPlayers || players;\r\n    }, {});\r\n}\r\n\r\nexport function useSettingsReducer() {\r\n    const defaultSettings = {\r\n        votingLog: true,\r\n        timestamps: true,\r\n        sounds: true,\r\n        fullscreen: true,\r\n        volume: 1,\r\n    };\r\n\r\n    return useReducer((settings, action) => {\r\n        var newSettings;\r\n\r\n        switch (action.type) {\r\n            case \"load\":\r\n                try {\r\n                    newSettings = window.localStorage.getItem(\"gameSettings\");\r\n                    newSettings = JSON.parse(newSettings);\r\n                }\r\n                catch (e) {\r\n                    newSettings = settings;\r\n                }\r\n                break;\r\n            case \"set\":\r\n                newSettings = action.settings;\r\n                window.localStorage.setItem(\"gameSettings\", JSON.stringify(newSettings));\r\n                break;\r\n            case \"setProp\":\r\n                newSettings = update(settings, {\r\n                    [action.propName]: {\r\n                        $set: action.propval\r\n                    }\r\n                });\r\n\r\n                window.localStorage.setItem(\"gameSettings\", JSON.stringify(newSettings));\r\n                break;\r\n        }\r\n\r\n        return newSettings || settings;\r\n    }, defaultSettings);\r\n}\r\n\r\nexport function useActivity(agoraClient, localAudioTrack) {\r\n    const volumeThreshold = 0.001;\r\n    const [activity, updateActivity] = useReducer((activity, action) => {\r\n        var newActivity;\r\n\r\n        switch (action.type) {\r\n            case \"typing\":\r\n                newActivity = update(activity, {\r\n                    typing: {\r\n                        [action.playerId]: {\r\n                            $set: action.meetingId\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            case \"speaking\":\r\n                var newSpeaking = action.players.reduce((speaking, playerId) => {\r\n                    speaking[playerId] = true;\r\n                    return speaking;\r\n                }, {});\r\n\r\n                newActivity = update(activity, {\r\n                    speaking: {\r\n                        $set: newSpeaking\r\n                    }\r\n                });\r\n                break;\r\n        }\r\n\r\n        return newActivity || activity;\r\n    }, { typing: {}, speaking: {} });\r\n\r\n    useEffect(() => {\r\n        var activityInterval = setInterval(() => {\r\n            if (agoraClient.current) {\r\n                var speaking = [];\r\n\r\n                if (localAudioTrack.current && localAudioTrack.current.getVolumeLevel() > volumeThreshold) {\r\n                    speaking.push(agoraClient.current.uid);\r\n                }\r\n\r\n                agoraClient.current.remoteUsers.forEach(user => {\r\n                    if (user.audioTrack && user.audioTrack.getVolumeLevel() > volumeThreshold)\r\n                        speaking.push(user.uid);\r\n                });\r\n\r\n                updateActivity({\r\n                    type: \"speaking\",\r\n                    players: speaking\r\n                });\r\n            }\r\n        }, 50);\r\n\r\n        return () => clearInterval(activityInterval);\r\n    });\r\n\r\n    return [activity, updateActivity];\r\n}\r\n\r\nexport function useAudio(settings) {\r\n    const audioRef = useRef({});\r\n\r\n    const [audioInfo, updateAudio] = useReducer((audioInfo, action) => {\r\n        var newAudioInfo;\r\n\r\n        switch (action.type) {\r\n            case \"play\":\r\n                if (!settings.sounds)\r\n                    return audioInfo;\r\n\r\n                if (audioInfo.overrides[action.audioName])\r\n                    for (let audioName in audioInfo.overrides)\r\n                        if (audioInfo.overrides[audioName] && audioRef.current[audioName])\r\n                            audioRef.current[audioName].pause();\r\n\r\n                if (audioRef.current[action.audioName]) {\r\n                    audioRef.current[action.audioName].currentTime = 0;\r\n                    audioRef.current[action.audioName].play().catch(e => { });\r\n                }\r\n                break;\r\n            case \"load\":\r\n                newAudioInfo = {\r\n                    overrides: { ...audioInfo.overrides },\r\n                    volumes: { ...audioInfo.volumes }\r\n                };\r\n\r\n                for (let i in action.files) {\r\n                    let fileName = action.files[i];\r\n\r\n                    if (!audioRef.current[fileName]) {\r\n                        audioRef.current[fileName] = new Audio(`/audio/${fileName}.mp3`);\r\n                        audioRef.current[fileName].load();\r\n                        audioRef.current[fileName].loop = action.loops[i];\r\n                    }\r\n\r\n                    newAudioInfo.overrides[fileName] = action.overrides[i];\r\n                    newAudioInfo.volumes[fileName] = action.volumes[i];\r\n                }\r\n                break;\r\n            case \"volume\":\r\n                for (let audioName in audioRef.current) {\r\n                    if (audioInfo.volumes[audioName])\r\n                        audioRef.current[audioName].volume = audioInfo.volumes[audioName] * action.volume;\r\n                }\r\n                break;\r\n        }\r\n\r\n        return newAudioInfo || audioInfo;\r\n    }, { overrides: {}, volumes: {} });\r\n\r\n    useEffect(() => {\r\n        updateAudio({\r\n            type: \"volume\",\r\n            volume: settings.volume\r\n        });\r\n    }, [settings.volume, audioInfo]);\r\n\r\n    function playAudio(audioName) {\r\n        updateAudio({\r\n            type: \"play\",\r\n            audioName\r\n        });\r\n    }\r\n\r\n    function loadAudioFiles(files, loops, overrides, volumes) {\r\n        updateAudio({\r\n            type: \"load\",\r\n            files,\r\n            loops,\r\n            overrides,\r\n            volumes\r\n        });\r\n    }\r\n\r\n    function stopAudio() {\r\n        for (let audioName in audioRef.current)\r\n            audioRef.current[audioName].pause();\r\n    }\r\n\r\n    function stopAudios(audios) {\r\n        for (let audioName of audios)\r\n            audioRef.current[audioName].pause();\r\n    }\r\n\r\n    function setVolume(volume) {\r\n        updateAudio({\r\n            type: \"volume\",\r\n            volume\r\n        });\r\n    }\r\n\r\n    return [playAudio, loadAudioFiles, stopAudio, stopAudios, setVolume];\r\n}\r\n\r\nasync function requestNotificationAccess() {\r\n    if (!Notification)\r\n        return;\r\n\r\n    await Notification.requestPermission();\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { UserContext, SiteInfoContext } from \"../../Contexts\";\r\nimport { useErrorAlert } from \"../../components/Alerts\";\r\nimport { NameWithAvatar, StatusIcon } from \"../User/User\";\r\n\r\nimport \"../../css/userSearch.css\";\r\nimport { getPageNavFilterArg, PageNav } from \"../../components/Nav\";\r\nimport { Time } from \"../../components/Basic\";\r\n\r\nexport default function UserSearch(props) {\r\n\tconst [userList, setUserList] = useState([]);\r\n\tconst [searchVal, setSearchVal] = useState(\"\");\r\n\r\n\tconst user = useContext(UserContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Users | BeyondMafia\";\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (searchVal.length > 0) {\r\n\t\t\taxios.get(`/user/searchName?query=${searchVal}`)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tsetUserList(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(useErrorAlert);\r\n\t\t}\r\n\t\telse {\r\n\t\t\taxios.get(\"/user/online\")\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tsetUserList(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(useErrorAlert);\r\n\t\t}\r\n\t}, [searchVal]);\r\n\r\n\tconst users = userList.map(user => (\r\n\t\t<div className=\"user-cell\">\r\n\t\t\t<NameWithAvatar\r\n\t\t\t\tid={user.id}\r\n\t\t\t\tname={user.name}\r\n\t\t\t\tavatar={user.avatar} />\r\n\t\t\t<StatusIcon status={user.status} />\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<div className=\"user-search-page\">\r\n\t\t\t<div className=\"span-panel main\">\r\n\t\t\t\t<div className=\"form\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\tvalue={searchVal}\r\n\t\t\t\t\t\tonChange={(e) => setSearchVal(e.target.value)} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"users\">\r\n\t\t\t\t\t{users}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"user-lists\">\r\n\t\t\t\t<NewestUsers />\r\n\t\t\t\t{user.perms.viewFlagged &&\r\n\t\t\t\t\t<FlaggedUsers />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction NewestUsers(props) {\r\n\tconst [page, setPage] = useState(1);\r\n\tconst [users, setUsers] = useState([]);\r\n\r\n\tconst errorAlert = useErrorAlert();\r\n\r\n\tuseEffect(() => {\r\n\t\tonPageNav(1);\r\n\t}, []);\r\n\r\n\tfunction onPageNav(_page) {\r\n\t\tvar filterArg = getPageNavFilterArg(_page, page, users, \"joined\");\r\n\r\n\t\tif (filterArg == null)\r\n\t\t\treturn;\r\n\r\n\t\taxios.get(`/user/newest?${filterArg}`)\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetUsers(res.data);\r\n\t\t\t\t\tsetPage(_page);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tconst userRows = users.map(user => (\r\n\t\t<div className=\"user-row\" key={user.id}>\r\n\t\t\t<NameWithAvatar\r\n\t\t\t\tid={user.id}\r\n\t\t\t\tname={user.name}\r\n\t\t\t\tavatar={user.avatar} />\r\n\t\t\t<div className=\"joined\">\r\n\t\t\t\t<Time\r\n\t\t\t\t\tminSec\r\n\t\t\t\t\tmillisec={Date.now() - user.joined}\r\n\t\t\t\t\tsuffix=\" ago\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<div className=\"newest-users box-panel\">\r\n\t\t\t<div className=\"heading\">\r\n\t\t\t\tNewest Users\r\n\t\t\t</div>\r\n\t\t\t<div className=\"users-list\">\r\n\t\t\t\t<PageNav\r\n\t\t\t\t\tpage={page}\r\n\t\t\t\t\tonNav={onPageNav}\r\n\t\t\t\t\tinverted />\r\n\t\t\t\t{userRows}\r\n\t\t\t\t<PageNav\r\n\t\t\t\t\tpage={page}\r\n\t\t\t\t\tonNav={onPageNav}\r\n\t\t\t\t\tinverted />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction FlaggedUsers(props) {\r\n\tconst [page, setPage] = useState(1);\r\n\tconst [users, setUsers] = useState([]);\r\n\r\n\tconst errorAlert = useErrorAlert();\r\n\r\n\tuseEffect(() => {\r\n\t\tonPageNav(1);\r\n\t}, []);\r\n\r\n\tfunction onPageNav(_page) {\r\n\t\tvar filterArg = getPageNavFilterArg(_page, page, users, \"joined\");\r\n\r\n\t\tif (filterArg == null)\r\n\t\t\treturn;\r\n\r\n\t\taxios.get(`/user/flagged?${filterArg}`)\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetUsers(res.data);\r\n\t\t\t\t\tsetPage(_page);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tconst userRows = users.map(user => (\r\n\t\t<div className=\"user-row\" key={user.id}>\r\n\t\t\t<NameWithAvatar\r\n\t\t\t\tid={user.id}\r\n\t\t\t\tname={user.name}\r\n\t\t\t\tavatar={user.avatar} />\r\n\t\t\t<div className=\"joined\">\r\n\t\t\t\t<Time\r\n\t\t\t\t\tminSec\r\n\t\t\t\t\tmillisec={Date.now() - user.joined}\r\n\t\t\t\t\tsuffix=\" ago\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<div className=\"flagged-users box-panel\">\r\n\t\t\t<div className=\"heading\">\r\n\t\t\t\tFlagged Users\r\n\t\t\t</div>\r\n\t\t\t<div className=\"users-list\">\r\n\t\t\t\t<PageNav\r\n\t\t\t\t\tpage={page}\r\n\t\t\t\t\tonNav={onPageNav}\r\n\t\t\t\t\tinverted />\r\n\t\t\t\t{userRows}\r\n\t\t\t\t<PageNav\r\n\t\t\t\t\tpage={page}\r\n\t\t\t\t\tonNav={onPageNav}\r\n\t\t\t\t\tinverted />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}","import React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport update from \"immutability-helper\";\r\n\r\nimport { useErrorAlert } from \"../../components/Alerts\";\r\nimport { SearchSelect, UserSearchSelect } from \"../../components/Form\";\r\nimport { SiteInfoContext, UserContext } from \"../../Contexts\";\r\nimport { Badge, NameWithAvatar, StatusIcon } from \"../User/User\";\r\nimport LoadingPage from \"../Loading\";\r\nimport { MaxBoardNameLength, MaxCategoryNameLength, MaxGroupNameLength, MaxBoardDescLength } from \"../../Constants\";\r\n\r\nimport \"../../css/moderation.css\";\r\nimport { getPageNavFilterArg, PageNav } from \"../../components/Nav\";\r\nimport { Time } from \"../../components/Basic\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Moderation() {\r\n    const [groups, setGroups] = useState([]);\r\n    const [loaded, setLoaded] = useState(false);\r\n\r\n    const user = useContext(UserContext);\r\n    const errorAlert = useErrorAlert();\r\n\r\n    useEffect(() => {\r\n        document.title = \"Moderation | BeyondMafia\";\r\n\r\n        axios.get(\"/mod/groups\")\r\n            .then((res) => {\r\n                setGroups(res.data.sort((a, b) => b.rank - a.rank));\r\n                setLoaded(true);\r\n            })\r\n            .catch((e) => {\r\n                setLoaded(true);\r\n                errorAlert(e);\r\n            });\r\n    }, []);\r\n\r\n    const groupsPanels = groups.map(group => {\r\n        const members = group.members.map(member => (\r\n            <div className=\"member user-cell\" key={member.id}>\r\n                <NameWithAvatar\r\n                    id={member.id}\r\n                    name={member.name}\r\n                    avatar={member.avatar} />\r\n                <StatusIcon status={member.status} />\r\n            </div>\r\n        ));\r\n\r\n        return (\r\n            <div className=\"span-panel group-panel\" key={group.name}>\r\n                <div className=\"title\">\r\n                    {group.badge &&\r\n                        <Badge\r\n                            icon={group.badge}\r\n                            color={group.badgeColor || \"black\"}\r\n                            name={group.name} />\r\n                    }\r\n                    {group.name + \"s\"}\r\n                </div>\r\n                <div className=\"members\">\r\n                    {members}\r\n                </div>\r\n            </div>\r\n        );\r\n    });\r\n\r\n    if (!loaded)\r\n        return <LoadingPage />;\r\n\r\n    return (\r\n        <div className=\"moderation\">\r\n            <div className=\"main-section\">\r\n                {user.perms.viewModActions &&\r\n                    <div className=\"span-panel action-panel\">\r\n                        <div className=\"title\">\r\n                            Do Action\r\n                        </div>\r\n                        <ModCommands />\r\n                    </div>\r\n                }\r\n                {groupsPanels}\r\n            </div>\r\n            <div className=\"side-column\">\r\n                <ModActions />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ModCommands() {\r\n    const [command, setCommand] = useState();\r\n    const [argValues, setArgValues] = useState({});\r\n    const modCommands = useModCommands(argValues, commandRan);\r\n\r\n    const user = useContext(UserContext);\r\n    const errorAlert = useErrorAlert();\r\n\r\n    var options = [];\r\n    var args = [];\r\n\r\n    for (let commandName in modCommands)\r\n        if (user.perms[modCommands[commandName].perm] && !modCommands[commandName].hidden)\r\n            options.push(commandName);\r\n\r\n    if (command) {\r\n        args = modCommands[command].args.map(arg => {\r\n            var placeholder = arg.label;\r\n\r\n            if (arg.default != null)\r\n                placeholder = `${placeholder} (${arg.default})`;\r\n            else if (arg.optional)\r\n                placeholder = `[${placeholder}]`;\r\n\r\n            if (arg.type == \"user_search\") {\r\n                return (\r\n                    <UserSearchSelect\r\n                        value={argValues[arg.name] || \"\"}\r\n                        setValue={(value) => updateArgValue(arg.name, value, arg.isArray)}\r\n                        placeholder={placeholder}\r\n                        key={arg.name} />\r\n                );\r\n            }\r\n\r\n            return (\r\n                <input\r\n                    className=\"arg\"\r\n                    type={arg.type}\r\n                    placeholder={placeholder}\r\n                    maxLength={arg.maxlength}\r\n                    onChange={(e) => updateArgValue(arg.name, e.target.value, arg.isArray)}\r\n                    key={arg.name} />\r\n            );\r\n        });\r\n    }\r\n\r\n    function updateArgValue(name, value, isArray) {\r\n        if (isArray)\r\n            value = value.split(/ *, */);\r\n\r\n        setArgValues(\r\n            update(argValues, {\r\n                [name]: {\r\n                    $set: value\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    function commandRan() {\r\n        setCommand(null);\r\n        setArgValues({});\r\n    }\r\n\r\n    function onRunClick() {\r\n        for (let arg of modCommands[command].args) {\r\n            if (argValues[arg.name] == null) {\r\n                if (arg.default != null)\r\n                    argValues[arg.name] = arg.default;\r\n                else if (!arg.optional) {\r\n                    errorAlert(\"Missing arguments.\");\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        modCommands[command].run();\r\n    }\r\n\r\n    return (\r\n        <div className=\"mod-commands\">\r\n            <div className=\"inputs\">\r\n                <SearchSelect\r\n                    options={options}\r\n                    value={command}\r\n                    setValue={setCommand} />\r\n                {args}\r\n            </div>\r\n            {command &&\r\n                <div\r\n                    className=\"btn btn-theme-sec submit\"\r\n                    onClick={onRunClick}>\r\n                    Run\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction useModCommands(argValues, commandRan) {\r\n    const siteInfo = useContext(SiteInfoContext);\r\n    const errorAlert = useErrorAlert();\r\n\r\n    return {\r\n        \"Create Group\": {\r\n            perm: \"createGroup\",\r\n            args: [\r\n                {\r\n                    label: \"Name\",\r\n                    name: \"name\",\r\n                    type: \"text\",\r\n                    maxlength: MaxGroupNameLength\r\n                },\r\n                {\r\n                    label: \"Rank\",\r\n                    name: \"rank\",\r\n                    type: \"number\",\r\n                    default: 0\r\n                },\r\n                {\r\n                    label: \"Badge\",\r\n                    name: \"badge\",\r\n                    type: \"text\",\r\n                    optional: true\r\n                },\r\n                {\r\n                    label: \"Badge Color\",\r\n                    name: \"badgeColor\",\r\n                    type: \"text\",\r\n                    optional: true\r\n                },\r\n                {\r\n                    label: \"Permissions\",\r\n                    name: \"permissions\",\r\n                    type: \"text\",\r\n                    optional: true,\r\n                    isArray: true\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/group\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Group created.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Delete Group\": {\r\n            perm: \"deleteGroup\",\r\n            args: [\r\n                {\r\n                    label: \"Name\",\r\n                    name: \"name\",\r\n                    type: \"text\",\r\n                    maxlength: MaxGroupNameLength\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/group/delete\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Group deleted.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Create Forum Category\": {\r\n            perm: \"createCategory\",\r\n            args: [\r\n                {\r\n                    label: \"Name\",\r\n                    name: \"name\",\r\n                    type: \"text\",\r\n                    maxlength: MaxCategoryNameLength\r\n                },\r\n                {\r\n                    label: \"Rank\",\r\n                    name: \"rank\",\r\n                    type: \"number\",\r\n                    default: 0\r\n                },\r\n                {\r\n                    label: \"Position\",\r\n                    name: \"position\",\r\n                    type: \"number\",\r\n                    default: 0\r\n                }\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/forums/category\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Category created.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Create Forum Board\": {\r\n            perm: \"createBoard\",\r\n            args: [\r\n                {\r\n                    label: \"Name\",\r\n                    name: \"name\",\r\n                    type: \"text\",\r\n                    maxlength: MaxBoardNameLength\r\n                },\r\n                {\r\n                    label: \"Category\",\r\n                    name: \"category\",\r\n                    type: \"text\",\r\n                    maxlength: MaxCategoryNameLength\r\n                },\r\n                {\r\n                    label: \"Description\",\r\n                    name: \"description\",\r\n                    type: \"text\",\r\n                    maxlength: MaxBoardDescLength\r\n                },\r\n                {\r\n                    label: \"Icon\",\r\n                    name: \"icon\",\r\n                    type: \"text\",\r\n                    optional: true\r\n                },\r\n                {\r\n                    label: \"Rank\",\r\n                    name: \"rank\",\r\n                    type: \"number\",\r\n                    optional: true\r\n                },\r\n                {\r\n                    label: \"Position\",\r\n                    name: \"position\",\r\n                    type: \"number\",\r\n                    optional: true\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/forums/board\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Board created.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Update Group Permissions\": {\r\n            perm: \"updateGroupPerms\",\r\n            args: [\r\n                {\r\n                    label: \"Group Name\",\r\n                    name: \"groupName\",\r\n                    type: \"text\",\r\n                    maxlength: MaxGroupNameLength\r\n                },\r\n                {\r\n                    label: \"Permissions to Add\",\r\n                    name: \"addPermissions\",\r\n                    type: \"text\",\r\n                    optional: true,\r\n                    isArray: true\r\n                },\r\n                {\r\n                    label: \"Permissions to Remove\",\r\n                    name: \"removePermissions\",\r\n                    type: \"text\",\r\n                    optional: true,\r\n                    isArray: true\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/groupPerms\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Group permissions updated.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Add User to Group\": {\r\n            perm: \"giveGroup\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n                {\r\n                    label: \"Group Name\",\r\n                    name: \"groupName\",\r\n                    type: \"text\",\r\n                    maxlength: MaxGroupNameLength\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/addToGroup\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User added to group.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Remove User from Group\": {\r\n            perm: \"removeFromGroup\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n                {\r\n                    label: \"Group Name\",\r\n                    name: \"groupName\",\r\n                    type: \"text\",\r\n                    maxlength: MaxGroupNameLength\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/removeFromGroup\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User removed from group.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Get Group Permissions\": {\r\n            perm: \"viewPerms\",\r\n            args: [\r\n                {\r\n                    label: \"Name\",\r\n                    name: \"name\",\r\n                    type: \"text\",\r\n                    maxlength: MaxGroupNameLength\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.get(`/mod/groupPerms?name=${argValues.name}`)\r\n                    .then(res => {\r\n                        alert(res.data.join(\", \"), \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Get User Permissions\": {\r\n            perm: \"viewPerms\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.get(`/mod/userPerms?userId=${argValues.userId}`)\r\n                    .then(res => {\r\n                        alert(res.data.join(\", \"), \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Delete Forum Board\": {\r\n            perm: \"deleteBoard\",\r\n            args: [\r\n                {\r\n                    label: \"Name\",\r\n                    name: \"name\",\r\n                    type: \"text\",\r\n                    maxlength: MaxBoardNameLength\r\n                }\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/forums/board/delete\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Board deleted.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Move Forum Thread\": {\r\n            perm: \"moveThread\",\r\n            args: [\r\n                {\r\n                    label: \"Thread ID\",\r\n                    name: \"thread\",\r\n                    type: \"text\"\r\n                },\r\n                {\r\n                    label: \"Board Name\",\r\n                    name: \"board\",\r\n                    type: \"text\"\r\n                }\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/forums/thread/move\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Thread moved.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Create Chat Room\": {\r\n            perm: \"createRoom\",\r\n            args: [\r\n                {\r\n                    label: \"Name\",\r\n                    name: \"name\",\r\n                    type: \"text\",\r\n                    maxlength: MaxBoardNameLength\r\n                },\r\n                {\r\n                    label: \"Position\",\r\n                    name: \"position\",\r\n                    type: \"number\",\r\n                    optional: true\r\n                },\r\n                {\r\n                    label: \"Rank\",\r\n                    name: \"rank\",\r\n                    type: \"number\",\r\n                    optional: true\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/chat/room\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Room created.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Delete Chat Room\": {\r\n            perm: \"deleteRoom\",\r\n            args: [\r\n                {\r\n                    label: \"Room Name\",\r\n                    name: \"name\",\r\n                    type: \"text\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/chat/room/delete\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Room deleted.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Forum Ban\": {\r\n            perm: \"forumBan\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n                {\r\n                    label: \"Length\",\r\n                    name: \"length\",\r\n                    type: \"text\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/forumBan\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User forum banned.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Chat Ban\": {\r\n            perm: \"chatBan\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n                {\r\n                    label: \"Length\",\r\n                    name: \"length\",\r\n                    type: \"text\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/chatBan\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User chat banned.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Game Ban\": {\r\n            perm: \"gameBan\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n                {\r\n                    label: \"Length\",\r\n                    name: \"length\",\r\n                    type: \"text\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/gameBan\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User game banned.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Ranked Ban\": {\r\n            perm: \"rankedBan\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n                {\r\n                    label: \"Length\",\r\n                    name: \"length\",\r\n                    type: \"text\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/rankedBan\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User ranked banned.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Site Ban\": {\r\n            perm: \"siteBan\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n                {\r\n                    label: \"Length\",\r\n                    name: \"length\",\r\n                    type: \"text\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/siteBan\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User site banned.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Force Sign Out\": {\r\n            perm: \"forceSignOut\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/logout\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User logged out.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Forum Unban\": {\r\n            perm: \"forumUnban\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/forumUnban\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User forum unbanned.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Chat Unban\": {\r\n            perm: \"chatUnban\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/chatUnban\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User chat unbanned.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Game Unban\": {\r\n            perm: \"gameUnban\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/gameUnban\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User game unbanned.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Ranked Unban\": {\r\n            perm: \"rankedUnban\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/rankedUnban\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User ranked unbanned.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Site Unban\": {\r\n            perm: \"siteUnban\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/siteUnban\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User site unbanned.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Get Alt Accounts\": {\r\n            perm: \"viewAlts\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.get(`/mod/alts?userId=${argValues.userId}`)\r\n                    .then(res => {\r\n                        alert(res.data.map(u => `${u.name} (${u.id})`).join(\", \"));\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Get Bans\": {\r\n            perm: \"viewBans\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.get(`/mod/bans?userId=${argValues.userId}`)\r\n                    .then(res => {\r\n                        alert(res.data.map(ban => `Type: ${ban.type}, mod: ${ban.modId}, expires: ${(new Date(ban.expires)).toLocaleString()}`).join(\"\\n\"));\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Check Flagged\": {\r\n            perm: \"viewFlagged\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.get(`/mod/flagged?userId=${argValues.userId}`)\r\n                    .then(res => {\r\n                        if (res.data)\r\n                            alert(\"Flagged!\")\r\n                        else\r\n                            alert(\"Not flagged\")\r\n\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Clear Setup Name\": {\r\n            perm: \"clearSetupName\",\r\n            args: [\r\n                {\r\n                    label: \"Setup Id\",\r\n                    name: \"setupId\",\r\n                    type: \"text\",\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/clearSetupName\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Setup name cleared.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Clear Bio\": {\r\n            perm: \"clearBio\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/clearBio\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Bio cleared.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Clear Video\": {\r\n            perm: \"clearBio\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/clearVideo\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Video cleared.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Clear Account Display\": {\r\n            perm: \"clearAccountDisplay\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/clearAccountDisplay\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Account display cleared.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Clear Name\": {\r\n            perm: \"clearName\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/clearName\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Name cleared.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Clear Avatar\": {\r\n            perm: \"clearAvi\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/clearAvi\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Avatar cleared.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Clear All User Content\": {\r\n            perm: \"clearAllUserContent\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/clearAllContent\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User content cleared.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Change Name\": {\r\n            perm: \"changeName\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n                {\r\n                    label: \"New Name\",\r\n                    name: \"name\",\r\n                    type: \"text\",\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/changeName\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Name changed.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Give Coins\": {\r\n            perm: \"giveCoins\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n                {\r\n                    label: \"Amount\",\r\n                    name: \"amount\",\r\n                    type: \"number\",\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/giveCoins\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Coins given.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Break Game\": {\r\n            perm: \"breakGame\",\r\n            args: [\r\n                {\r\n                    label: \"Game Id\",\r\n                    name: \"gameId\",\r\n                    type: \"text\",\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/breakGame\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Game broken.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Toggle Featured Setup\": {\r\n            perm: \"featureSetup\",\r\n            args: [\r\n                {\r\n                    label: \"Setup Id\",\r\n                    name: \"setupId\",\r\n                    type: \"text\",\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/setup/feature\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Setup feature toggled.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Clear All IPs\": {\r\n            perm: \"clearAllIPs\",\r\n            args: [],\r\n            run: function () {\r\n                axios.post(\"/mod/clearAllIPs\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"IPs cleared.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Whitelist\": {\r\n            perm: \"whitelist\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/whitelist\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User whitelisted.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Blacklist\": {\r\n            perm: \"whitelist\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/blacklist\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User blacklisted.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Schedule Restart\": {\r\n            perm: \"scheduleRestart\",\r\n            args: [\r\n                {\r\n                    label: \"When\",\r\n                    name: \"when\",\r\n                    type: \"text\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/scheduleRestart\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Restart scheduled.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Kick Player\": {\r\n            perm: \"kick\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/kick\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Kicked player.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Break Port Games\": {\r\n            perm: \"breakPortGames\",\r\n            args: [\r\n                {\r\n                    label: \"Port\",\r\n                    name: \"port\",\r\n                    type: \"text\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/breakPortGames\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Games broken.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Make Announcement\": {\r\n            perm: \"announce\",\r\n            args: [\r\n                {\r\n                    label: \"Content\",\r\n                    name: \"content\",\r\n                    type: \"text\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/announcement\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Announcement created.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Block Name\": {\r\n            perm: \"blockName\",\r\n            args: [\r\n                {\r\n                    label: \"Name\",\r\n                    name: \"name\",\r\n                    type: \"text\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/blockName\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Name blocked.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Toggle Ranked Setup\": {\r\n            perm: \"approveRanked\",\r\n            args: [\r\n                {\r\n                    label: \"Setup Id\",\r\n                    name: \"setupId\",\r\n                    type: \"text\",\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/setup/ranked\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"Setup ranked status toggled.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Ranked Approve (deprecated)\": {\r\n            perm: \"approveRanked\",\r\n            args: [\r\n                {\r\n                    label: \"User\",\r\n                    name: \"userId\",\r\n                    type: \"user_search\"\r\n                },\r\n            ],\r\n            run: function () {\r\n                axios.post(\"/mod/rankedApprove\", argValues)\r\n                    .then(() => {\r\n                        siteInfo.showAlert(\"User approved for ranked play.\", \"success\");\r\n                        commandRan();\r\n                    })\r\n                    .catch(errorAlert);\r\n            }\r\n        },\r\n        \"Delete Forum Board\": {\r\n            hidden: true,\r\n            args: [\r\n                {\r\n                    label: \"Name\",\r\n                },\r\n            ],\r\n        },\r\n        \"Update Board Description\": {\r\n            hidden: true,\r\n            args: [\r\n                {\r\n                    label: \"Name\",\r\n                },\r\n            ],\r\n        },\r\n        \"Delete Forum Thread\": {\r\n            hidden: true,\r\n            args: [\r\n                {\r\n                    label: \"Thread ID\",\r\n                },\r\n            ],\r\n        },\r\n        \"Restore Forum Thread\": {\r\n            hidden: true,\r\n            args: [\r\n                {\r\n                    label: \"Thread ID\",\r\n                },\r\n            ],\r\n        },\r\n        \"Toggle Forum Thread Pin\": {\r\n            hidden: true,\r\n            args: [\r\n                {\r\n                    label: \"Thread ID\",\r\n                },\r\n            ],\r\n        },\r\n        \"Toggle Forum Thread Lock\": {\r\n            hidden: true,\r\n            args: [\r\n                {\r\n                    label: \"Thread ID\",\r\n                },\r\n            ],\r\n        },\r\n        \"Delete Forum Reply\": {\r\n            hidden: true,\r\n            args: [\r\n                {\r\n                    label: \"Reply ID\",\r\n                },\r\n            ],\r\n        },\r\n        \"Restore Forum Reply\": {\r\n            hidden: true,\r\n            args: [\r\n                {\r\n                    label: \"Reply ID\",\r\n                },\r\n            ],\r\n        },\r\n        \"Delete Comment\": {\r\n            hidden: true,\r\n            args: [\r\n                {\r\n                    label: \"Comment ID\",\r\n                },\r\n            ],\r\n        },\r\n        \"Restore Comment\": {\r\n            hidden: true,\r\n            args: [\r\n                {\r\n                    label: \"Comment ID\",\r\n                },\r\n            ],\r\n        },\r\n    };\r\n}\r\n\r\nfunction ModActions(props) {\r\n    const [page, setPage] = useState(1);\r\n    const [actions, setActions] = useState([]);\r\n\r\n    const modCommands = useModCommands({}, () => { });\r\n    const errorAlert = useErrorAlert();\r\n\r\n    useEffect(() => {\r\n        onPageNav(1);\r\n    }, []);\r\n\r\n    function onPageNav(_page) {\r\n        var filterArg = getPageNavFilterArg(_page, page, actions, \"date\");\r\n\r\n        if (filterArg == null)\r\n            return;\r\n\r\n        axios.get(`/mod/actions?${filterArg}`)\r\n            .then(res => {\r\n                if (res.data.length > 0) {\r\n                    setActions(res.data);\r\n                    setPage(_page);\r\n                }\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    const actionRows = actions.map(action => {\r\n        let command = modCommands[action.name];\r\n        let actionArgs = action.args.map((arg, i) => {\r\n            let label = command.args[i].label;\r\n\r\n            if (label == \"User\")\r\n                arg = <Link to={`/user/${arg}`}>{arg}</Link>\r\n\r\n            return (\r\n                <div className=\"action-arg\" key={i}>\r\n                    {label}: {arg}\r\n                </div>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className=\"action\" key={action.id}>\r\n                <div className=\"top-row\">\r\n                    <NameWithAvatar\r\n                        id={action.mod.id}\r\n                        name={action.mod.name}\r\n                        avatar={action.mod.avatar} />\r\n                    <div className=\"date\">\r\n                        <Time\r\n                            minSec\r\n                            millisec={Date.now() - action.date}\r\n                            suffix=\" ago\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"action-name\">\r\n                    {action.name}\r\n                </div>\r\n                <div className=\"action-args\">\r\n                    {actionArgs}\r\n                </div>\r\n            </div>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div className=\"box-panel\">\r\n            <div className=\"heading\">\r\n                Mod Actions\r\n            </div>\r\n            <div className=\"actions-wrapper\">\r\n                <PageNav\r\n                    page={page}\r\n                    onNav={onPageNav} />\r\n                {actionRows}\r\n                <PageNav\r\n                    page={page}\r\n                    onNav={onPageNav} />\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\n\r\nimport Forums from \"./Forums/Forums\";\r\nimport UserSearch from \"./UserSearch\";\r\nimport Moderation from \"./Moderation\";\r\nimport { SubNav } from \"../../components/Nav\";\r\n\r\nexport default function Community() {\r\n\tconst links = [\r\n\t\t{\r\n\t\t\ttext: \"Forums\",\r\n\t\t\tpath: `/community/forums`\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: \"Users\",\r\n\t\t\tpath: `/community/users`\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: \"Moderation\",\r\n\t\t\tpath: `/community/moderation`\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<SubNav links={links} />\r\n\t\t\t<div className=\"inner-content\">\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path=\"/community/forums\" render={() => <Forums />} />\r\n\t\t\t\t\t<Route path=\"/community/users\" render={() => <UserSearch />} />\r\n\t\t\t\t\t<Route path=\"/community/moderation\" render={() => <Moderation />} />\r\n\t\t\t\t\t<Route render={() => <Redirect to=\"/community/forums\" />} />\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}","import React, { useState, useEffect, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getAuth, signInWithEmailAndPassword, sendPasswordResetEmail, sendEmailVerification } from \"firebase/auth\";\nimport axios from \"axios\";\n\nimport LoadingPage from \"../Loading\";\nimport { useErrorAlert } from \"../../components/Alerts\";\nimport { Modal } from \"../../components/Modal\";\nimport { SiteInfoContext } from \"../../Contexts\";\nimport { verifyRecaptcha } from \"../../utils\";\n\nexport default function LogIn() {\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [submitDisabled, setSubmitDisabled] = useState(true);\n\tconst [loading, setLoading] = useState(false);\n\tconst [showResetPw, setShowResetPw] = useState(false);\n\tconst siteInfo = useContext(SiteInfoContext);\n\tconst errorAlert = useErrorAlert();\n\n\tuseEffect(() => {\n\t\tdocument.title = \"Log In | BeyondMafia\";\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsetSubmitDisabled(email.length == 0 || password.length == 0);\n\t}, [email, password]);\n\n\tasync function onSubmit(e) {\n\t\ttry {\n\t\t\te.preventDefault();\n\n\t\t\tif (submitDisabled)\n\t\t\t\treturn;\n\n\t\t\tsetLoading(true);\n\t\t\tawait verifyRecaptcha(\"auth\");\n\n\t\t\tconst auth = getAuth();\n\t\t\tconst userCred = await signInWithEmailAndPassword(auth, email, password);\n\t\t\tconst idToken = await userCred.user.getIdToken(true);\n\t\t\taxios.post(\"/auth\", { idToken })\n\t\t\t\t.then(() => {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\terrorAlert(e);\n\t\t\t\t\tsetLoading(false);\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (e.response && e.response.status == 403)\n\t\t\t\t\t\t\tsendEmailVerification(userCred.user);\n\t\t\t\t\t} catch (e) { }\n\t\t\t\t});\n\t\t} catch (e) {\n\t\t\tsetLoading(false);\n\n\t\t\tif (!e || !e.message)\n\t\t\t\treturn;\n\n\t\t\tif (e.message.indexOf(\"(auth/wrong-password)\") != -1)\n\t\t\t\terrorAlert(\"Incorrect password.\");\n\t\t\telse if (e.message.indexOf(\"(auth/invalid-email)\") != -1)\n\t\t\t\terrorAlert(\"Invalid email.\");\n\t\t\telse if (e.message.indexOf(\"(auth/user-not-found)\") != -1)\n\t\t\t\terrorAlert(\"Account does not exist.\");\n\t\t\telse if (e.message.indexOf(\"(auth/too-many-requests)\") != -1)\n\t\t\t\terrorAlert(\"Too many login attempts on this account. Please try again later.\");\n\t\t\telse\n\t\t\t\terrorAlert(e);\n\t\t}\n\t}\n\n\tasync function onResetPw(e) {\n\t\ttry {\n\t\t\te.preventDefault();\n\t\t\tsetShowResetPw(false);\n\t\t\tsetLoading(true);\n\n\t\t\tconst auth = getAuth();\n\t\t\tawait sendPasswordResetEmail(auth, email);\n\n\t\t\tsiteInfo.showAlert(\"Password reset email sent.\", \"success\");\n\t\t\tsetLoading(false);\n\t\t} catch (e) {\n\t\t\terrorAlert(\"Error resetting password.\");\n\t\t\tsetLoading(false);\n\t\t}\n\t}\n\n\tconst modalContent = (\n\t\t<form className=\"form\" onSubmit={onResetPw}>\n\t\t\t<div className=\"field-wrapper\">\n\t\t\t\t<div className=\"label\">\n\t\t\t\t\tEmail\n\t\t\t\t</div>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={(e) => setEmail(e.target.value)} />\n\t\t\t</div>\n\t\t</form>\n\t);\n\tconst modalFooter = (\n\t\t<div className=\"control\">\n\t\t\t<div\n\t\t\t\tclassName=\"reset btn btn-theme\"\n\t\t\t\tonClick={onResetPw}>\n\t\t\t\tReset\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"cancel btn btn-theme-third\"\n\t\t\t\tonClick={() => setShowResetPw(false)}>\n\t\t\t\tCancel\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\tif (loading)\n\t\treturn <LoadingPage />;\n\n\treturn (\n\t\t<div className=\"span-panel main login\">\n\t\t\t<form className=\"form\" onSubmit={onSubmit}>\n\t\t\t\t<div className=\"field-wrapper\">\n\t\t\t\t\t<div className=\"label\">\n\t\t\t\t\t\tEmail\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tonChange={e => setEmail(e.target.value)} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"field-wrapper\">\n\t\t\t\t\t<div className=\"label\">\n\t\t\t\t\t\tPassword\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tonChange={e => setPassword(e.target.value)} />\n\t\t\t\t</div>\n\t\t\t\t<a\n\t\t\t\t\tclassName=\"forgot-pw\"\n\t\t\t\t\thref=\"#\"\n\t\t\t\t\tonClick={() => setShowResetPw(true)}>\n\t\t\t\t\tForgot password?\n\t\t\t\t</a>\n\t\t\t\t<input className={`auth-btn ${submitDisabled ? \"disabled\" : \"\"}`} type=\"submit\" value=\"Log In\" />\n\t\t\t</form>\n\t\t\t<div className=\"legal\">\n\t\t\t\tBy logging in you agree to follow our <Link to=\"/legal/tos\">Terms of Service </Link>\n\t\t\t\tand accept our <Link to=\"/legal/privacy\">Privacy Policy</Link>.\n\t\t\t</div>\n\t\t\t<Modal\n\t\t\t\tclassName=\"reset-pw\"\n\t\t\t\tshow={showResetPw}\n\t\t\t\tonBgClick={() => setShowResetPw(false)}\n\t\t\t\theader={\"Reset Password\"}\n\t\t\t\tcontent={modalContent}\n\t\t\t\tfooter={modalFooter} />\n\t\t</div>\n\t);\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { createUserWithEmailAndPassword, getAuth, sendEmailVerification } from \"firebase/auth\";\nimport axios from \"axios\";\n\nimport LoadingPage from \"../Loading\";\nimport { useErrorAlert } from \"../../components/Alerts\";\nimport { SiteInfoContext } from \"../../Contexts\";\nimport { verifyRecaptcha } from \"../../utils\";\n\nexport default function SignUp() {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [passwordConf, setPasswordConf] = useState(\"\");\n    const [submitDisabled, setSubmitDisabled] = useState(true);\n    const [loading, setLoading] = useState(false);\n    const [signedUp, setSignedUp] = useState(false);\n    const siteInfo = useContext(SiteInfoContext);\n    const errorAlert = useErrorAlert();\n\n    const allowedEmailDomans = JSON.parse(process.env.REACT_APP_EMAIL_DOMAINS);\n\n    useEffect(() => {\n        document.title = \"Sign Up | BeyondMafia\";\n    }, []);\n\n    useEffect(() => {\n        setSubmitDisabled(email.length == 0 || password.length == 0 || password != passwordConf);\n    }, [email, password, passwordConf]);\n\n    async function onSubmit(e) {\n        try {\n            e.preventDefault();\n\n            if (submitDisabled)\n                return;\n\n            var emailDomain = email.split(\"@\")[1] || \"\";\n\n            if (allowedEmailDomans.indexOf(emailDomain) == -1) {\n                errorAlert(\"Email domain must be one of the following: \" + allowedEmailDomans.join(\", \"));\n                return;\n            }\n\n            setLoading(true);\n            await verifyRecaptcha(\"auth\");\n\n            const auth = getAuth();\n            const userCred = await createUserWithEmailAndPassword(auth, email, password);\n            await sendEmailVerification(userCred.user);\n\n            siteInfo.showAlert(\"Account created. Please click the verification link in your email before logging in. Be sure to check your spam folder.\", \"success\", true);\n            setSignedUp(true);\n            setLoading(false);\n        } catch (e) {\n            setLoading(false);\n\n            if (!e || !e.message)\n                return;\n\n            if (e.message.indexOf(\"(auth/invalid-email)\") != -1)\n                errorAlert(\"Invalid email.\");\n            else if (e.message.indexOf(\"(auth/weak-password)\") != -1)\n                errorAlert(\"Password should be at least 6 characters.\");\n            else if (e.message.indexOf(\"(auth/email-already-in-use)\") != -1)\n                errorAlert(\"Email already in use.\");\n            else\n                errorAlert(e);\n        }\n    }\n\n    if (loading)\n        return <LoadingPage />;\n\n    if (signedUp)\n        return <Redirect to=\"/auth/login\" />;\n\n    return (\n        <div className=\"span-panel main login\">\n            <form className=\"form\" onSubmit={onSubmit}>\n                <div className=\"field-wrapper\">\n                    <div className=\"label\">\n                        Email\n                    </div>\n                    <input\n                        type=\"text\"\n                        value={email}\n                        onChange={e => setEmail(e.target.value)} />\n                </div>\n                <div className=\"field-wrapper\">\n                    <div className=\"label\">\n                        Password\n                    </div>\n                    <input\n                        type=\"password\"\n                        value={password}\n                        onChange={e => setPassword(e.target.value)} />\n                </div>\n                <div className=\"field-wrapper\">\n                    <div className=\"label\">\n                        Confirm Password\n                    </div>\n                    <input\n                        type=\"password\"\n                        value={passwordConf}\n                        onChange={e => setPasswordConf(e.target.value)} />\n                </div>\n                <input className={`auth-btn ${submitDisabled ? \"disabled\" : \"\"}`} type=\"submit\" value=\"Sign Up\" />\n            </form>\n            <div className=\"legal\">\n                By signing up you agree to follow our <Link to=\"/legal/tos\">Terms of Service </Link>\n                and accept our <Link to=\"/legal/privacy\">Privacy Policy</Link>, and that you are at least 13 years of age.\n            </div>\n        </div>\n    );\n}\n","import React, { useContext, useEffect } from \"react\";\nimport { Redirect, Switch, Route, useLocation } from \"react-router-dom\";\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, inMemoryPersistence } from \"firebase/auth\";\nimport axios from \"axios\";\n\nimport LogIn from \"./LogIn\";\nimport SignUp from \"./SignUp\";\nimport { UserContext } from \"../../Contexts\";\nimport { SubNav } from \"../../components/Nav\";\nimport LoadingPage from \"../Loading\";\n\nimport \"../../css/auth.css\"\n\nexport default function Auth() {\n\tconst user = useContext(UserContext);\n\tconst location = useLocation();\n\tconst links = [\n\t\t{\n\t\t\ttext: \"Log In\",\n\t\t\tpath: \"/auth/login\",\n\t\t\texact: true\n\t\t},\n\t\t{\n\t\t\ttext: \"Sign Up\",\n\t\t\tpath: \"/auth/signup\",\n\t\t\texact: true\n\t\t}\n\t];\n\n\tuseEffect(() => {\n\t\tconst params = new URLSearchParams(location.search);\n\n\t\tif (params.get(\"ref\"))\n\t\t\twindow.localStorage.setItem(\"referrer\", params.get(\"ref\"));\n\n\t\tconst fbConfig = {\n\t\t\tapiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n\t\t\tauthDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n\t\t\tprojectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n\t\t\tstorageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n\t\t\tmessagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n\t\t\tappId: process.env.REACT_APP_FIREBASE_APP_ID,\n\t\t\tmeasurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\n\t\t};\n\t\tinitializeApp(fbConfig);\n\t\tgetAuth().setPersistence(inMemoryPersistence);\n\t}, []);\n\n\tif (!user.loaded)\n\t\treturn <LoadingPage />;\n\telse if (user.loggedIn)\n\t\treturn <Redirect to=\"/play\" />;\n\n\treturn (\n\t\t<>\n\t\t\t<SubNav links={links} />\n\t\t\t<div className=\"auth inner-content\">\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/auth/login\">\n\t\t\t\t\t\t<LogIn />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/auth/signup\">\n\t\t\t\t\t\t<SignUp />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route render={() => <Redirect to=\"/auth/login\" />} />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","import React, { useEffect } from \"react\";\r\n\r\nexport default function PrivacyPolicy() {\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Privacy Policy | BeyondMafia\";\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"span-panel main legal\">\r\n\t\t\t<h1>Privacy Policy of BeyondMafia</h1>\r\n\t\t\t<p>BeyondMafia operates the BeyondMafia.org website, which provides the SERVICE.</p>\r\n\t\t\t<p>This page is used to inform website visitors regarding our policies with the collection, use, and disclosure of Personal Information if anyone decided to use our Service, the BeyondMafia website.</p>\r\n\t\t\t<p>If you choose to use our Service, then you agree to the collection and use of information in relation with this policy. The Personal Information that we collect are used for providing and improving the Service. We will not use or share your information with anyone except as described in this Privacy Policy.</p>\t\t\t<p>The terms used in this Privacy Policy have the same meanings as in our Terms and Conditions, which is accessible at BeyondMafia.org, unless otherwise defined in this Privacy Policy. Our Privacy Policy was created with the help of the <a href=\"https://www.privacypolicytemplate.net\">Privacy Policy Template</a> and the <a href=\"https://www.disclaimer-template.net\">Disclaimer Template</a>.</p>\r\n\t\t\t<h2>Information Collection and Use</h2>\r\n\t\t\t<p>For a better experience while using our Service, we may require you to provide us with certain personally identifiable information, including but not limited to your email address and usernames on other services. You may also voluntarily upload any of your own personal information you wish for your profile, including but not limited to photos and textual data.</p>\r\n\t\t\t<h2>Log Data</h2>\r\n\t\t\t<p>We want to inform you that whenever you visit our Service, we collect information that your browser sends to us that is called Log Data. This Log Data may include information such as your computer’s Internet Protocol (\"IP\") address, browser version, pages of our Service that you visit, the time and date of your visit, the time spent on those pages, and other statistics.</p>\r\n\t\t\t<h2>Cookies</h2>\r\n\t\t\t<p>Cookies are files with small amount of data that is commonly used an anonymous unique identifier. These are sent to your browser from the website that you visit and are stored on your computer’s hard drive.</p>\r\n\t\t\t<p>Our website uses these \"cookies\" to collection information and to improve our Service. You have the option to either accept or refuse these cookies by either loggin in or choosing not to log in. If you choose to refuse our cookies, you may not be able to use some portions of our Service, which includes any features that require a user to be signed in.</p>\r\n\t\t\t<h2>Service Providers</h2>\r\n\t\t\t<p>We may employ third-party companies and individuals due to the following reasons:</p>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>To facilitate our Service;</li>\r\n\t\t\t\t<li>To provide the Service on our behalf;</li>\r\n\t\t\t\t<li>To perform Service-related services; or</li>\r\n\t\t\t\t<li>To assist us in analyzing how our Service is used.</li>\r\n\t\t\t</ul>\r\n\t\t\t<p>We want to inform our Service users that these third parties have access to your Personal Information. The reason is to perform the tasks assigned to them on our behalf. However, they are obligated not to disclose or use the information for any other purpose.</p>\r\n\t\t\t<h2>Security</h2>\r\n\t\t\t<p>We value your trust in providing us your Personal Information, thus we are striving to use commercially acceptable means of protecting it. But remember that no method of transmission over the internet, or method of electronic storage is 100% secure and reliable, and we cannot guarantee its absolute security.</p>\r\n\t\t\t<h2>Links to Other Sites</h2>\r\n\t\t\t<p>Our Service may contain links to other sites. If you click on a third-party link, you will be directed to that site. Note that these external sites are not operated by us. Therefore, we strongly advise you to review the Privacy Policy of these websites. We have no control over, and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services.</p>\r\n\t\t\t<p>Children’s Privacy</p>\r\n\t\t\t<p>Our Services do not address anyone under the age of 13. We do not knowingly collect personal identifiable information from children under 13. In the case we discover that a child under 13 has provided us with personal information, we immediately delete this from our servers. If you are a parent or guardian and you are aware that your child has provided us with personal information, please contact us so that we will be able to do necessary actions.</p>\r\n\t\t\t<h2>Changes to This Privacy Policy</h2>\r\n\t\t\t<p>We may update our Privacy Policy from time to time. Thus, we advise you to review this page periodically for any changes. We will notify you of any changes by posting the new Privacy Policy on this page. These changes are effective immediately, after they are posted on this page.</p>\r\n\t\t\t<h2>Contact Us</h2>\r\n\t\t\t<p>If you have any questions or suggestions about our Privacy Policy, do not hesitate to contact us.</p>\r\n\t\t</div>\r\n\t);\r\n}","import React, { useEffect } from \"react\";\r\n\r\nexport default function PrivacyPolicy() {\r\n\tuseEffect(() => {\r\n\t\tdocument.title = \"Terms of Service | BeyondMafia\";\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"span-panel main legal\">\r\n\t\t\t<h1>BeyondMafia Terms and Conditions of Use</h1>\r\n\t\t\t<h2>1. Terms</h2>\r\n\t\t\t<p>By accessing this Website, accessible from BeyondMafia.org, you are agreeing to be bound by these Website Terms and Conditions of Use and agree that you are responsible for the agreement with any applicable local laws. If you disagree with any of these terms, you are prohibited from accessing this site. The materials contained in this Website are protected by copyright and trade mark law. These Terms of Service has been created with the help of the <a href=\"https://www.termsofservicegenerator.net\">Terms of Service Generator</a> and the <a href=\"https://www.termsconditionsexample.com\">Terms & Conditions Example</a>.</p>\r\n\t\t\t<h2>2. Use License</h2>\r\n\t\t\t<p>Permission is granted to temporarily download one copy of the materials on BeyondMafia's Website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:</p>\r\n\t\t\t<ul>\r\n\t\t\t\t<li>modify or copy the materials;</li>\r\n\t\t\t\t<li>use the materials for any commercial purpose or for any public display;</li>\r\n\t\t\t\t<li>attempt to reverse engineer any software contained on BeyondMafia's Website;</li>\r\n\t\t\t\t<li>remove any copyright or other proprietary notations from the materials; or</li>\r\n\t\t\t\t<li>transferring the materials to another person or \"mirror\" the materials on any other server.</li>\r\n\t\t\t</ul>\r\n\t\t\t<p>This will let BeyondMafia to terminate upon violations of any of these restrictions. Upon termination, your viewing right will also be terminated and you should destroy any downloaded materials in your possession whether it is printed or electronic format.</p>\r\n\t\t\t<h2>3. Disclaimer</h2>\r\n\t\t\t<p>All the materials on BeyondMafia’s Website are provided \"as is\". BeyondMafia makes no warranties, may it be expressed or implied, therefore negates all other warranties. Furthermore, BeyondMafia does not make any representations concerning the accuracy or reliability of the use of the materials on its Website or otherwise relating to such materials or any sites linked to this Website.</p>\r\n\t\t\t<h2>4. Limitations</h2>\r\n\t\t\t<p>BeyondMafia or its suppliers will not be hold accountable for any damages that will arise with the use or inability to use the materials on BeyondMafia’s Website, even if BeyondMafia or an authorize representative of this Website has been notified, orally or written, of the possibility of such damage. Some jurisdiction does not allow limitations on implied warranties or limitations of liability for incidental damages, these limitations may not apply to you.</p>\r\n\t\t\t<h2>5. Revisions and Errata</h2>\r\n\t\t\t<p>The materials appearing on BeyondMafia’s Website may include technical, typographical, or photographic errors. BeyondMafia will not promise that any of the materials in this Website are accurate, complete, or current. BeyondMafia may change the materials contained on its Website at any time without notice. BeyondMafia does not make any commitment to update the materials.</p>\r\n\t\t\t<h2>6. Links</h2>\r\n\t\t\t<p>BeyondMafia has not reviewed all of the sites linked to its Website and is not responsible for the contents of any such linked site. The presence of any link does not imply endorsement by BeyondMafia of the site. The use of any linked website is at the user’s own risk.</p>\r\n\t\t\t<h2>7. Site Terms of Use Modifications</h2>\r\n\t\t\t<p>BeyondMafia may revise these Terms of Use for its Website at any time without prior notice. By using this Website, you are agreeing to be bound by the current version of these Terms and Conditions of Use.</p>\r\n\t\t\t<h2>8. Your Privacy</h2>\r\n\t\t\t<p>Please read <a href=\"/legal/privacy\">our Privacy Policy</a>.</p>\r\n\t\t\t<h2>9. Governing Law</h2>\r\n\t\t\t<p>Any claim related to BeyondMafia's Website shall be governed by the laws of us without regards to its conflict of law provisions.</p>\r\n\t\t</div>\r\n\t);\r\n}","import React from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\n\r\nimport PrivacyPolicy from \"./PrivacyPolicy\";\r\nimport TermsOfService from \"./TermsOfService\";\r\nimport { SubNav } from \"../../components/Nav\";\r\n\r\nimport \"../../css/legal.css\";\r\n\r\nexport default function Legal(props) {\r\n\tconst links = [\r\n\t\t{\r\n\t\t\ttext: \"Terms of Service\",\r\n\t\t\tpath: \"/legal/tos\",\r\n\t\t\texact: true\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: \"Privacy Policy\",\r\n\t\t\tpath: \"/legal/privacy\",\r\n\t\t\texact: true\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<SubNav links={links} />\r\n\t\t\t<div className=\"inner-content\">\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/legal/tos\" render={() => <TermsOfService />} />\r\n\t\t\t\t\t<Route exact path=\"/legal/privacy\" render={() => <PrivacyPolicy />} />\r\n\t\t\t\t\t<Route render={() => <Redirect to=\"/legal/tos\" />} />\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}","import React, { useState, useContext, useRef, useEffect, useLayoutEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { GameContext, PopoverContext, SiteInfoContext } from \"../Contexts\";\r\nimport { Time } from \"./Basic\";\r\nimport { SmallRoleList, GameStateIcon } from \"./Setup\";\r\nimport { NameWithAvatar } from \"../pages/User/User\";\r\nimport { useErrorAlert } from \"./Alerts\";\r\nimport { GameStates, Alignments } from \"../Constants\";\r\nimport { useOnOutsideClick } from \"./Basic\";\r\n\r\nimport \"../css/popover.css\";\r\n\r\nexport default function Popover() {\r\n    const popover = useContext(PopoverContext);\r\n    const popoverRef = useRef();\r\n    const triangleRef = useRef();\r\n    const sideContentRef = useRef();\r\n\r\n    useOnOutsideClick(\r\n        [\r\n            { current: popover.boundingEl },\r\n            popoverRef\r\n        ],\r\n        () => {\r\n            if (!popover.loadingRef.current) {\r\n                popover.setVisible(false);\r\n                popover.setSideContentVisible(false);\r\n                popover.setBoundingEl(null);\r\n            }\r\n        }\r\n    );\r\n\r\n    useLayoutEffect(() => {\r\n        if (!popover.visible)\r\n            return;\r\n\r\n        const boundingRect = popover.boundingEl.getBoundingClientRect();\r\n        const popoverRect = popoverRef.current.getBoundingClientRect();\r\n\r\n        // Align left of popover to the left of bounding box, then top of popover to the bottom of bounding box\r\n        let popoverLeft = boundingRect.left;\r\n        let popoverTop = boundingRect.top + boundingRect.height + 10;\r\n\r\n        // Keep popover in window if overflowing at top\r\n        if (popoverTop < window.scrollY)\r\n            popoverTop = window.scrollY;\r\n\r\n        // If popover overflows window, shift\r\n        let popoverHorzShift = window.innerWidth - (popoverLeft + popoverRect.width);\r\n        if (popoverHorzShift < 0) {\r\n            // If shift would cause the popover to overflow left, set to left of window\r\n            if (popoverLeft + popoverHorzShift < 0) {\r\n                popoverHorzShift -= (popoverLeft + popoverHorzShift);\r\n            }\r\n        }\r\n        else {\r\n            popoverHorzShift = 0;\r\n        }\r\n\r\n        popoverLeft += popoverHorzShift;\r\n\r\n        popoverRef.current.style.top = popoverTop + \"px\";\r\n        popoverRef.current.style.left = popoverLeft + \"px\";\r\n        popoverRef.current.style.visibility = \"visible\";\r\n\r\n        // Triangle\r\n        triangleRef.current.style.left = (popoverLeft + (boundingRect.width / 2) - 10) + \"px\";\r\n        triangleRef.current.style.top = (popoverTop - 10) + \"px\";\r\n        triangleRef.current.style.visibility = \"visible\";\r\n\r\n        // Make sideContent aligned with bottom of popover\r\n        if (popover.sideContentVisible) {\r\n            const sideContentRect = sideContentRef.current.getBoundingClientRect();\r\n            sideContentRef.current.style.width = popoverRect.width + \"px\"; // Gives consistent styling + just makes loading not funky\r\n\r\n            // Set sideContentLeft to the left or right of the popover based on whether it'd overflow over the right of the screen\r\n            const sideContentLeft = popoverRect.x > window.innerWidth - (popoverRect.x + popoverRect.width)\r\n                ? (popoverRect.x - popoverRect.width)\r\n                : popoverRect.x + popoverRect.width\r\n\r\n            const sideContentTop = (popoverTop + popoverRect.height) - sideContentRect.height;\r\n            sideContentRef.current.style.top = sideContentTop + \"px\";\r\n            sideContentRef.current.style.left = sideContentLeft + \"px\";\r\n            sideContentRef.current.style.visibility = \"visible\";\r\n        }\r\n    });\r\n\r\n    return (\r\n        popover.visible &&\r\n        <>\r\n            <div\r\n                className=\"triangle triangle-up\"\r\n                ref={triangleRef} />\r\n            <div\r\n                className={`popover-window`}\r\n                ref={popoverRef}>\r\n                <div className=\"popover-title\">\r\n                    {popover.title}\r\n                </div>\r\n                {!popover.loading &&\r\n                    <div className=\"popover-content\">\r\n                        {popover.content}\r\n                    </div>\r\n                }\r\n            </div>\r\n            {popover.sideContentVisible && <div\r\n                className={`popover-window`}\r\n                ref={sideContentRef}>\r\n                <div className=\"popover-title\">\r\n                    {popover.sideContentTitle}\r\n                </div>\r\n                {!popover.sideContentLoading &&\r\n                    <div className=\"popover-content\">\r\n                        {popover.sideContent}\r\n                    </div>\r\n                }\r\n            </div>}\r\n        </>\r\n    );\r\n}\r\n\r\nexport function usePopover(siteInfo) {\r\n    const [visible, setVisible] = useState(false);\r\n    const [boundingEl, setBoundingEl] = useState();\r\n    const [title, setTitle] = useState(\"\");\r\n    const [content, setContent] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [sideContent, setSideContent] = useState(\"\");\r\n    const [sideContentTitle, setSideContentTitle] = useState(\"\");\r\n    const [sideContentVisible, setSideContentVisible] = useState(\"\");\r\n    const [sideContentLoading, setSideContentLoading] = useState(false);\r\n    const [sideContentMouseY, setSideContentMouseY] = useState(0);\r\n\r\n    const loadingRef = useRef();\r\n    const errorAlert = useErrorAlert(siteInfo);\r\n\r\n    function onClick(path, type, _boundingEl, title, dataMod) {\r\n        if (_boundingEl == boundingEl) {\r\n            setVisible(false);\r\n            setSideContentVisible(false);\r\n            setBoundingEl(null);\r\n        }\r\n        else\r\n            load(path, type, _boundingEl, title, dataMod);\r\n    }\r\n\r\n    function onHover(path, type, _boundingEl, title, dataMod, mouseY) {\r\n        if (!sideContentLoading && title !== sideContentTitle) { // using this just so requests aren't massive\r\n            setSideContentMouseY(mouseY);\r\n            load(path, type, _boundingEl, title, dataMod, true);\r\n        }\r\n    }\r\n\r\n    function open(boundingEl, title, sideload) {\r\n        if (sideload) {\r\n            setSideContentTitle(title);\r\n            setSideContentLoading(true);\r\n            setSideContentVisible(true);\r\n        } else {\r\n            setBoundingEl(boundingEl);\r\n\r\n            setTitle(title);\r\n            setSideContentVisible(false);\r\n            setLoading(true);\r\n            setVisible(true);\r\n\r\n            loadingRef.current = true;\r\n        }\r\n    }\r\n\r\n    function ready(content, type, title, sideload) {\r\n        switch (type) {\r\n            case \"setup\":\r\n                content = parseSetupPopover(content, siteInfo.roles);\r\n                break;\r\n            case \"rolePrediction\":\r\n                content = parseRolePredictionPopover(content);\r\n                break;\r\n            case \"role\":\r\n                content = parseRolePopover(content);\r\n                break;\r\n            case \"game\":\r\n                content = parseGamePopover(content);\r\n                break;\r\n        }\r\n\r\n        if (sideload) {\r\n            setSideContent(content);\r\n            setSideContentTitle(title); // doing this here guarentees the content + title are synced if multiple hovers are firing at once\r\n            setSideContentLoading(false);\r\n        } else {\r\n            setContent(content);\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    function load(path, type, boundingEl, title, dataMod, sideload) {\r\n        open(boundingEl, title, sideload);\r\n\r\n        axios.get(path)\r\n            .then(res => {\r\n                if (dataMod)\r\n                    dataMod(res.data);\r\n\r\n                loadingRef.current = false;\r\n                ready(res.data, type, title, sideload)\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    return {\r\n        visible,\r\n        setVisible,\r\n        boundingEl,\r\n        setBoundingEl,\r\n        title,\r\n        setTitle,\r\n        content,\r\n        setContent,\r\n        loading,\r\n        setLoading,\r\n        onClick,\r\n        onHover,\r\n        open,\r\n        ready,\r\n        load,\r\n        loadingRef,\r\n        sideContent,\r\n        sideContentVisible,\r\n        setSideContentVisible,\r\n        sideContentTitle,\r\n        sideContentLoading,\r\n        sideContentMouseY,\r\n    };\r\n}\r\n\r\nfunction InfoRow(props) {\r\n    return (\r\n        <div className=\"info-row\">\r\n            <div className=\"title\">{props.title}</div>\r\n            <div className=\"content\">{props.content}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function parseSetupPopover(setup, roleData) {\r\n    const result = [];\r\n\r\n    // ID\r\n    result.push(<InfoRow title=\"ID\" content={setup.id} key=\"id\" />);\r\n\r\n    //Creator\r\n    if (setup.creator) {\r\n        const name =\r\n            <NameWithAvatar\r\n                small\r\n                id={setup.creator.id}\r\n                name={setup.creator.name}\r\n                avatar={setup.creator.avatar} />\r\n        result.push(<InfoRow title=\"Created By\" content={name} key=\"createdBy\" />);\r\n    }\r\n\r\n    //Total\r\n    result.push(<InfoRow title=\"Players\" content={setup.total} key=\"players\" />);\r\n\r\n    //Ranked\r\n    result.push(<InfoRow title=\"Ranked Allowed\" content={setup.ranked ? \"Yes\" : \"No\"} key=\"ranked\" />);\r\n\r\n    //Whispers\r\n    const whisperContent = [];\r\n    whisperContent.push(<div key=\"whispers\">{setup.whispers ? \"Yes\" : \"No\"}</div>);\r\n\r\n    if (setup.whispers)\r\n        whisperContent.push(<div key=\"whispersLeak\">{setup.leakPercentage}% leak rate</div>);\r\n\r\n    result.push(<InfoRow title=\"Whispers\" content={whisperContent} key=\"whispers\" />);\r\n\r\n    //Must act\r\n    result.push(<InfoRow title=\"Must Act\" content={setup.mustAct ? \"Yes\" : \"No\"} key=\"mustAct\" />);\r\n\r\n    //Game settings\r\n    switch (setup.gameType) {\r\n        case \"Mafia\":\r\n            //Starting state\r\n            result.push(<InfoRow title=\"Starting State\" content={<GameStateIcon state={setup.startState} />} key=\"startState\" />);\r\n\r\n            //Dawn\r\n            result.push(<InfoRow title=\"Dawn\" content={setup.dawn ? \"Yes\" : \"No\"} key=\"dawn\" />);\r\n\r\n            //Last will\r\n            result.push(<InfoRow title=\"Last Will\" content={setup.lastWill ? \"Yes\" : \"No\"} key=\"lastWill\" />);\r\n\r\n            //No reveal\r\n            result.push(<InfoRow title=\"No Reveal\" content={setup.noReveal ? \"Yes\" : \"No\"} key=\"noReveal\" />);\r\n\r\n            //Votes invisible\r\n            result.push(<InfoRow title=\"Votes Invisible\" content={setup.votesInvisible ? \"Yes\" : \"No\"} key=\"votesInvis\" />);\r\n            break;\r\n        case \"Split Decision\":\r\n            //Initial swap amount\r\n            result.push(<InfoRow title=\"Initial Swap Amount\" content={setup.swapAmt} key=\"initSwapAmt\" />);\r\n\r\n            //Round amount\r\n            result.push(<InfoRow title=\"Round Amount\" content={setup.roundAmt} key=\"roundAmt\" />);\r\n            break;\r\n        case \"Resistance\":\r\n            //First team size\r\n            result.push(<InfoRow title=\"First Team Size\" content={setup.firstTeamSize} key=\"firstTeamSize\" />);\r\n\r\n            //Last team size\r\n            result.push(<InfoRow title=\"Last Team Size\" content={setup.lastTeamSize} key=\"lastTeamSize\" />);\r\n\r\n            //Number of Missions\r\n            result.push(<InfoRow title=\"Number of Missions\" content={setup.numMissions} key=\"numMissions\" />);\r\n\r\n            //Team Formation Attempts\r\n            result.push(<InfoRow title=\"Team Formation Attempts\" content={setup.teamFailLimit} key=\"teamFailLimit\" />);\r\n            break;\r\n        case \"One Night\":\r\n            //Votes invisible\r\n            result.push(<InfoRow title=\"Votes Invisible\" content={setup.votesInvisible ? \"Yes\" : \"No\"} key=\"votesInvis\" />);\r\n\r\n            //Excess roles\r\n            result.push(<InfoRow title=\"Excess Roles\" content={setup.excessRoles} key=\"excessRoles\" />);\r\n            break;\r\n    }\r\n\r\n    //Roles\r\n    if (setup.closed) {\r\n        result.push(<InfoRow title=\"Unique Roles\" content={setup.unique ? \"Yes\" : \"No\"} key=\"uniqueRoles\" />);\r\n\r\n        const roleset = setup.roles[0];\r\n        var rolesByAlignment = {};\r\n\r\n        for (let role in roleset) {\r\n            let roleName = role.split(\":\")[0];\r\n\r\n            for (let roleObj of roleData[setup.gameType]) {\r\n                if (roleObj.name == roleName) {\r\n                    let alignment = roleObj.alignment;\r\n\r\n                    if (!rolesByAlignment[alignment])\r\n                        rolesByAlignment[alignment] = {};\r\n\r\n                    rolesByAlignment[alignment][role] = roleset[role];\r\n                }\r\n            }\r\n        }\r\n\r\n        for (let alignment in rolesByAlignment) {\r\n            result.push(\r\n                <InfoRow\r\n                    title={`${alignment} roles`}\r\n                    content={\r\n                        <SmallRoleList\r\n                            roles={rolesByAlignment[alignment]}\r\n                            gameType={setup.gameType} />\r\n                    }\r\n                    key={alignment} />\r\n            );\r\n        }\r\n    }\r\n    else {\r\n        const rolesets = [];\r\n        const sectionName = setup.roles.length > 1 ? \"Role Sets\" : \"Roles\";\r\n\r\n        for (let i in setup.roles) {\r\n            let roleset = setup.roles[i];\r\n            rolesets.push(\r\n                <SmallRoleList\r\n                    roles={roleset}\r\n                    gameType={setup.gameType}\r\n                    key={i} />\r\n            );\r\n        }\r\n\r\n        result.push(<InfoRow title={sectionName} content={rolesets} key=\"roles\" />);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport function parseRolePredictionPopover(data) {\r\n    let roleset = Object.keys(data.roles);\r\n    roleset.unshift(undefined);\r\n\r\n    return (\r\n        <SmallRoleList\r\n            roles={roleset}\r\n            makeRolePrediction={data.toggleRolePrediction}\r\n            gameType={data.gameType} />\r\n    )\r\n}\r\n\r\nexport function parseGamePopover(game) {\r\n    const result = [];\r\n\r\n    //Scheduled\r\n    if (game.settings.scheduled)\r\n        result.push(<InfoRow title=\"Scheduled For\" content={(new Date(game.settings.scheduled)).toLocaleString()} key=\"scheduledFor\" />);\r\n\r\n    //Players\r\n    const playerList = [];\r\n\r\n    for (let i = 0; i < game.players.length; i++) {\r\n        playerList.push(\r\n            <NameWithAvatar\r\n                small\r\n                id={game.players[i].id}\r\n                name={game.players[i].name}\r\n                avatar={game.players[i].avatar}\r\n                key={game.players[i].id} />\r\n        );\r\n    }\r\n\r\n    while (playerList.length < game.totalPlayers) {\r\n        playerList.push(\r\n            <NameWithAvatar\r\n                small\r\n                name=\"[Guest]\"\r\n                key={playerList.length} />\r\n        );\r\n    }\r\n\r\n    result.push(<InfoRow title=\"Players\" content={playerList} key=\"players\" />);\r\n\r\n    //State lengths\r\n    const stateLengths = [];\r\n\r\n    for (let stateName of GameStates[game.type]) {\r\n        stateLengths.push(<div key={stateName}>{stateName}: <Time millisec={game.settings.stateLengths[stateName]} /></div>);\r\n    }\r\n\r\n    result.push(<InfoRow title=\"State Lengths\" content={stateLengths} key=\"stateLengths\" />);\r\n\r\n    //Ranked\r\n    result.push(<InfoRow title=\"Ranked\" content={game.settings.ranked ? \"Yes\" : \"No\"} key=\"ranked\" />);\r\n\r\n    //Spectating\r\n    result.push(<InfoRow title=\"Spectating\" content={game.settings.spectating ? \"Yes\" : \"No\"} key=\"spectating\" />);\r\n\r\n    //Guests\r\n    result.push(<InfoRow title=\"Guests Allowed\" content={game.settings.guests ? \"Yes\" : \"No\"} key=\"guests\" />);\r\n\r\n    //Ready Check\r\n    result.push(<InfoRow title=\"Ready Check\" content={game.settings.readyCheck ? \"Yes\" : \"No\"} key=\"readyCheck\" />);\r\n\r\n    switch (game.type) {\r\n        case \"Mafia\":\r\n            var extendLength = game.settings.gameTypeOptions.extendLength || 3;\r\n            result.push(<InfoRow title=\"Extension Length\" content={<Time millisec={extendLength * 60 * 1000} />} key=\"extendLength\" />);\r\n            break;\r\n    }\r\n\r\n    //Created at\r\n    if (game.createTime)\r\n        result.push(<InfoRow title=\"Created At\" content={(new Date(game.createTime)).toLocaleString()} key=\"createdAt\" />);\r\n\r\n    //Started at\r\n    if (game.startTime)\r\n        result.push(<InfoRow title=\"Started At\" content={(new Date(game.startTime)).toLocaleString()} key=\"startedAt\" />);\r\n\r\n    //Ended at\r\n    if (game.endTime)\r\n        result.push(<InfoRow title=\"Ended At\" content={(new Date(game.endTime)).toLocaleString()} key=\"endedAt\" />);\r\n\r\n    return result;\r\n}\r\n\r\nexport function parseRolePopover(role) {\r\n    const result = [];\r\n\r\n    //Alignment\r\n    result.push(<InfoRow title=\"Alignment\" content={role.alignment} key=\"alignment\" />);\r\n\r\n    //Description\r\n    const descLines = [];\r\n\r\n    for (let i in role.description)\r\n        descLines.push(<li key={i}>{role.description[i]}</li>);\r\n\r\n    result.push(<InfoRow title=\"Description\" content={<ul>{descLines}</ul>} key=\"desc\" />);\r\n\r\n    return result;\r\n}\r\n","import React, { useState, useEffect, useLayoutEffect, useRef, useReducer, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport update from \"immutability-helper\";\r\n\r\nimport { ClientSocket as Socket } from \"../../Socket\";\r\nimport { useErrorAlert } from \"../../components/Alerts\";\r\nimport { NameWithAvatar, StatusIcon } from \"../User/User\";\r\nimport { UserContext } from \"../../Contexts\";\r\nimport { MaxChatMessageLength } from \"../../Constants\";\r\nimport { Time, UserText } from \"../../components/Basic\";\r\nimport { NotificationHolder, filterProfanity, useOnOutsideClick } from \"../../components/Basic\";\r\n\r\nimport \"../../css/chat.css\";\r\nimport { flipTextColor } from \"../../utils\";\r\n\r\nexport default function Chat() {\r\n\tconst [showWindow, setShowWindow] = useState(false);\r\n\tconst [connected, setConnected] = useState(0);\r\n\tconst [token, setToken] = useState(\"\");\r\n\tconst [socket, setSocket] = useState({});\r\n\tconst [chatInfo, updateChatInfo] = useChatInfoReducer();\r\n\tconst [currentTab, setCurrentTab] = useState(\"rooms\");\r\n\tconst [currentChannelId, setCurrentChannelId] = useState();\r\n\tconst [channel, updateChannel] = useChannelReducer();\r\n\tconst [newDMUsers, setNewDMUsers] = useState({});\r\n\tconst [textInput, setTextInput] = useState(\"\");\r\n\tconst [autoScroll, setAutoScroll] = useState(true);\r\n\tconst [userSearchVal, setUserSearchVal] = useState(\"\");\r\n\r\n\tconst messageListRef = useRef();\r\n\tconst oldScrollHeight = useRef();\r\n\tconst user = useContext(UserContext);\r\n\tconst errorAlert = useErrorAlert();\r\n\r\n\tuseLayoutEffect(() => manageScroll());\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!user.loggedIn && token)\r\n\t\t\tsetToken(\"\");\r\n\t}, [user.loggedIn]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!token)\r\n\t\t\treturn;\r\n\r\n\t\tvar socketURL;\r\n\r\n\t\tif (process.env.REACT_APP_USE_PORT == \"true\")\r\n\t\t\tsocketURL = `${process.env.REACT_APP_SOCKET_PROTOCOL}://${process.env.REACT_APP_SOCKET_URI}:${process.env.REACT_APP_CHAT_PORT}`;\r\n\t\telse\r\n\t\t\tsocketURL = `${process.env.REACT_APP_SOCKET_PROTOCOL}://${process.env.REACT_APP_SOCKET_URI}/chatSocket`;\r\n\r\n\t\tvar newSocket = new Socket(socketURL);\r\n\t\tnewSocket.on(\"connected\", () => setConnected(connected + 1));\r\n\t\tnewSocket.on(\"disconnected\", () => setConnected(connected - 1));\r\n\t\tsetSocket(newSocket);\r\n\r\n\t\treturn () => {\r\n\t\t\tif (newSocket)\r\n\t\t\t\tnewSocket.clear();\r\n\t\t};\r\n\t}, [token]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (socket.readyState != 1) {\r\n\t\t\tif (socket.readyState == null || socket.readyState == 3)\r\n\t\t\t\tgetToken();\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsocket.send(\"auth\", token);\r\n\r\n\t\tsocket.on(\"chatInfo\", chatInfo => {\r\n\t\t\tupdateChatInfo({\r\n\t\t\t\ttype: \"set\",\r\n\t\t\t\tchatInfo\r\n\t\t\t});\r\n\r\n\t\t\tif (chatInfo.rooms && chatInfo.rooms.length > 0) {\r\n\t\t\t\tif (!currentChannelId) {\r\n\t\t\t\t\tvar roomId = chatInfo.rooms[0].id;\r\n\t\t\t\t\tsetCurrentChannelId(roomId);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsocket.on(\"channel\", channel => {\r\n\t\t\tupdateChannel({\r\n\t\t\t\ttype: \"set\",\r\n\t\t\t\tchannel\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tsocket.on(\"message\", message => {\r\n\t\t\tupdateChannel({\r\n\t\t\t\ttype: \"message\",\r\n\t\t\t\tmessage\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tsocket.on(\"oldMessages\", messages => {\r\n\t\t\tupdateChannel({\r\n\t\t\t\ttype: \"oldMessages\",\r\n\t\t\t\tmessages,\r\n\t\t\t\tmessageListRef\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tsocket.on(\"users\", users => {\r\n\t\t\tupdateChatInfo({\r\n\t\t\t\ttype: \"users\",\r\n\t\t\t\tusers\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tsocket.on(\"newDirectChannel\", info => {\r\n\t\t\tupdateChatInfo({\r\n\t\t\t\ttype: \"directs\",\r\n\t\t\t\tchannel: info.channel\r\n\t\t\t});\r\n\r\n\t\t\tif (info.focus) {\r\n\t\t\t\tsetCurrentTab(\"directs\");\r\n\t\t\t\tsetCurrentChannelId(info.channel.id);\r\n\t\t\t\tsocket.send(\"getChannel\", info.channel.id);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsocket.on(\"openDM\", channelId => {\r\n\t\t\tsetCurrentTab(\"directs\");\r\n\t\t\tsetCurrentChannelId(channelId);\r\n\t\t\tsocket.send(\"getChannel\", channelId);\r\n\t\t});\r\n\r\n\t\tsocket.on(\"dateUpdate\", info => {\r\n\t\t\tupdateChatInfo({\r\n\t\t\t\ttype: \"date\",\r\n\t\t\t\tchannelId: info.channel,\r\n\t\t\t\tdate: info.date\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tsocket.on(\"newNotif\", info => {\r\n\t\t\tupdateChatInfo({\r\n\t\t\t\ttype: \"addNotif\",\r\n\t\t\t\tchannelId: info.notif.channelId\r\n\t\t\t});\r\n\r\n\t\t\tif (document.hidden && document.title.indexOf(\"🔴\") == -1)\r\n\t\t\t\tdocument.title = document.title + \"🔴\";\r\n\t\t});\r\n\r\n\t\tsocket.on(\"messageDeleted\", messageId => {\r\n\t\t\tupdateChannel({\r\n\t\t\t\ttype: \"deleteMessage\",\r\n\t\t\t\tmessageId\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tsocket.on(\"error\", error => {\r\n\t\t\terrorAlert(error);\r\n\t\t});\r\n\t}, [connected]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!channel.id)\r\n\t\t\treturn;\r\n\r\n\t\tif (chatInfo.notifs.byChannel[channel.id])\r\n\t\t\tsocket.send(\"readNotifsInChannel\", channel.id);\r\n\r\n\t\tupdateChatInfo({\r\n\t\t\ttype: \"readNotifs\",\r\n\t\t\tchannelId: channel.id\r\n\t\t});\r\n\t}, [channel]);\r\n\r\n\tfunction getToken() {\r\n\t\taxios.get(\"/chat/connect\")\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetToken(res.data);\r\n\t\t\t})\r\n\t\t\t.catch(errorAlert);\r\n\t}\r\n\r\n\tfunction onTopBarClick() {\r\n\t\tsetShowWindow(!showWindow);\r\n\t\tsetAutoScroll(true);\r\n\r\n\t\tif (!showWindow) {\r\n\t\t\tif (currentChannelId)\r\n\t\t\t\tsocket.send(\"getChannel\", currentChannelId);\r\n\r\n\t\t\tif (currentChannelId) {\r\n\t\t\t\tif (chatInfo.notifs.byChannel[currentChannelId])\r\n\t\t\t\t\tsocket.send(\"readNotifsInChannel\", currentChannelId);\r\n\r\n\t\t\t\tupdateChatInfo({\r\n\t\t\t\t\ttype: \"readNotifs\",\r\n\t\t\t\t\tchannelId: currentChannelId\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t\tsocket.send(\"closedChat\");\r\n\t}\r\n\r\n\tfunction onTabClick(type) {\r\n\t\tsetCurrentTab(type);\r\n\r\n\t\tif (type == \"users\")\r\n\t\t\tsocket.send(\"getUsers\", userSearchVal);\r\n\t}\r\n\r\n\tfunction onChannelClick(id) {\r\n\t\tif (currentTab != \"users\") {\r\n\t\t\tsocket.send(\"getChannel\", id);\r\n\r\n\t\t\tsetCurrentChannelId(id);\r\n\t\t\tsetAutoScroll(true);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (!newDMUsers[id]) {\r\n\t\t\t\tsetNewDMUsers(update(newDMUsers, {\r\n\t\t\t\t\t[id]: {\r\n\t\t\t\t\t\t$set: true\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tsetNewDMUsers(update(newDMUsers, {\r\n\t\t\t\t\t$unset: [id]\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onSendMessage(e) {\r\n\t\tif (e.key == \"Enter\" && textInput.length) {\r\n\t\t\tconst message = e.target.value;\r\n\t\t\tsocket.send(\"sendMessage\", message);\r\n\t\t\tsetTextInput(\"\");\r\n\t\t\tsetAutoScroll(true);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onMessagesScroll() {\r\n\t\tvar messageList = messageListRef.current;\r\n\r\n\t\tif (Math.round(messageList.scrollTop + messageList.clientHeight) >= Math.round(messageList.scrollHeight))\r\n\t\t\tsetAutoScroll(true);\r\n\t\telse {\r\n\t\t\tsetAutoScroll(false);\r\n\r\n\t\t\tif (messageList.scrollTop == 0)\r\n\t\t\t\tsocket.send(\"getOldMessages\", channel.messages[0].date);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction manageScroll() {\r\n\t\tif (messageListRef.current) {\r\n\t\t\tif (oldScrollHeight.current == null)\r\n\t\t\t\toldScrollHeight.current = messageListRef.current.scrollHeight;\r\n\t\t\telse if (oldScrollHeight.current != messageListRef.current.scrollHeight) {\r\n\t\t\t\tif (messageListRef.current.scrollTop == 0) {\r\n\t\t\t\t\tvar scrollTo = messageListRef.current.scrollHeight * (1 - (oldScrollHeight.current / messageListRef.current.scrollHeight));\r\n\t\t\t\t\tmessageListRef.current.scrollTop = scrollTo - 5;\r\n\t\t\t\t}\r\n\r\n\t\t\t\toldScrollHeight.current = messageListRef.current.scrollHeight;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (autoScroll && messageListRef.current)\r\n\t\t\tmessageListRef.current.scrollTop = messageListRef.current.scrollHeight;\r\n\t}\r\n\r\n\tfunction onUserSearch(e) {\r\n\t\tconst query = e.target.value;\r\n\t\tsetUserSearchVal(query);\r\n\t\tsocket.send(\"getUsers\", query);\r\n\t}\r\n\r\n\tfunction onCreateDM() {\r\n\t\tvar users = Object.keys(newDMUsers);\r\n\t\tsocket.send(\"newDMChannel\", users);\r\n\t\tsetNewDMUsers({});\r\n\t}\r\n\r\n\tfunction onCloseDM(channelId) {\r\n\t\tsocket.send(\"closeDM\", channelId);\r\n\r\n\t\tsetCurrentChannelId(null);\r\n\t\tupdateChannel({ type: \"clear\" });\r\n\t\tupdateChatInfo({\r\n\t\t\ttype: \"remove\",\r\n\t\t\tchannelType: currentTab,\r\n\t\t\tchannelId\r\n\t\t});\r\n\t}\r\n\r\n\tvar channels = chatInfo[currentTab];\r\n\r\n\tif (currentTab == \"directs\")\r\n\t\tchannels = channels.sort(sortDMs);\r\n\r\n\tchannels = channels.reduce((channels, channel) => {\r\n\t\tif (currentTab == \"users\" && channel.id == user.id)\r\n\t\t\treturn channels;\r\n\r\n\t\tvar className = \"channel\";\r\n\r\n\t\tif (currentTab != \"users\" && channel.id == currentChannelId)\r\n\t\t\tclassName += \" sel\";\r\n\t\telse if (currentTab == \"users\" && newDMUsers[channel.id])\r\n\t\t\tclassName += \" sel\";\r\n\r\n\t\tchannels.push(\r\n\t\t\t<NotificationHolder\r\n\t\t\t\tclassName={className}\r\n\t\t\t\tkey={channel.id}\r\n\t\t\t\tnotifCount={chatInfo.notifs.byChannel[channel.id]}\r\n\t\t\t\tonClick={() => onChannelClick(channel.id)}>\r\n\t\t\t\t<ChannelName\r\n\t\t\t\t\tshort\r\n\t\t\t\t\tchannelType={currentTab}\r\n\t\t\t\t\tchannel={channel}\r\n\t\t\t\t\tuser={user} />\r\n\t\t\t</NotificationHolder>\r\n\t\t);\r\n\r\n\t\treturn channels;\r\n\t}, []);\r\n\r\n\tconst messages = channel.messages.map(message => (\r\n\t\t<Message\r\n\t\t\tmessage={message}\r\n\t\t\tsocket={socket}\r\n\t\t\tkey={message.id} />\r\n\t));\r\n\r\n\treturn (\r\n\t\ttoken &&\r\n\t\t<NotificationHolder\r\n\t\t\tclassName=\"chat-wrapper\"\r\n\t\t\tnotifCount={chatInfo.notifs.all}>\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"top-bar\"\r\n\t\t\t\tonClick={onTopBarClick}>\r\n\t\t\t\t<i className=\"fas fa-comment\" />\r\n\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\tChat\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{showWindow &&\r\n\t\t\t\t<div className=\"window\">\r\n\t\t\t\t\t<div className=\"left-panel\">\r\n\t\t\t\t\t\t<div className=\"channel-type-nav\">\r\n\t\t\t\t\t\t\t<NotificationHolder\r\n\t\t\t\t\t\t\t\tclassName={`channel-type ${currentTab == \"rooms\" ? \"sel\" : \"\"}`}\r\n\t\t\t\t\t\t\t\tnotifCount={chatInfo.notifs.byChannelType[\"rooms\"]}\r\n\t\t\t\t\t\t\t\tonClick={() => onTabClick(\"rooms\")}>\r\n\t\t\t\t\t\t\t\tRooms\r\n\t\t\t\t\t\t\t</NotificationHolder>\r\n\t\t\t\t\t\t\t<NotificationHolder\r\n\t\t\t\t\t\t\t\tclassName={`channel-type ${currentTab == \"directs\" ? \"sel\" : \"\"}`}\r\n\t\t\t\t\t\t\t\tnotifCount={chatInfo.notifs.byChannelType[\"directs\"]}\r\n\t\t\t\t\t\t\t\tonClick={() => onTabClick(\"directs\")}>\r\n\t\t\t\t\t\t\t\tDirects\r\n\t\t\t\t\t\t\t</NotificationHolder>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={`channel-type ${currentTab == \"users\" ? \"sel\" : \"\"}`}\r\n\t\t\t\t\t\t\t\tonClick={() => onTabClick(\"users\")}>\r\n\t\t\t\t\t\t\t\tUsers\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{currentTab == \"users\" &&\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"user-search\"\r\n\t\t\t\t\t\t\t\tvalue={userSearchVal}\r\n\t\t\t\t\t\t\t\tplaceholder={\"Search\"}\r\n\t\t\t\t\t\t\t\tonChange={onUserSearch} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<div className=\"channel-list\">\r\n\t\t\t\t\t\t\t{channels}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{currentTab == \"users\" && Object.keys(newDMUsers).length > 0 &&\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"create-dm-btn btn btn-theme\"\r\n\t\t\t\t\t\t\t\tonClick={onCreateDM}>\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-plus\" />\r\n\t\t\t\t\t\t\t\tCreate DM ({Object.keys(newDMUsers).length})\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"right-panel\">\r\n\t\t\t\t\t\t{channel.id &&\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<div className=\"channel-top\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"channel-name\">\r\n\t\t\t\t\t\t\t\t\t\t<ChannelName\r\n\t\t\t\t\t\t\t\t\t\t\tchannelType={channel.public ? \"rooms\" : \"directs\"}\r\n\t\t\t\t\t\t\t\t\t\t\tchannel={channel}\r\n\t\t\t\t\t\t\t\t\t\t\tuser={user} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{!channel.public &&\r\n\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"close-dm fas fa-times\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => onCloseDM(channel.id)} />\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"channel-messages\"\r\n\t\t\t\t\t\t\t\t\tref={messageListRef}\r\n\t\t\t\t\t\t\t\t\tonScroll={onMessagesScroll}>\r\n\t\t\t\t\t\t\t\t\t{messages}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"channel-input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"channel-input\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={textInput}\r\n\t\t\t\t\t\t\t\t\t\tmaxLength={MaxChatMessageLength}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTextInput(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\tonKeyPress={onSendMessage} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</NotificationHolder>\r\n\t);\r\n}\r\n\r\nfunction Message(props) {\r\n\tconst message = props.message;\r\n\tconst socket = props.socket;\r\n\r\n\tconst [showContextMenu, setShowContextMenu] = useState(false);\r\n\tconst [clickCoords, setClickCoords] = useState({});\r\n\r\n\tconst messageRef = useRef();\r\n\tconst contextMenuRef = useRef();\r\n\tconst user = useContext(UserContext);\r\n\tconst isSelf = message.sender.id == user.id;\r\n\tconst age = Date.now() - message.date;\r\n\r\n\tuseOnOutsideClick(messageRef, () => setShowContextMenu(false));\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!contextMenuRef.current)\r\n\t\t\treturn;\r\n\r\n\t\tconst messageRect = messageRef.current.getBoundingClientRect();\r\n\r\n\t\tcontextMenuRef.current.style.top = (clickCoords.y - messageRect.top) + \"px\";\r\n\r\n\t\tif (!isSelf)\r\n\t\t\tcontextMenuRef.current.style.left = (clickCoords.x - messageRect.left) + \"px\";\r\n\t\telse\r\n\t\t\tcontextMenuRef.current.style.right = (messageRect.right - clickCoords.x) + \"px\";\r\n\r\n\t\tcontextMenuRef.current.style.visibility = \"visible\";\r\n\t}, [clickCoords]);\r\n\r\n\tfunction onMessageClick(e) {\r\n\t\tif (e.type == \"contextmenu\") {\r\n\t\t\te.preventDefault();\r\n\t\t\tsetShowContextMenu(true);\r\n\t\t\tsetClickCoords({ x: e.clientX, y: e.clientY });\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onDeleteClick() {\r\n\t\tsocket.send(\"deleteMessage\", message.id);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={`message ${isSelf ? \"self\" : \"\"}`}>\r\n\t\t\t<div className=\"info\">\r\n\t\t\t\t{!isSelf &&\r\n\t\t\t\t\t<NameWithAvatar\r\n\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\tid={message.sender.id}\r\n\t\t\t\t\t\tname={message.sender.name}\r\n\t\t\t\t\t\tavatar={message.sender.avatar}\r\n\t\t\t\t\t\tcolor={message.sender.settings && flipTextColor(message.sender.settings.nameColor)}\r\n\t\t\t\t\t\tgroups={message.sender.groups} />\r\n\t\t\t\t}\r\n\t\t\t\t{age > 1000 * 60 &&\r\n\t\t\t\t\t<div className=\"timestamp\">\r\n\t\t\t\t\t\t<Time\r\n\t\t\t\t\t\t\tmillisec={age}\r\n\t\t\t\t\t\t\tsuffix=\" ago\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"content\"\r\n\t\t\t\tstyle={message.sender.settings && message.sender.settings.textColor ? { color: flipTextColor(message.sender.settings.textColor) } : {}}\r\n\t\t\t\tonContextMenu={onMessageClick}\r\n\t\t\t\tref={messageRef}>\r\n\t\t\t\t{/* {linkify(message.content)} */}\r\n\t\t\t\t<UserText\r\n\t\t\t\t\ttext={message.content}\r\n\t\t\t\t\tsettings={user.settings}\r\n\t\t\t\t\tfilterProfanity\r\n\t\t\t\t\tlinkify\r\n\t\t\t\t\temotify />\r\n\t\t\t</div>\r\n\t\t\t{showContextMenu && (user.id == message.sender.id || user.perms.deleteChatMessage) &&\r\n\t\t\t\t<div className=\"context\" ref={contextMenuRef}>\r\n\t\t\t\t\t<div className=\"item\" onClick={onDeleteClick}>\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ChannelName(props) {\r\n\tconst channelType = props.channelType;\r\n\tconst channel = props.channel;\r\n\tconst user = props.user;\r\n\tconst short = props.short;\r\n\r\n\tswitch (channelType) {\r\n\t\tcase \"rooms\":\r\n\t\t\treturn channel.name;\r\n\t\tcase \"directs\":\r\n\t\t\tif (short) {\r\n\t\t\t\tvar memberNames = channel.members.filter(m => m.id != user.id).map(m => m.name);\r\n\t\t\t\tvar name = memberNames.join(\", \");\r\n\r\n\t\t\t\tif (memberNames.length > 1 && name.length > 20)\r\n\t\t\t\t\tname = name.slice(0, 17) + \"...\";\r\n\r\n\t\t\t\treturn name;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar members = channel.members.filter(m => m.id != user.id);\r\n\t\t\t\treturn members.map(\r\n\t\t\t\t\tm => (\r\n\t\t\t\t\t\t<NameWithAvatar\r\n\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\tid={m.id}\r\n\t\t\t\t\t\t\tname={m.name}\r\n\t\t\t\t\t\t\tavatar={m.avatar}\r\n\t\t\t\t\t\t\tkey={m.id} />\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\tcase \"users\":\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<NameWithAvatar\r\n\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\tnoLink\r\n\t\t\t\t\t\tid={channel.id}\r\n\t\t\t\t\t\tname={channel.name}\r\n\t\t\t\t\t\tavatar={channel.avatar} />\r\n\t\t\t\t\t<StatusIcon status={channel.status} />\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nfunction sortDMs(a, b) {\r\n\treturn b.lastMessageDate - a.lastMessageDate;\r\n}\r\n\r\nfunction useChatInfoReducer() {\r\n\treturn useReducer((chatInfo, action) => {\r\n\t\tvar newChatInfo = chatInfo;\r\n\r\n\t\tswitch (action.type) {\r\n\t\t\tcase \"set\":\r\n\t\t\t\tvar notifsArray = action.chatInfo.notifs;\r\n\t\t\t\tvar notifsTotal = 0;\r\n\t\t\t\tvar notifsByChannelType = { rooms: 0, directs: 0 };\r\n\t\t\t\tvar notifsByChannel = {};\r\n\r\n\t\t\t\tfor (let notif of notifsArray) {\r\n\t\t\t\t\tif (!notifsByChannel[notif.channelId])\r\n\t\t\t\t\t\tnotifsByChannel[notif.channelId] = 0;\r\n\r\n\t\t\t\t\tlet channelType = notif.channelId.length == 32 ? \"directs\" : \"rooms\";\r\n\r\n\t\t\t\t\tnotifsTotal += 1;\r\n\t\t\t\t\tnotifsByChannelType[channelType] += 1;\r\n\t\t\t\t\tnotifsByChannel[notif.channelId] += 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnewChatInfo = { ...action.chatInfo, notifs: chatInfo.notifs };\r\n\t\t\t\tnewChatInfo = update(newChatInfo, {\r\n\t\t\t\t\tnotifs: {\r\n\t\t\t\t\t\tall: {\r\n\t\t\t\t\t\t\t$set: notifsTotal\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbyChannelType: {\r\n\t\t\t\t\t\t\t$set: notifsByChannelType\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbyChannel: {\r\n\t\t\t\t\t\t\t$set: notifsByChannel\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"directs\":\r\n\t\t\t\tnewChatInfo = update(chatInfo, {\r\n\t\t\t\t\tdirects: {\r\n\t\t\t\t\t\t$unshift: [action.channel]\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"users\":\r\n\t\t\t\tnewChatInfo = update(chatInfo, {\r\n\t\t\t\t\tusers: {\r\n\t\t\t\t\t\t$set: action.users\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"remove\":\r\n\t\t\t\tvar newChannels = chatInfo[action.channelType];\r\n\t\t\t\tnewChannels = newChannels.filter(channel => channel.id != action.channelId);\r\n\r\n\t\t\t\tnewChatInfo = update(chatInfo, {\r\n\t\t\t\t\t[action.channelType]: {\r\n\t\t\t\t\t\t$set: newChannels\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"date\":\r\n\t\t\t\tvar newDirects = chatInfo.directs.map(channel => {\r\n\t\t\t\t\tif (channel.id == action.channelId)\r\n\t\t\t\t\t\tchannel.lastMessageDate = action.date;\r\n\r\n\t\t\t\t\treturn channel;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tnewChatInfo = update(chatInfo, {\r\n\t\t\t\t\tdirects: {\r\n\t\t\t\t\t\t$set: newDirects\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"addNotif\":\r\n\t\t\t\tvar channelType = action.channelId.length == 32 ? \"directs\" : \"rooms\";\r\n\t\t\t\tvar newAll = chatInfo.notifs.all + 1;\r\n\t\t\t\tvar newByChannelType = chatInfo.notifs[channelType] ? chatInfo.notifs[channelType] + 1 : 1;\r\n\t\t\t\tvar newByChannel = chatInfo.notifs[action.channelId] ? chatInfo.notifs[action.channelId] + 1 : 1;\r\n\r\n\t\t\t\tnewChatInfo = update(chatInfo, {\r\n\t\t\t\t\tnotifs: {\r\n\t\t\t\t\t\tall: {\r\n\t\t\t\t\t\t\t$set: newAll\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbyChannelType: {\r\n\t\t\t\t\t\t\t[channelType]: {\r\n\t\t\t\t\t\t\t\t$set: newByChannelType\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbyChannel: {\r\n\t\t\t\t\t\t\t[action.channelId]: {\r\n\t\t\t\t\t\t\t\t$set: newByChannel\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"readNotifs\":\r\n\t\t\t\tvar amt = chatInfo.notifs.byChannel[action.channelId] || 0;\r\n\t\t\t\tvar channelType = action.channelId.length == 32 ? \"directs\" : \"rooms\";\r\n\t\t\t\tvar newAll = chatInfo.notifs.all - amt;\r\n\t\t\t\tvar newByChannelType = chatInfo.notifs.byChannelType[channelType] - amt;\r\n\r\n\t\t\t\tnewChatInfo = update(chatInfo, {\r\n\t\t\t\t\tnotifs: {\r\n\t\t\t\t\t\tall: {\r\n\t\t\t\t\t\t\t$set: newAll\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbyChannelType: {\r\n\t\t\t\t\t\t\t[channelType]: {\r\n\t\t\t\t\t\t\t\t$set: newByChannelType\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbyChannel: {\r\n\t\t\t\t\t\t\t[action.channelId]: {\r\n\t\t\t\t\t\t\t\t$set: 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn newChatInfo;\r\n\t}, { rooms: [], directs: [], users: [], notifs: { all: 0, byChannelType: {}, byChannel: {} } });\r\n}\r\n\r\nfunction useChannelReducer() {\r\n\treturn useReducer((channel, action) => {\r\n\t\tvar newChannel = channel;\r\n\r\n\t\tswitch (action.type) {\r\n\t\t\tcase \"set\":\r\n\t\t\t\tnewChannel = action.channel;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"message\":\r\n\t\t\t\tif (action.message.channel != channel.id)\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tnewChannel = update(channel, {\r\n\t\t\t\t\tmessages: {\r\n\t\t\t\t\t\t$push: [action.message]\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"deleteMessage\":\r\n\t\t\t\tvar index = -1;\r\n\r\n\t\t\t\tfor (let i in channel.messages) {\r\n\t\t\t\t\tlet message = channel.messages[i];\r\n\r\n\t\t\t\t\tif (message.id == action.messageId) {\r\n\t\t\t\t\t\tindex = i;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (index != -1) {\r\n\t\t\t\t\tnewChannel = update(channel, {\r\n\t\t\t\t\t\tmessages: {\r\n\t\t\t\t\t\t\t$splice: [[index, 1]]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"oldMessages\":\r\n\t\t\t\tnewChannel = update(channel, {\r\n\t\t\t\t\tmessages: {\r\n\t\t\t\t\t\t$unshift: action.messages\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"clear\":\r\n\t\t\t\tnewChannel = { messages: [] };\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn newChannel;\r\n\t}, { messages: [] });\r\n}","import React, { useEffect } from \"react\";\nimport { Emotes, emotify } from \"../../components/Emotes\";\nimport \"../../css/emotes.css\";\n\nexport default function EmoteList() {\n\tuseEffect(() => {\n\t\tdocument.title = \"Emotes | BeyondMafia\";\n\t}, []);\n\n\treturn (\n\t\t<div className=\"span-panel main legal\">\n\t\t\t<h1>List of Emotes {emotify(\":doge:\")}</h1>\n            <div>{getEmotes()}</div>\n        </div>\n\t);\n    \n}\n\nfunction getEmotes() {\n    const emotesList = Object.keys(Emotes);\n    return (\n        <ul className=\"emote-list\">\n            {emotesList.map((emote) => (\n                <li key={emote}>\n                    {emote} {emotify(emote)}\n                </li>\n            ))}\n        </ul>\n    )\n}\n","import React, { useState, useContext, useRef, useEffect, useLayoutEffect } from \"react\";\r\nimport { Route, Link, NavLink, Switch, Redirect, useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport update from \"immutability-helper\";\r\n\r\nimport { UserContext, SiteInfoContext, PopoverContext, useSiteInfo } from \"./Contexts\";\r\nimport { AlertList, useErrorAlert } from \"./components/Alerts\";\r\nimport { NotificationHolder, useOnOutsideClick, Time } from \"./components/Basic\";\r\nimport { Nav } from \"./components/Nav\";\r\nimport Game from \"./pages/Game/Game\";\r\nimport Play from \"./pages/Play/Play\";\r\nimport Community from \"./pages/Community/Community\";\r\nimport Auth from \"./pages/Auth/Auth\";\r\nimport User, { Avatar, useUser } from \"./pages/User/User\";\r\nimport Legal from \"./pages/Legal/Legal\";\r\nimport Popover, { usePopover } from \"./components/Popover\";\r\nimport Chat from \"./pages/Chat/Chat\";\r\nimport Emotes from \"./pages/Chat/EmoteList\";\r\n\r\nimport \"./css/main.css\";\r\nimport { useReducer } from \"react\";\r\nimport { setCaptchaVisible } from \"./utils\";\r\n\r\nfunction Main() {\r\n    var cacheVal = window.localStorage.getItem(\"cacheVal\");\r\n\r\n    if (!cacheVal) {\r\n        cacheVal = Date.now();\r\n        window.localStorage.setItem(\"cacheVal\", cacheVal);\r\n    }\r\n\r\n    const user = useUser();\r\n    const siteInfo = useSiteInfo({\r\n        alerts: [],\r\n        cacheVal\r\n    });\r\n    const popover = usePopover(siteInfo);\r\n    const errorAlert = useErrorAlert(siteInfo);\r\n\r\n    function onGameLeave(index) {\r\n        axios.post(\"/game/leave\")\r\n            .then(() => {\r\n                siteInfo.hideAlert(index);\r\n            })\r\n            .catch(errorAlert);\r\n    }\r\n\r\n    var userColourScheme = \"\";\r\n\r\n    if (user.settings?.siteColorScheme === false) {\r\n        userColourScheme = \"light\";\r\n    }\r\n    else if (user.settings?.siteColorScheme === true) {\r\n        userColourScheme = \"dark\";\r\n    }\r\n    else {\r\n        userColourScheme = user.settings?.siteColorScheme || \"auto\";\r\n    }\r\n    \r\n    if (userColourScheme === \"light\") {\r\n        if (document.documentElement.classList.contains(\"dark-mode\")) {\r\n            document.documentElement.classList.remove(\"dark-mode\");\r\n        }\r\n        document.documentElement.classList.add(\"light-mode\");\r\n    }\r\n    else if (userColourScheme === \"dark\") {\r\n        if (document.documentElement.classList.contains(\"light-mode\")) {\r\n            document.documentElement.classList.remove(\"light-mode\");\r\n        }\r\n        document.documentElement.classList.add(\"dark-mode\");\r\n    }\r\n    else if (userColourScheme === \"auto\") {\r\n        if (document.documentElement.classList.contains(\"dark-mode\")) {\r\n            document.documentElement.classList.remove(\"dark-mode\");\r\n        }\r\n        if (document.documentElement.classList.contains(\"light-mode\")) {\r\n            document.documentElement.classList.remove(\"light-mode\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function getInfo() {\r\n            try {\r\n                var res = await axios.get(\"/user/info\");\r\n\r\n                if (res.data.id) {\r\n                    setCaptchaVisible(false);\r\n\r\n                    axios.defaults.headers.common['x-csrf'] = res.data.csrf;\r\n                    axios.post(\"/user/online\");\r\n\r\n                    res.data.loggedIn = true;\r\n                    res.data.loaded = true;\r\n                    res.data.rank = Number(res.data.rank);\r\n                    user.set(res.data);\r\n\r\n                    var referrer = window.localStorage.getItem(\"referrer\");\r\n\r\n                    if (referrer) {\r\n                        axios.post(\"/user/referred\", { referrer });\r\n                        window.localStorage.removeItem(\"referrer\");\r\n                    }\r\n                }\r\n                else {\r\n                    user.clear();\r\n                    setCaptchaVisible(true);\r\n                }\r\n\r\n                if (res.data.nameChanged == false) {\r\n                    siteInfo.showAlert(() => (\r\n                        <div>\r\n                            New account created, you can change your username once in your <Link to={`/user/settings`}>settings</Link>.\r\n                        </div>\r\n                    ), \"basic\", true);\r\n                }\r\n\r\n                if (res.data.inGame) {\r\n                    siteInfo.showAlert(index => (\r\n                        <div>\r\n                            Return to game <Link to={`/game/${res.data.inGame}`}>{res.data.inGame}</Link> or <a onClick={() => onGameLeave(index)}>leave</a>.\r\n                        </div>\r\n                    ), \"basic\", true);\r\n                }\r\n\r\n                res = await axios.get(\"/roles/all\");\r\n                siteInfo.update(\"roles\", res.data);\r\n            }\r\n            catch (e) {\r\n                errorAlert(e);\r\n            }\r\n\r\n        }\r\n\r\n        getInfo();\r\n\r\n        var onlineInterval = setInterval(() => {\r\n            axios.post(\"/user/online\");\r\n        }, 1000 * 30);\r\n\r\n        return () => {\r\n            clearInterval(onlineInterval);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <UserContext.Provider value={user}>\r\n            <SiteInfoContext.Provider value={siteInfo}>\r\n                <PopoverContext.Provider value={popover}>\r\n                    <Switch>\r\n                        <Route path=\"/game\">\r\n                            <Game />\r\n                        </Route>\r\n                        <Route path=\"/\">\r\n                            <div className=\"site-wrapper\">\r\n                                <div className=\"main-container\">\r\n                                    <Header />\r\n                                    <div className=\"inner-container\">\r\n                                        <Switch>\r\n                                            <Route path=\"/play\" render={() => <Play />} />\r\n                                            <Route path=\"/community\" render={() => <Community />} />\r\n                                            <Route path=\"/auth\" render={() => <Auth />} />\r\n                                            <Route path=\"/user\" render={() => <User />} />\r\n                                            <Route path=\"/legal\" render={() => <Legal />} />\r\n                                            <Route path=\"/emotes\" render={() => <Emotes />} />\r\n                                            <Route render={() => <Redirect to=\"/play\" />} />\r\n                                        </Switch>\r\n                                    </div>\r\n                                    <Footer />\r\n                                    <AlertList />\r\n                                    <Chat />\r\n                                </div>\r\n                            </div>\r\n                        </Route>\r\n                    </Switch>\r\n                    <Popover />\r\n                </PopoverContext.Provider>\r\n            </SiteInfoContext.Provider>\r\n        </UserContext.Provider>\r\n    );\r\n}\r\n\r\nfunction Header(props) {\r\n    const user = useContext(UserContext);\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <div className=\"nav-wrapper left\">\r\n                <Nav>\r\n                    <NavLink to=\"/play\">Lobby</NavLink>\r\n                    <NavLink to=\"/community\">Community</NavLink>\r\n                </Nav>\r\n            </div>\r\n            <Link to=\"/\" className=\"logo-wrapper\">\r\n                <div className=\"logo\" />\r\n            </Link>\r\n            <div className=\"nav-wrapper right\">\r\n                <Nav>\r\n                    <NavLink to=\"/emotes\">Emotes</NavLink>\r\n                    {!user.loggedIn &&\r\n                        <NavLink to=\"/auth\" className=\"nav-link\">Log In</NavLink>\r\n                    }\r\n                    {user.loggedIn &&\r\n                        <div className=\"user-wrapper\">\r\n                            <SiteNotifs />\r\n                            <Link to=\"/user\" className=\"profile-link\">\r\n                                <Avatar\r\n                                    id={user.id}\r\n                                    name={user.name}\r\n                                    hasImage={user.avatar} />\r\n                            </Link>\r\n                        </div>\r\n\r\n                    }\r\n                </Nav>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction SiteNotifs() {\r\n    const [showNotifList, setShowNotifList] = useState(false);\r\n    const [notifInfo, updateNotifInfo] = useNotifInfoReducer();\r\n    const [nextRestart, setNextRestart] = useState();\r\n    const siteInfo = useContext(SiteInfoContext);\r\n    const history = useHistory();\r\n\r\n    const bellRef = useRef();\r\n    const notifListRef = useRef();\r\n\r\n    useOnOutsideClick([bellRef, notifListRef], () => setShowNotifList(false));\r\n\r\n    useEffect(() => {\r\n        getNotifs();\r\n        var notifGetInterval = setInterval(() => getNotifs(), 10 * 1000);\r\n        return () => clearInterval(notifGetInterval);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (showNotifList)\r\n            viewedNotifs();\r\n    }, [notifInfo.notifs]);\r\n\r\n    useEffect(() => {\r\n        if (nextRestart && nextRestart > Date.now()) {\r\n            var restartMinutes = Math.ceil((nextRestart - Date.now()) / 1000 / 60);\r\n            siteInfo.showAlert(`The server will be restarting in ${restartMinutes} minutes.`, \"basic\", true);\r\n        }\r\n    }, [nextRestart]);\r\n\r\n    useLayoutEffect(() => {\r\n        if (!showNotifList)\r\n            return;\r\n\r\n        const listRect = notifListRef.current.getBoundingClientRect();\r\n        const listRight = listRect.left + listRect.width;\r\n\r\n        if (listRight > window.innerWidth)\r\n            notifListRef.current.style.left = (window.innerWidth - listRight) + \"px\";\r\n\r\n        notifListRef.current.style.visibility = \"visible\";\r\n    });\r\n\r\n    function getNotifs() {\r\n        axios.get(\"/notifs\")\r\n            .then(res => {\r\n                var nextRestart = res.data[0];\r\n                var notifs = res.data.slice(1);\r\n\r\n                setNextRestart(nextRestart);\r\n\r\n                updateNotifInfo({\r\n                    type: \"add\",\r\n                    notifs: notifs\r\n                });\r\n            })\r\n            .catch(() => { });\r\n    }\r\n\r\n    function viewedNotifs() {\r\n        axios.post(\"/notifs/viewed\")\r\n            .then(() => {\r\n                updateNotifInfo({ type: \"viewed\" });\r\n            })\r\n            .catch(() => { });\r\n    }\r\n\r\n    function onShowNotifsClick() {\r\n        setShowNotifList(!showNotifList);\r\n\r\n        if (!showNotifList && notifInfo.unread > 0)\r\n            viewedNotifs();\r\n    }\r\n\r\n    function onNotifClick(e, notif) {\r\n        if (!notif.link)\r\n            e.preventDefault();\r\n        else if (window.location.pathname == notif.link.split(\"?\")[0])\r\n            history.go(0);\r\n    }\r\n\r\n    const notifs = notifInfo.notifs.map(notif => (\r\n        <Link\r\n            className=\"notif\"\r\n            key={notif.id}\r\n            to={notif.link}\r\n            onClick={e => onNotifClick(e, notif)}>\r\n            {notif.icon &&\r\n                <i className={`fas fa-${notif.icon}`} />\r\n            }\r\n            <div className=\"info\">\r\n                <div className=\"time\">\r\n                    <Time\r\n                        millisec={Date.now() - notif.date}\r\n                        suffix=\" ago\" />\r\n                </div>\r\n                <div className=\"content\">\r\n                    {notif.content}\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    ));\r\n\r\n    return (\r\n        <div className=\"notifs-wrapper\">\r\n            <NotificationHolder\r\n                lOffset\r\n                notifCount={notifInfo.unread}\r\n                onClick={onShowNotifsClick}\r\n                fwdRef={bellRef}>\r\n                <i className=\"fas fa-bell\" />\r\n            </NotificationHolder>\r\n            {showNotifList &&\r\n                <div\r\n                    className=\"notif-list\"\r\n                    ref={notifListRef}>\r\n                    {notifs}\r\n                    {notifs.length == 0 &&\r\n                        \"No unread notifications\"\r\n                    }\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction useNotifInfoReducer() {\r\n    return useReducer((notifInfo, action) => {\r\n        var newNotifInfo;\r\n\r\n        switch (action.type) {\r\n            case \"add\":\r\n                var existingNotifIds = notifInfo.notifs.map(notif => notif.id);\r\n                var newNotifs = action.notifs.filter(notif => existingNotifIds.indexOf(notif.id) == -1);\r\n\r\n                newNotifInfo = update(notifInfo, {\r\n                    notifs: {\r\n                        $set: newNotifs.concat(notifInfo.notifs)\r\n                    },\r\n                    unread: {\r\n                        $set: notifInfo.unread + newNotifs.length\r\n                    }\r\n                });\r\n\r\n                // if (newNotifs.length > 0 && document.hidden && document.title.indexOf(\"🔴\") == -1)\r\n                //     document.title = document.title + \"🔴\";\r\n                break;\r\n            case \"viewed\":\r\n                newNotifInfo = update(notifInfo, {\r\n                    unread: {\r\n                        $set: 0\r\n                    }\r\n                });\r\n                break;\r\n        }\r\n\r\n        return newNotifInfo || notifInfo;\r\n    }, { notifs: [], unread: 0 });\r\n}\r\n\r\nfunction Footer() {\r\n    let year = (new Date()).getYear() + 1900;\r\n\r\n    return (\r\n        <div className=\"footer\">\r\n            <div className=\"footer-inner\">\r\n                <p>© {year} BeyondMafia</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\n\r\nimport Main from \"./Main\";\r\n\r\nReactDOM.render((\r\n    <Router>\r\n        <Main />\r\n    </Router>\r\n), document.getElementById(\"root\"));"],"sourceRoot":""}